(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-079678c7"],{"0fc0":function(e,t,n){},"161b":function(e,t,n){"use strict";n("2580")},1964:function(e,t,n){},"1e3f":function(e,t,n){},2580:function(e,t,n){},"2b78":function(e,t,n){"use strict";n("e35c")},"2bc5":function(e,t,n){"use strict";var r=n("5530"),i=(n("a15b"),n("abd3"),n("ade3")),a=n("1c87"),o=n("58df"),s=Object(o["a"])(a["a"]).extend({name:"v-breadcrumbs-item",props:{activeClass:{type:String,default:"v-breadcrumbs__item--disabled"},ripple:{type:[Boolean,Object],default:!1}},computed:{classes:function(){return Object(i["a"])({"v-breadcrumbs__item":!0},this.activeClass,this.disabled)}},render:function(e){var t=this.generateRouteLink(),n=t.tag,i=t.data;return e("li",[e(n,Object(r["a"])(Object(r["a"])({},i),{},{attrs:Object(r["a"])(Object(r["a"])({},i.attrs),{},{"aria-current":this.isActive&&this.isLink?"page":void 0})}),this.$slots.default)])}}),l=n("80d2"),c=Object(l["h"])("v-breadcrumbs__divider","li"),u=n("7560");t["a"]=Object(o["a"])(u["a"]).extend({name:"v-breadcrumbs",props:{divider:{type:String,default:"/"},items:{type:Array,default:function(){return[]}},large:Boolean},computed:{classes:function(){return Object(r["a"])({"v-breadcrumbs--large":this.large},this.themeClasses)}},methods:{genDivider:function(){return this.$createElement(c,this.$slots.divider?this.$slots.divider:this.divider)},genItems:function(){for(var e=[],t=!!this.$scopedSlots.item,n=[],r=0;r<this.items.length;r++){var i=this.items[r];n.push(i.text),t?e.push(this.$scopedSlots.item({item:i})):e.push(this.$createElement(s,{key:n.join("."),props:i},[i.text])),r<this.items.length-1&&e.push(this.genDivider())}return e}},render:function(e){var t=this.$slots.default||this.genItems();return e("ul",{staticClass:"v-breadcrumbs",class:this.classes},t)}})},"2c64":function(e,t,n){},"2db4":function(e,t,n){"use strict";var r=n("ade3"),i=(n("a9e3"),n("caad"),n("ca71"),n("8dd9")),a=n("a9ad"),o=n("7560"),s=n("f2e7"),l=n("fe6c"),c=n("58df"),u=n("80d2"),d=n("d9bd");t["a"]=Object(c["a"])(i["a"],a["a"],s["a"],Object(l["b"])(["absolute","bottom","left","right","top"])).extend({name:"v-snackbar",props:{app:Boolean,centered:Boolean,contentClass:{type:String,default:""},multiLine:Boolean,text:Boolean,timeout:{type:[Number,String],default:5e3},transition:{type:[Boolean,String],default:"v-snack-transition",validator:function(e){return"string"===typeof e||!1===e}},vertical:Boolean},data:function(){return{activeTimeout:-1}},computed:{classes:function(){return{"v-snack--absolute":this.absolute,"v-snack--active":this.isActive,"v-snack--bottom":this.bottom||!this.top,"v-snack--centered":this.centered,"v-snack--has-background":this.hasBackground,"v-snack--left":this.left,"v-snack--multi-line":this.multiLine&&!this.vertical,"v-snack--right":this.right,"v-snack--text":this.text,"v-snack--top":this.top,"v-snack--vertical":this.vertical}},hasBackground:function(){return!this.text&&!this.outlined},isDark:function(){return this.hasBackground?!this.light:o["a"].options.computed.isDark.call(this)},styles:function(){if(this.absolute)return{};var e=this.$vuetify.application,t=e.bar,n=e.bottom,r=e.footer,i=e.insetFooter,a=e.left,o=e.right,s=e.top;return{paddingBottom:Object(u["f"])(n+r+i),paddingLeft:this.app?Object(u["f"])(a):void 0,paddingRight:this.app?Object(u["f"])(o):void 0,paddingTop:Object(u["f"])(t+s)}}},watch:{isActive:"setTimeout",timeout:"setTimeout"},mounted:function(){this.isActive&&this.setTimeout()},created:function(){this.$attrs.hasOwnProperty("auto-height")&&Object(d["e"])("auto-height",this),0==this.timeout&&Object(d["d"])('timeout="0"',"-1",this)},methods:{genActions:function(){return this.$createElement("div",{staticClass:"v-snack__action "},[Object(u["o"])(this,"action",{attrs:{class:"v-snack__btn"}})])},genContent:function(){return this.$createElement("div",{staticClass:"v-snack__content",class:Object(r["a"])({},this.contentClass,!0),attrs:{role:"status","aria-live":"polite"}},[Object(u["o"])(this)])},genWrapper:function(){var e=this,t=this.hasBackground?this.setBackgroundColor:this.setTextColor,n=t(this.color,{staticClass:"v-snack__wrapper",class:i["a"].options.computed.classes.call(this),style:i["a"].options.computed.styles.call(this),directives:[{name:"show",value:this.isActive}],on:{mouseenter:function(){return window.clearTimeout(e.activeTimeout)},mouseleave:this.setTimeout}});return this.$createElement("div",n,[this.genContent(),this.genActions()])},genTransition:function(){return this.$createElement("transition",{props:{name:this.transition}},[this.genWrapper()])},setTimeout:function(){var e=this;window.clearTimeout(this.activeTimeout);var t=Number(this.timeout);this.isActive&&![0,-1].includes(t)&&(this.activeTimeout=window.setTimeout((function(){e.isActive=!1}),t))}},render:function(e){return e("div",{staticClass:"v-snack",class:this.classes,style:this.styles},[!1!==this.transition?this.genTransition():this.genWrapper()])}})},"2ee4":function(e,t,n){"use strict";n("8125")},3558:function(e,t,n){},"3a2f":function(e,t,n){"use strict";var r=n("ade3"),i=(n("a9e3"),n("9734"),n("4ad4")),a=n("a9ad"),o=n("16b7"),s=n("b848"),l=n("f573"),c=n("f2e7"),u=n("80d2"),d=n("d9bd"),p=n("58df");t["a"]=Object(p["a"])(a["a"],o["a"],s["a"],l["a"],c["a"]).extend({name:"v-tooltip",props:{closeDelay:{type:[Number,String],default:0},disabled:Boolean,fixed:{type:Boolean,default:!0},openDelay:{type:[Number,String],default:0},openOnHover:{type:Boolean,default:!0},tag:{type:String,default:"span"},transition:String},data:function(){return{calculatedMinWidth:0,closeDependents:!1}},computed:{calculatedLeft:function(){var e=this.dimensions,t=e.activator,n=e.content,r=!this.bottom&&!this.left&&!this.top&&!this.right,i=!1!==this.attach?t.offsetLeft:t.left,a=0;return this.top||this.bottom||r?a=i+t.width/2-n.width/2:(this.left||this.right)&&(a=i+(this.right?t.width:-n.width)+(this.right?10:-10)),this.nudgeLeft&&(a-=parseInt(this.nudgeLeft)),this.nudgeRight&&(a+=parseInt(this.nudgeRight)),"".concat(this.calcXOverflow(a,this.dimensions.content.width),"px")},calculatedTop:function(){var e=this.dimensions,t=e.activator,n=e.content,r=!1!==this.attach?t.offsetTop:t.top,i=0;return this.top||this.bottom?i=r+(this.bottom?t.height:-n.height)+(this.bottom?10:-10):(this.left||this.right)&&(i=r+t.height/2-n.height/2),this.nudgeTop&&(i-=parseInt(this.nudgeTop)),this.nudgeBottom&&(i+=parseInt(this.nudgeBottom)),"".concat(this.calcYOverflow(i+this.pageYOffset),"px")},classes:function(){return{"v-tooltip--top":this.top,"v-tooltip--right":this.right,"v-tooltip--bottom":this.bottom,"v-tooltip--left":this.left,"v-tooltip--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},computedTransition:function(){return this.transition?this.transition:this.isActive?"scale-transition":"fade-transition"},offsetY:function(){return this.top||this.bottom},offsetX:function(){return this.left||this.right},styles:function(){return{left:this.calculatedLeft,maxWidth:Object(u["f"])(this.maxWidth),minWidth:Object(u["f"])(this.minWidth),opacity:this.isActive?.9:0,top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},beforeMount:function(){var e=this;this.$nextTick((function(){e.value&&e.callActivate()}))},mounted:function(){"v-slot"===Object(u["p"])(this,"activator",!0)&&Object(d["b"])("v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'",this)},methods:{activate:function(){this.updateDimensions(),requestAnimationFrame(this.startTransition)},deactivate:function(){this.runDelay("close")},genActivatorListeners:function(){var e=this,t=i["a"].options.methods.genActivatorListeners.call(this);return t.focus=function(t){e.getActivator(t),e.runDelay("open")},t.blur=function(t){e.getActivator(t),e.runDelay("close")},t.keydown=function(t){t.keyCode===u["s"].esc&&(e.getActivator(t),e.runDelay("close"))},t},genActivatorAttributes:function(){return{"aria-haspopup":!0,"aria-expanded":String(this.isActive)}},genTransition:function(){var e=this.genContent();return this.computedTransition?this.$createElement("transition",{props:{name:this.computedTransition}},[e]):e},genContent:function(){var e;return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-tooltip__content",class:(e={},Object(r["a"])(e,this.contentClass,!0),Object(r["a"])(e,"menuable__content__active",this.isActive),Object(r["a"])(e,"v-tooltip__content--fixed",this.activatorFixed),e),style:this.styles,attrs:this.getScopeIdAttrs(),directives:[{name:"show",value:this.isContentActive}],ref:"content"}),this.getContentSlot())}},render:function(e){var t=this;return e(this.tag,{staticClass:"v-tooltip",class:this.classes},[this.showLazyContent((function(){return[t.genTransition()]})),this.genActivator()])}})},"3d86":function(e,t,n){},"429e":function(e,t,n){},"43a6":function(e,t,n){"use strict";var r=n("5530"),i=(n("a9e3"),n("ec29"),n("3d86"),n("c37a")),a=n("604c"),o=n("8547"),s=n("58df"),l=Object(s["a"])(o["a"],a["a"],i["a"]);t["a"]=l.extend({name:"v-radio-group",provide:function(){return{radioGroup:this}},props:{column:{type:Boolean,default:!0},height:{type:[Number,String],default:"auto"},name:String,row:Boolean,value:null},computed:{classes:function(){return Object(r["a"])(Object(r["a"])({},i["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--radio-group":!0,"v-input--radio-group--column":this.column&&!this.row,"v-input--radio-group--row":this.row})}},methods:{genDefaultSlot:function(){return this.$createElement("div",{staticClass:"v-input--radio-group__input",attrs:{id:this.id,role:"radiogroup","aria-labelledby":this.computedId}},i["a"].options.methods.genDefaultSlot.call(this))},genInputSlot:function(){var e=i["a"].options.methods.genInputSlot.call(this);return delete e.data.on.click,e},genLabel:function(){var e=i["a"].options.methods.genLabel.call(this);return e?(e.data.attrs.id=this.computedId,delete e.data.attrs.for,e.tag="legend",e):null},onClick:a["a"].options.methods.onClick}})},"4aba":function(e,t,n){},5311:function(e,t,n){"use strict";var r=n("5607"),i=n("2b0e");t["a"]=i["default"].extend({name:"rippleable",directives:{ripple:r["a"]},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.ripple?(e.staticClass="v-input--selection-controls__ripple",e.directives=e.directives||[],e.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",e)):null}}})},"5a15":function(e,t,n){"use strict";n("7114")},"63ef":function(e,t,n){"use strict";n("4aba")},"67b6":function(e,t,n){"use strict";var r=n("15fd"),i=n("5530"),a=(n("b0c0"),n("2c64"),n("ba87")),o=n("9d26"),s=n("c37a"),l=n("7e2b"),c=n("a9ad"),u=n("4e82"),d=n("5311"),p=n("7560"),h=n("fe09"),f=n("80d2"),m=n("58df"),v=n("d9f7"),g=["title"],b=Object(m["a"])(l["a"],c["a"],d["a"],Object(u["a"])("radioGroup"),p["a"]);t["a"]=b.extend().extend({name:"v-radio",inheritAttrs:!1,props:{disabled:Boolean,id:String,label:String,name:String,offIcon:{type:String,default:"$radioOff"},onIcon:{type:String,default:"$radioOn"},readonly:Boolean,value:{default:null}},data:function(){return{isFocused:!1}},computed:{classes:function(){return Object(i["a"])(Object(i["a"])({"v-radio--is-disabled":this.isDisabled,"v-radio--is-focused":this.isFocused},this.themeClasses),this.groupClasses)},computedColor:function(){return h["a"].options.computed.computedColor.call(this)},computedIcon:function(){return this.isActive?this.onIcon:this.offIcon},computedId:function(){return s["a"].options.computed.computedId.call(this)},hasLabel:s["a"].options.computed.hasLabel,hasState:function(){return(this.radioGroup||{}).hasState},isDisabled:function(){return this.disabled||!!this.radioGroup&&this.radioGroup.isDisabled},isReadonly:function(){return this.readonly||!!this.radioGroup&&this.radioGroup.isReadonly},computedName:function(){return this.name||!this.radioGroup?this.name:this.radioGroup.name||"radio-".concat(this.radioGroup._uid)},rippleState:function(){return h["a"].options.computed.rippleState.call(this)},validationState:function(){return(this.radioGroup||{}).validationState||this.computedColor}},methods:{genInput:function(e){return h["a"].options.methods.genInput.call(this,"radio",e)},genLabel:function(){return this.hasLabel?this.$createElement(a["a"],{on:{click:h["b"]},attrs:{for:this.computedId},props:{color:this.validationState,focused:this.hasState}},Object(f["o"])(this,"label")||this.label):null},genRadio:function(){var e=this.attrs$,t=(e.title,Object(r["a"])(e,g));return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(o["a"],this.setTextColor(this.validationState,{props:{dense:this.radioGroup&&this.radioGroup.dense}}),this.computedIcon),this.genInput(Object(i["a"])({name:this.computedName,value:this.value},t)),this.genRipple(this.setTextColor(this.rippleState))])},onFocus:function(e){this.isFocused=!0,this.$emit("focus",e)},onBlur:function(e){this.isFocused=!1,this.$emit("blur",e)},onChange:function(){this.isDisabled||this.isReadonly||this.isActive||this.toggle()},onKeydown:function(){}},render:function(e){var t={staticClass:"v-radio",class:this.classes,on:Object(v["b"])({click:this.onChange},this.listeners$),attrs:{title:this.attrs$.title}};return e("div",t,[this.genRadio(),this.genLabel()])}})},"6ca7":function(e,t,n){},"6f45":function(e,t,n){},7114:function(e,t,n){},"74e3":function(e,t,n){"use strict";n("3558")},"7dd7":function(e,t,n){"use strict";n("429e")},8125:function(e,t,n){},8836:function(e,t,n){},"88dc":function(e,t,n){"use strict";n("ff72")},"92c3":function(e,t,n){!function(t,n){e.exports=n()}(0,(function(){"use strict";var e,t=(function(e){var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(){r(this,e)}return t(e,[{key:"on",value:function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this}},{key:"emit",value:function(e){this._callbacks=this._callbacks||{};var t=this._callbacks[e];if(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=o=t;;){if(a>=o.length)break;o[a++].apply(this,r)}}return this}},{key:"off",value:function(e,t){if(!this._callbacks||0===arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1===arguments.length)return delete this._callbacks[e],this;for(var r=0;r<n.length;r++)if(n[r]===t){n.splice(r,1);break}return this}}]),e}(),a=function(e){function a(e,t){r(this,a);var i,o=n(this,(a.__proto__||Object.getPrototypeOf(a)).call(this)),s=void 0;if(o.element=e,o.version=a.version,o.defaultOptions.previewTemplate=o.defaultOptions.previewTemplate.replace(/\n*/g,""),o.clickableElements=[],o.listeners=[],o.files=[],"string"==typeof o.element&&(o.element=document.querySelector(o.element)),!o.element||null==o.element.nodeType)throw new Error("Invalid dropzone element.");if(o.element.dropzone)throw new Error("Dropzone already attached.");a.instances.push(o),o.element.dropzone=o;var l,c=null!=(i=a.optionsForElement(o.element))?i:{};if(o.options=a.extend({},o.defaultOptions,c,null!=t?t:{}),o.options.forceFallback||!a.isBrowserSupported())return l=o.options.fallback.call(o),n(o,l);if(null==o.options.url&&(o.options.url=o.element.getAttribute("action")),!o.options.url)throw new Error("No URL provided.");if(o.options.acceptedFiles&&o.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(o.options.uploadMultiple&&o.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return o.options.acceptedMimeTypes&&(o.options.acceptedFiles=o.options.acceptedMimeTypes,delete o.options.acceptedMimeTypes),null!=o.options.renameFilename&&(o.options.renameFile=function(e){return o.options.renameFilename.call(o,e.name,e)}),o.options.method=o.options.method.toUpperCase(),(s=o.getExistingFallback())&&s.parentNode&&s.parentNode.removeChild(s),!1!==o.options.previewsContainer&&(o.options.previewsContainer?o.previewsContainer=a.getElement(o.options.previewsContainer,"previewsContainer"):o.previewsContainer=o.element),o.options.clickable&&(!0===o.options.clickable?o.clickableElements=[o.element]:o.clickableElements=a.getElements(o.options.clickable,"clickable")),o.init(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,i),t(a,null,[{key:"initClass",value:function(){this.prototype.Emitter=i,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(e,t,n){if(n)return{dzuuid:n.file.upload.uuid,dzchunkindex:n.index,dztotalfilesize:n.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:n.file.upload.totalChunkCount,dzchunkbyteoffset:n.index*this.options.chunkSize}},accept:function(e,t){return t()},chunksUploaded:function(e,t){t()},fallback:function(){var e=void 0;this.element.className=this.element.className+" dz-browser-not-supported";for(var t=0,n=n=this.element.getElementsByTagName("div");;){if(t>=n.length)break;var r=n[t++];if(/(^| )dz-message($| )/.test(r.className)){e=r,r.className="dz-message";break}}e||(e=a.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(e));var i=e.getElementsByTagName("span")[0];return i&&(null!=i.textContent?i.textContent=this.options.dictFallbackMessage:null!=i.innerText&&(i.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(e,t,n,r){var i={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},a=e.width/e.height;null==t&&null==n?(t=i.srcWidth,n=i.srcHeight):null==t?t=n*a:null==n&&(n=t/a);var o=(t=Math.min(t,i.srcWidth))/(n=Math.min(n,i.srcHeight));if(i.srcWidth>t||i.srcHeight>n)if("crop"===r)a>o?(i.srcHeight=e.height,i.srcWidth=i.srcHeight*o):(i.srcWidth=e.width,i.srcHeight=i.srcWidth/o);else{if("contain"!==r)throw new Error("Unknown resizeMethod '"+r+"'");a>o?n=t/a:t=n*a}return i.srcX=(e.width-i.srcWidth)/2,i.srcY=(e.height-i.srcHeight)/2,i.trgWidth=t,i.trgHeight=n,i},transformFile:function(e,t){return(this.options.resizeWidth||this.options.resizeHeight)&&e.type.match(/image.*/)?this.resizeImage(e,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,t):t(e)},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',drop:function(e){return this.element.classList.remove("dz-drag-hover")},dragstart:function(e){},dragend:function(e){return this.element.classList.remove("dz-drag-hover")},dragenter:function(e){return this.element.classList.add("dz-drag-hover")},dragover:function(e){return this.element.classList.add("dz-drag-hover")},dragleave:function(e){return this.element.classList.remove("dz-drag-hover")},paste:function(e){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var t=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){e.previewElement=a.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement);for(var n=0,r=r=e.previewElement.querySelectorAll("[data-dz-name]");;){if(n>=r.length)break;var i=r[n++];i.textContent=e.name}for(var o=0,s=s=e.previewElement.querySelectorAll("[data-dz-size]");!(o>=s.length);)(i=s[o++]).innerHTML=this.filesize(e.size);this.options.addRemoveLinks&&(e._removeLink=a.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),e.previewElement.appendChild(e._removeLink));for(var l=function(n){return n.preventDefault(),n.stopPropagation(),e.status===a.UPLOADING?a.confirm(t.options.dictCancelUploadConfirmation,(function(){return t.removeFile(e)})):t.options.dictRemoveFileConfirmation?a.confirm(t.options.dictRemoveFileConfirmation,(function(){return t.removeFile(e)})):t.removeFile(e)},c=0,u=u=e.previewElement.querySelectorAll("[data-dz-remove]");;){if(c>=u.length)break;u[c++].addEventListener("click",l)}}},removedfile:function(e){return null!=e.previewElement&&null!=e.previewElement.parentNode&&e.previewElement.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){if(e.previewElement){e.previewElement.classList.remove("dz-file-preview");for(var n=0,r=r=e.previewElement.querySelectorAll("[data-dz-thumbnail]");;){if(n>=r.length)break;var i=r[n++];i.alt=e.name,i.src=t}return setTimeout((function(){return e.previewElement.classList.add("dz-image-preview")}),1)}},error:function(e,t){if(e.previewElement){e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error);for(var n=0,r=r=e.previewElement.querySelectorAll("[data-dz-errormessage]");;){if(n>=r.length)break;r[n++].textContent=t}}},errormultiple:function(){},processing:function(e){if(e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink))return e._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(e,t,n){if(e.previewElement)for(var r=0,i=i=e.previewElement.querySelectorAll("[data-dz-uploadprogress]");;){if(r>=i.length)break;var a=i[r++];"PROGRESS"===a.nodeName?a.value=t:a.style.width=t+"%"}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(e){if(e.previewElement)return e.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(e){return this.emit("error",e,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(e){if(e._removeLink&&(e._removeLink.innerHTML=this.options.dictRemoveFile),e.previewElement)return e.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}},this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=a=n;;){if(i>=a.length)break;var o=a[i++];for(var s in o){var l=o[s];e[s]=l}}return e}}]),t(a,[{key:"getAcceptedFiles",value:function(){return this.files.filter((function(e){return e.accepted})).map((function(e){return e}))}},{key:"getRejectedFiles",value:function(){return this.files.filter((function(e){return!e.accepted})).map((function(e){return e}))}},{key:"getFilesWithStatus",value:function(e){return this.files.filter((function(t){return t.status===e})).map((function(e){return e}))}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(a.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(a.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(a.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter((function(e){return e.status===a.UPLOADING||e.status===a.QUEUED})).map((function(e){return e}))}},{key:"init",value:function(){var e=this;"form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(a.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&function t(){return e.hiddenFileInput&&e.hiddenFileInput.parentNode.removeChild(e.hiddenFileInput),e.hiddenFileInput=document.createElement("input"),e.hiddenFileInput.setAttribute("type","file"),(null===e.options.maxFiles||e.options.maxFiles>1)&&e.hiddenFileInput.setAttribute("multiple","multiple"),e.hiddenFileInput.className="dz-hidden-input",null!==e.options.acceptedFiles&&e.hiddenFileInput.setAttribute("accept",e.options.acceptedFiles),null!==e.options.capture&&e.hiddenFileInput.setAttribute("capture",e.options.capture),e.hiddenFileInput.style.visibility="hidden",e.hiddenFileInput.style.position="absolute",e.hiddenFileInput.style.top="0",e.hiddenFileInput.style.left="0",e.hiddenFileInput.style.height="0",e.hiddenFileInput.style.width="0",a.getElement(e.options.hiddenInputContainer,"hiddenInputContainer").appendChild(e.hiddenFileInput),e.hiddenFileInput.addEventListener("change",(function(){var n=e.hiddenFileInput.files;if(n.length)for(var r=0,i=i=n;!(r>=i.length);){var a=i[r++];e.addFile(a)}return e.emit("addedfiles",n),t()}))}(),this.URL=null!==window.URL?window.URL:window.webkitURL;for(var t=0,n=n=this.events;;){if(t>=n.length)break;var r=n[t++];this.on(r,this.options[r])}this.on("uploadprogress",(function(){return e.updateTotalUploadProgress()})),this.on("removedfile",(function(){return e.updateTotalUploadProgress()})),this.on("canceled",(function(t){return e.emit("complete",t)})),this.on("complete",(function(t){if(0===e.getAddedFiles().length&&0===e.getUploadingFiles().length&&0===e.getQueuedFiles().length)return setTimeout((function(){return e.emit("queuecomplete")}),0)}));var i=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:function(t){return e.emit("dragstart",t)},dragenter:function(t){return i(t),e.emit("dragenter",t)},dragover:function(t){var n=void 0;try{n=t.dataTransfer.effectAllowed}catch(e){}return t.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy",i(t),e.emit("dragover",t)},dragleave:function(t){return e.emit("dragleave",t)},drop:function(t){return i(t),e.drop(t)},dragend:function(t){return e.emit("dragend",t)}}}],this.clickableElements.forEach((function(t){return e.listeners.push({element:t,events:{click:function(n){return(t!==e.element||n.target===e.element||a.elementInside(n.target,e.element.querySelector(".dz-message")))&&e.hiddenFileInput.click(),!0}}})})),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),(null!=this.hiddenFileInput?this.hiddenFileInput.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,a.instances.splice(a.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var e=void 0,t=0,n=0;if(this.getActiveFiles().length){for(var r=0,i=i=this.getActiveFiles();;){if(r>=i.length)break;var a=i[r++];t+=a.upload.bytesSent,n+=a.upload.total}e=100*t/n}else e=100;return this.emit("totaluploadprogress",e,n,t)}},{key:"_getParamName",value:function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):this.options.paramName+(this.options.uploadMultiple?"["+e+"]":"")}},{key:"_renameFile",value:function(e){return"function"!=typeof this.options.renameFile?e.name:this.options.renameFile(e)}},{key:"getFallbackForm",value:function(){var e,t=void 0;if(e=this.getExistingFallback())return e;var n='<div class="dz-fallback">';this.options.dictFallbackText&&(n+="<p>"+this.options.dictFallbackText+"</p>"),n+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>';var r=a.createElement(n);return"FORM"!==this.element.tagName?(t=a.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>')).appendChild(r):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=t?t:r}},{key:"getExistingFallback",value:function(){for(var e=function(e){for(var t=0,n=n=e;;){if(t>=n.length)break;var r=n[t++];if(/(^| )fallback($| )/.test(r.className))return r}},t=["div","form"],n=0;n<t.length;n++){var r,i=t[n];if(r=e(this.element.getElementsByTagName(i)))return r}}},{key:"setupEventListeners",value:function(){return this.listeners.map((function(e){return function(){var t=[];for(var n in e.events){var r=e.events[n];t.push(e.element.addEventListener(n,r,!1))}return t}()}))}},{key:"removeEventListeners",value:function(){return this.listeners.map((function(e){return function(){var t=[];for(var n in e.events){var r=e.events[n];t.push(e.element.removeEventListener(n,r,!1))}return t}()}))}},{key:"disable",value:function(){var e=this;return this.clickableElements.forEach((function(e){return e.classList.remove("dz-clickable")})),this.removeEventListeners(),this.disabled=!0,this.files.map((function(t){return e.cancelUpload(t)}))}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach((function(e){return e.classList.add("dz-clickable")})),this.setupEventListeners()}},{key:"filesize",value:function(e){var t=0,n="b";if(e>0){for(var r=["tb","gb","mb","kb","b"],i=0;i<r.length;i++){var a=r[i];if(e>=Math.pow(this.options.filesizeBase,4-i)/10){t=e/Math.pow(this.options.filesizeBase,4-i),n=a;break}}t=Math.round(10*t)/10}return"<strong>"+t+"</strong> "+this.options.dictFileSizeUnits[n]}},{key:"_updateMaxFilesReachedClass",value:function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(e){if(e.dataTransfer){this.emit("drop",e);for(var t=[],n=0;n<e.dataTransfer.files.length;n++)t[n]=e.dataTransfer.files[n];if(this.emit("addedfiles",t),t.length){var r=e.dataTransfer.items;r&&r.length&&null!=r[0].webkitGetAsEntry?this._addFilesFromItems(r):this.handleFiles(t)}}}},{key:"paste",value:function(e){if(null!=(t=null!=e?e.clipboardData:void 0,n=function(e){return e.items},null!=t?n(t):void 0)){var t,n;this.emit("paste",e);var r=e.clipboardData.items;return r.length?this._addFilesFromItems(r):void 0}}},{key:"handleFiles",value:function(e){for(var t=0,n=n=e;;){if(t>=n.length)break;var r=n[t++];this.addFile(r)}}},{key:"_addFilesFromItems",value:function(e){var t=this;return function(){for(var n=[],r=0,i=i=e;;){if(r>=i.length)break;var a,o=i[r++];null!=o.webkitGetAsEntry&&(a=o.webkitGetAsEntry())?a.isFile?n.push(t.addFile(o.getAsFile())):a.isDirectory?n.push(t._addFilesFromDirectory(a,a.name)):n.push(void 0):null==o.getAsFile||null!=o.kind&&"file"!==o.kind?n.push(void 0):n.push(t.addFile(o.getAsFile()))}return n}()}},{key:"_addFilesFromDirectory",value:function(e,t){var n=this,r=e.createReader(),i=function(e){return t=console,n="log",r=function(t){return t.log(e)},null!=t&&"function"==typeof t[n]?r(t,n):void 0;var t,n,r};return function e(){return r.readEntries((function(r){if(r.length>0){for(var i=0,a=a=r;!(i>=a.length);){var o=a[i++];o.isFile?o.file((function(e){if(!n.options.ignoreHiddenFiles||"."!==e.name.substring(0,1))return e.fullPath=t+"/"+e.name,n.addFile(e)})):o.isDirectory&&n._addFilesFromDirectory(o,t+"/"+o.name)}e()}return null}),i)}()}},{key:"accept",value:function(e,t){return this.options.maxFilesize&&e.size>1024*this.options.maxFilesize*1024?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):a.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,t):t(this.options.dictInvalidFileType)}},{key:"addFile",value:function(e){var t=this;return e.upload={uuid:a.uuidv4(),progress:0,total:e.size,bytesSent:0,filename:this._renameFile(e),chunked:this.options.chunking&&(this.options.forceChunking||e.size>this.options.chunkSize),totalChunkCount:Math.ceil(e.size/this.options.chunkSize)},this.files.push(e),e.status=a.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,(function(n){return n?(e.accepted=!1,t._errorProcessing([e],n)):(e.accepted=!0,t.options.autoQueue&&t.enqueueFile(e)),t._updateMaxFilesReachedClass()}))}},{key:"enqueueFiles",value:function(e){for(var t=0,n=n=e;;){if(t>=n.length)break;var r=n[t++];this.enqueueFile(r)}return null}},{key:"enqueueFile",value:function(e){var t=this;if(e.status!==a.ADDED||!0!==e.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(e.status=a.QUEUED,this.options.autoProcessQueue)return setTimeout((function(){return t.processQueue()}),0)}},{key:"_enqueueThumbnail",value:function(e){var t=this;if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(e),setTimeout((function(){return t._processThumbnailQueue()}),0)}},{key:"_processThumbnailQueue",value:function(){var e=this;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length){this._processingThumbnail=!0;var t=this._thumbnailQueue.shift();return this.createThumbnail(t,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,(function(n){return e.emit("thumbnail",t,n),e._processingThumbnail=!1,e._processThumbnailQueue()}))}}},{key:"removeFile",value:function(e){if(e.status===a.UPLOADING&&this.cancelUpload(e),this.files=o(this.files,e),this.emit("removedfile",e),0===this.files.length)return this.emit("reset")}},{key:"removeAllFiles",value:function(e){null==e&&(e=!1);for(var t=0,n=n=this.files.slice();;){if(t>=n.length)break;var r=n[t++];(r.status!==a.UPLOADING||e)&&this.removeFile(r)}return null}},{key:"resizeImage",value:function(e,t,n,r,i){var o=this;return this.createThumbnail(e,t,n,r,!0,(function(t,n){if(null==n)return i(e);var r=o.options.resizeMimeType;null==r&&(r=e.type);var s=n.toDataURL(r,o.options.resizeQuality);return"image/jpeg"!==r&&"image/jpg"!==r||(s=c.restore(e.dataURL,s)),i(a.dataURItoBlob(s))}))}},{key:"createThumbnail",value:function(e,t,n,r,i,a){var o=this,s=new FileReader;return s.onload=function(){if(e.dataURL=s.result,"image/svg+xml"!==e.type)return o.createThumbnailFromUrl(e,t,n,r,i,a);null!=a&&a(s.result)},s.readAsDataURL(e)}},{key:"createThumbnailFromUrl",value:function(e,t,n,r,i,a,o){var s=this,c=document.createElement("img");return o&&(c.crossOrigin=o),c.onload=function(){var o=function(e){return e(1)};return"undefined"!=typeof EXIF&&null!==EXIF&&i&&(o=function(e){return EXIF.getData(c,(function(){return e(EXIF.getTag(this,"Orientation"))}))}),o((function(i){e.width=c.width,e.height=c.height;var o=s.options.resize.call(s,e,t,n,r),u=document.createElement("canvas"),d=u.getContext("2d");switch(u.width=o.trgWidth,u.height=o.trgHeight,i>4&&(u.width=o.trgHeight,u.height=o.trgWidth),i){case 2:d.translate(u.width,0),d.scale(-1,1);break;case 3:d.translate(u.width,u.height),d.rotate(Math.PI);break;case 4:d.translate(0,u.height),d.scale(1,-1);break;case 5:d.rotate(.5*Math.PI),d.scale(1,-1);break;case 6:d.rotate(.5*Math.PI),d.translate(0,-u.width);break;case 7:d.rotate(.5*Math.PI),d.translate(u.height,-u.width),d.scale(-1,1);break;case 8:d.rotate(-.5*Math.PI),d.translate(-u.height,0)}l(d,c,null!=o.srcX?o.srcX:0,null!=o.srcY?o.srcY:0,o.srcWidth,o.srcHeight,null!=o.trgX?o.trgX:0,null!=o.trgY?o.trgY:0,o.trgWidth,o.trgHeight);var p=u.toDataURL("image/png");if(null!=a)return a(p,u)}))},null!=a&&(c.onerror=a),c.src=e.dataURL}},{key:"processQueue",value:function(){var e=this.options.parallelUploads,t=this.getUploadingFiles().length,n=t;if(!(t>=e)){var r=this.getQueuedFiles();if(r.length>0){if(this.options.uploadMultiple)return this.processFiles(r.slice(0,e-t));for(;n<e;){if(!r.length)return;this.processFile(r.shift()),n++}}}}},{key:"processFile",value:function(e){return this.processFiles([e])}},{key:"processFiles",value:function(e){for(var t=0,n=n=e;;){if(t>=n.length)break;var r=n[t++];r.processing=!0,r.status=a.UPLOADING,this.emit("processing",r)}return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)}},{key:"_getFilesWithXhr",value:function(e){return this.files.filter((function(t){return t.xhr===e})).map((function(e){return e}))}},{key:"cancelUpload",value:function(e){if(e.status===a.UPLOADING){for(var t=this._getFilesWithXhr(e.xhr),n=0,r=r=t;;){if(n>=r.length)break;r[n++].status=a.CANCELED}void 0!==e.xhr&&e.xhr.abort();for(var i=0,o=o=t;;){if(i>=o.length)break;var s=o[i++];this.emit("canceled",s)}this.options.uploadMultiple&&this.emit("canceledmultiple",t)}else e.status!==a.ADDED&&e.status!==a.QUEUED||(e.status=a.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(e){if("function"==typeof e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(this,n)}return e}},{key:"uploadFile",value:function(e){return this.uploadFiles([e])}},{key:"uploadFiles",value:function(e){var t=this;this._transformFiles(e,(function(n){if(e[0].upload.chunked){var r=e[0],i=n[0];r.upload.chunks=[];var o=function(){for(var n=0;void 0!==r.upload.chunks[n];)n++;if(!(n>=r.upload.totalChunkCount)){var o=n*t.options.chunkSize,s=Math.min(o+t.options.chunkSize,r.size),l={name:t._getParamName(0),data:i.webkitSlice?i.webkitSlice(o,s):i.slice(o,s),filename:r.upload.filename,chunkIndex:n};r.upload.chunks[n]={file:r,index:n,dataBlock:l,status:a.UPLOADING,progress:0,retries:0},t._uploadData(e,[l])}};if(r.upload.finishedChunkUpload=function(n){var i=!0;n.status=a.SUCCESS,n.dataBlock=null,n.xhr=null;for(var s=0;s<r.upload.totalChunkCount;s++){if(void 0===r.upload.chunks[s])return o();r.upload.chunks[s].status!==a.SUCCESS&&(i=!1)}i&&t.options.chunksUploaded(r,(function(){t._finished(e,"",null)}))},t.options.parallelChunkUploads)for(var s=0;s<r.upload.totalChunkCount;s++)o();else o()}else{for(var l=[],c=0;c<e.length;c++)l[c]={name:t._getParamName(c),data:n[c],filename:e[c].upload.filename};t._uploadData(e,l)}}))}},{key:"_getChunk",value:function(e,t){for(var n=0;n<e.upload.totalChunkCount;n++)if(void 0!==e.upload.chunks[n]&&e.upload.chunks[n].xhr===t)return e.upload.chunks[n]}},{key:"_uploadData",value:function(e,t){for(var n=this,r=new XMLHttpRequest,i=0,o=o=e;;){if(i>=o.length)break;o[i++].xhr=r}e[0].upload.chunked&&(e[0].upload.chunks[t[0].chunkIndex].xhr=r);var s=this.resolveOption(this.options.method,e),l=this.resolveOption(this.options.url,e);r.open(s,l,!0),r.timeout=this.resolveOption(this.options.timeout,e),r.withCredentials=!!this.options.withCredentials,r.onload=function(t){n._finishedUploading(e,r,t)},r.onerror=function(){n._handleUploadError(e,r)},(null!=r.upload?r.upload:r).onprogress=function(t){return n._updateFilesUploadProgress(e,r,t)};var c={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};for(var u in this.options.headers&&a.extend(c,this.options.headers),c){var d=c[u];d&&r.setRequestHeader(u,d)}var p=new FormData;if(this.options.params){var h=this.options.params;for(var f in"function"==typeof h&&(h=h.call(this,e,r,e[0].upload.chunked?this._getChunk(e[0],r):null)),h){var m=h[f];p.append(f,m)}}for(var v=0,g=g=e;;){if(v>=g.length)break;var b=g[v++];this.emit("sending",b,r,p)}this.options.uploadMultiple&&this.emit("sendingmultiple",e,r,p),this._addFormElementData(p);for(var y=0;y<t.length;y++){var _=t[y];p.append(_.name,_.data,_.filename)}this.submitRequest(r,p,e)}},{key:"_transformFiles",value:function(e,t){for(var n=this,r=[],i=0,a=function(a){n.options.transformFile.call(n,e[a],(function(n){r[a]=n,++i===e.length&&t(r)}))},o=0;o<e.length;o++)a(o)}},{key:"_addFormElementData",value:function(e){if("FORM"===this.element.tagName)for(var t=0,n=n=this.element.querySelectorAll("input, textarea, select, button");;){if(t>=n.length)break;var r=n[t++],i=r.getAttribute("name"),a=r.getAttribute("type");if(a&&(a=a.toLowerCase()),null!=i)if("SELECT"===r.tagName&&r.hasAttribute("multiple"))for(var o=0,s=s=r.options;;){if(o>=s.length)break;var l=s[o++];l.selected&&e.append(i,l.value)}else(!a||"checkbox"!==a&&"radio"!==a||r.checked)&&e.append(i,r.value)}}},{key:"_updateFilesUploadProgress",value:function(e,t,n){var r=void 0;if(void 0!==n){if(r=100*n.loaded/n.total,e[0].upload.chunked){var i=e[0],a=this._getChunk(i,t);a.progress=r,a.total=n.total,a.bytesSent=n.loaded,i.upload.progress=0,i.upload.total=0,i.upload.bytesSent=0;for(var o=0;o<i.upload.totalChunkCount;o++)void 0!==i.upload.chunks[o]&&void 0!==i.upload.chunks[o].progress&&(i.upload.progress+=i.upload.chunks[o].progress,i.upload.total+=i.upload.chunks[o].total,i.upload.bytesSent+=i.upload.chunks[o].bytesSent);i.upload.progress=i.upload.progress/i.upload.totalChunkCount}else for(var s=0,l=l=e;;){if(s>=l.length)break;var c=l[s++];c.upload.progress=r,c.upload.total=n.total,c.upload.bytesSent=n.loaded}for(var u=0,d=d=e;;){if(u>=d.length)break;var p=d[u++];this.emit("uploadprogress",p,p.upload.progress,p.upload.bytesSent)}}else{var h=!0;r=100;for(var f=0,m=m=e;;){if(f>=m.length)break;var v=m[f++];100===v.upload.progress&&v.upload.bytesSent===v.upload.total||(h=!1),v.upload.progress=r,v.upload.bytesSent=v.upload.total}if(h)return;for(var g=0,b=b=e;;){if(g>=b.length)break;var y=b[g++];this.emit("uploadprogress",y,r,y.upload.bytesSent)}}}},{key:"_finishedUploading",value:function(e,t,n){var r=void 0;if(e[0].status!==a.CANCELED&&4===t.readyState){if("arraybuffer"!==t.responseType&&"blob"!==t.responseType&&(r=t.responseText,t.getResponseHeader("content-type")&&~t.getResponseHeader("content-type").indexOf("application/json")))try{r=JSON.parse(r)}catch(e){n=e,r="Invalid JSON response from server."}this._updateFilesUploadProgress(e),200<=t.status&&t.status<300?e[0].upload.chunked?e[0].upload.finishedChunkUpload(this._getChunk(e[0],t)):this._finished(e,r,n):this._handleUploadError(e,t,r)}}},{key:"_handleUploadError",value:function(e,t,n){if(e[0].status!==a.CANCELED){if(e[0].upload.chunked&&this.options.retryChunks){var r=this._getChunk(e[0],t);if(r.retries++<this.options.retryChunksLimit)return void this._uploadData(e,[r.dataBlock]);console.warn("Retried this chunk too often. Giving up.")}for(var i=0,o=o=e;;){if(i>=o.length)break;o[i++],this._errorProcessing(e,n||this.options.dictResponseError.replace("{{statusCode}}",t.status),t)}}}},{key:"submitRequest",value:function(e,t,n){e.send(t)}},{key:"_finished",value:function(e,t,n){for(var r=0,i=i=e;;){if(r>=i.length)break;var o=i[r++];o.status=a.SUCCESS,this.emit("success",o,t,n),this.emit("complete",o)}if(this.options.uploadMultiple&&(this.emit("successmultiple",e,t,n),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(e,t,n){for(var r=0,i=i=e;;){if(r>=i.length)break;var o=i[r++];o.status=a.ERROR,this.emit("error",o,t,n),this.emit("complete",o)}if(this.options.uploadMultiple&&(this.emit("errormultiple",e,t,n),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}}]),a}();a.initClass(),a.version="5.5.1",a.options={},a.optionsForElement=function(e){return e.getAttribute("id")?a.options[s(e.getAttribute("id"))]:void 0},a.instances=[],a.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},a.autoDiscover=!0,a.discover=function(){var e=void 0;if(document.querySelectorAll)e=document.querySelectorAll(".dropzone");else{e=[];var t=function(t){return function(){for(var n=[],r=0,i=i=t;;){if(r>=i.length)break;var a=i[r++];/(^| )dropzone($| )/.test(a.className)?n.push(e.push(a)):n.push(void 0)}return n}()};t(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))}return function(){for(var t=[],n=0,r=r=e;;){if(n>=r.length)break;var i=r[n++];!1!==a.optionsForElement(i)?t.push(new a(i)):t.push(void 0)}return t}()},a.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],a.isBrowserSupported=function(){var e=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(var t=0,n=n=a.blacklistedBrowsers;;){if(t>=n.length)break;n[t++].test(navigator.userAgent)&&(e=!1)}else e=!1;else e=!1;return e},a.dataURItoBlob=function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),i=new Uint8Array(r),a=0,o=t.length,s=0<=o;s?a<=o:a>=o;s?a++:a--)i[a]=t.charCodeAt(a);return new Blob([r],{type:n})};var o=function(e,t){return e.filter((function(e){return e!==t})).map((function(e){return e}))},s=function(e){return e.replace(/[\-_](\w)/g,(function(e){return e.charAt(1).toUpperCase()}))};a.createElement=function(e){var t=document.createElement("div");return t.innerHTML=e,t.childNodes[0]},a.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},a.getElement=function(e,t){var n=void 0;if("string"==typeof e?n=document.querySelector(e):null!=e.nodeType&&(n=e),null==n)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return n},a.getElements=function(e,t){var n=void 0,r=void 0;if(e instanceof Array){r=[];try{for(var i=0,a=a=e;!(i>=a.length);)n=a[i++],r.push(this.getElement(n,t))}catch(e){r=null}}else if("string"==typeof e){r=[];for(var o=0,s=s=document.querySelectorAll(e);!(o>=s.length);)n=s[o++],r.push(n)}else null!=e.nodeType&&(r=[e]);if(null==r||!r.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return r},a.confirm=function(e,t,n){return window.confirm(e)?t():null!=n?n():void 0},a.isValidFile=function(e,t){if(!t)return!0;t=t.split(",");for(var n=e.type,r=n.replace(/\/.*$/,""),i=0,a=a=t;;){if(i>=a.length)break;var o=a[i++];if("."===(o=o.trim()).charAt(0)){if(-1!==e.name.toLowerCase().indexOf(o.toLowerCase(),e.name.length-o.length))return!0}else if(/\/\*$/.test(o)){if(r===o.replace(/\/.*$/,""))return!0}else if(n===o)return!0}return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(e){return this.each((function(){return new a(this,e)}))}),null!==e?e.exports=a:window.Dropzone=a,a.ADDED="added",a.QUEUED="queued",a.ACCEPTED=a.QUEUED,a.UPLOADING="uploading",a.PROCESSING=a.UPLOADING,a.CANCELED="canceled",a.ERROR="error",a.SUCCESS="success";var l=function(e,t,n,r,i,a,o,s,l,c){var u=function(e){e.naturalWidth;var t=e.naturalHeight,n=document.createElement("canvas");n.width=1,n.height=t;var r=n.getContext("2d");r.drawImage(e,0,0);for(var i=r.getImageData(1,0,1,t).data,a=0,o=t,s=t;s>a;)0===i[4*(s-1)+3]?o=s:a=s,s=o+a>>1;var l=s/t;return 0===l?1:l}(t);return e.drawImage(t,n,r,i,a,o,s,l,c/u)},c=function(){function e(){r(this,e)}return t(e,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(e){for(var t="",n=void 0,r=void 0,i="",a=void 0,o=void 0,s=void 0,l="",c=0;a=(n=e[c++])>>2,o=(3&n)<<4|(r=e[c++])>>4,s=(15&r)<<2|(i=e[c++])>>6,l=63&i,isNaN(r)?s=l=64:isNaN(i)&&(l=64),t=t+this.KEY_STR.charAt(a)+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(l),n=r=i="",a=o=s=l="",c<e.length;);return t}},{key:"restore",value:function(e,t){if(!e.match("data:image/jpeg;base64,"))return t;var n=this.decode64(e.replace("data:image/jpeg;base64,","")),r=this.slice2Segments(n),i=this.exifManipulation(t,r);return"data:image/jpeg;base64,"+this.encode64(i)}},{key:"exifManipulation",value:function(e,t){var n=this.getExifArray(t),r=this.insertExif(e,n);return new Uint8Array(r)}},{key:"getExifArray",value:function(e){for(var t=void 0,n=0;n<e.length;){if(255===(t=e[n])[0]&225===t[1])return t;n++}return[]}},{key:"insertExif",value:function(e,t){var n=e.replace("data:image/jpeg;base64,",""),r=this.decode64(n),i=r.indexOf(255,3),a=r.slice(0,i),o=r.slice(i),s=a;return(s=s.concat(t)).concat(o)}},{key:"slice2Segments",value:function(e){for(var t=0,n=[];;){if(255===e[t]&218===e[t+1])break;if(255===e[t]&216===e[t+1])t+=2;else{var r=t+(256*e[t+2]+e[t+3])+2,i=e.slice(t,r);n.push(i),t=r}if(t>e.length)break}return n}},{key:"decode64",value:function(e){var t=void 0,n=void 0,r="",i=void 0,a=void 0,o="",s=0,l=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(e)&&console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");t=this.KEY_STR.indexOf(e.charAt(s++))<<2|(i=this.KEY_STR.indexOf(e.charAt(s++)))>>4,n=(15&i)<<4|(a=this.KEY_STR.indexOf(e.charAt(s++)))>>2,r=(3&a)<<6|(o=this.KEY_STR.indexOf(e.charAt(s++))),l.push(t),64!==a&&l.push(n),64!==o&&l.push(r),t=n=r="",i=a=o="",s<e.length;);return l}}]),e}();c.initClass(),a._autoDiscoverFunction=function(){if(a.autoDiscover)return a.discover()},function(e,t){var n=!1,r=!0,i=e.document,a=i.documentElement,o=i.addEventListener?"addEventListener":"attachEvent",s=i.addEventListener?"removeEventListener":"detachEvent",l=i.addEventListener?"":"on",c=function r(a){if("readystatechange"!==a.type||"complete"===i.readyState)return("load"===a.type?e:i)[s](l+a.type,r,!1),!n&&(n=!0)?t.call(e,a.type||a):void 0};if("complete"!==i.readyState){if(i.createEventObject&&a.doScroll){try{r=!e.frameElement}catch(e){}r&&function e(){try{a.doScroll("left")}catch(t){return void setTimeout(e,50)}return c("poll")}()}i[o](l+"DOMContentLoaded",c,!1),i[o](l+"readystatechange",c,!1),e[o](l+"load",c,!1)}}(window,a._autoDiscoverFunction)}(e={exports:{}},e.exports),e.exports),n={getSignedURL(e,t){let n={filePath:e.name,contentType:e.type};return new Promise((r,i)=>{var a=new FormData;let o=new XMLHttpRequest,s="function"==typeof t.signingURL?t.signingURL(e):t.signingURL;o.open("POST",s),o.onload=function(){200==o.status?r(JSON.parse(o.response)):i(o.statusText)},o.onerror=function(e){console.error("Network Error : Could not send request to AWS (Maybe CORS errors)"),i(e)},!0===t.withCredentials&&(o.withCredentials=!0),Object.entries(t.headers||{}).forEach(([e,t])=>{o.setRequestHeader(e,t)}),n=Object.assign(n,t.params||{}),Object.entries(n).forEach(([e,t])=>{a.append(e,t)}),o.send(a)})},sendFile(e,t,n){var r=n?this.setResponseHandler:this.sendS3Handler;return this.getSignedURL(e,t).then(t=>r(t,e)).catch(e=>e)},setResponseHandler(e,t){t.s3Signature=e.signature,t.s3Url=e.postEndpoint},sendS3Handler(e,t){let n=new FormData,r=e.signature;return Object.keys(r).forEach((function(e){n.append(e,r[e])})),n.append("file",t),new Promise((t,r)=>{let i=new XMLHttpRequest;i.open("POST",e.postEndpoint),i.onload=function(){if(201==i.status){var e=(new window.DOMParser).parseFromString(i.response,"text/xml").firstChild.children[0].innerHTML;t({success:!0,message:e})}else{var n=(new window.DOMParser).parseFromString(i.response,"text/xml").firstChild.children[0].innerHTML;r({success:!1,message:n+". Request is marked as resolved when returns as status 201"})}},i.onerror=function(e){var t=(new window.DOMParser).parseFromString(i.response,"text/xml").firstChild.children[1].innerHTML;r({success:!1,message:t})},i.send(n)})}};return t.autoDiscover=!1,function(e,t,n,r,i,a,o,s,l,c){"boolean"!=typeof o&&(l=s,s=o,o=!1);var u,d="function"==typeof n?n.options:n;if(e&&e.render&&(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,i&&(d.functional=!0)),r&&(d._scopeId=r),a?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(a)},d._ssrRegister=u):t&&(u=o?function(){t.call(this,c(this.$root.$options.shadowRoot))}:function(e){t.call(this,s(e))}),u)if(d.functional){var p=d.render;d.render=function(e,t){return u.call(t),p(e,t)}}else{var h=d.beforeCreate;d.beforeCreate=h?[].concat(h,u):[u]}return n}({render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{ref:"dropzoneElement",class:{"vue-dropzone dropzone":this.includeStyling},attrs:{id:this.id}},[this.useCustomSlot?t("div",{staticClass:"dz-message"},[this._t("default",[this._v("Drop files here to upload")])],2):this._e()])},staticRenderFns:[]},void 0,{props:{id:{type:String,required:!0,default:"dropzone"},options:{type:Object,required:!0},includeStyling:{type:Boolean,default:!0,required:!1},awss3:{type:Object,required:!1,default:null},destroyDropzone:{type:Boolean,default:!0,required:!1},duplicateCheck:{type:Boolean,default:!1,required:!1},useCustomSlot:{type:Boolean,default:!1,required:!1}},data:()=>({isS3:!1,isS3OverridesServerPropagation:!1,wasQueueAutoProcess:!0}),computed:{dropzoneSettings(){let e={thumbnailWidth:200,thumbnailHeight:200};return Object.keys(this.options).forEach((function(t){e[t]=this.options[t]}),this),null!==this.awss3&&(e.autoProcessQueue=!1,this.isS3=!0,this.isS3OverridesServerPropagation=!1===this.awss3.sendFileToServer,void 0!==this.options.autoProcessQueue&&(this.wasQueueAutoProcess=this.options.autoProcessQueue),this.isS3OverridesServerPropagation&&(e.url=e=>e[0].s3Url)),e}},mounted(){if(this.$isServer&&this.hasBeenMounted)return;this.hasBeenMounted=!0,this.dropzone=new t(this.$refs.dropzoneElement,this.dropzoneSettings);let e=this;this.dropzone.on("thumbnail",(function(t,n){e.$emit("vdropzone-thumbnail",t,n)})),this.dropzone.on("addedfile",(function(t){var n,r;if(e.duplicateCheck&&this.files.length)for(n=0,r=this.files.length;n<r-1;n++)this.files[n].name===t.name&&this.files[n].size===t.size&&this.files[n].lastModifiedDate.toString()===t.lastModifiedDate.toString()&&(this.removeFile(t),e.$emit("vdropzone-duplicate-file",t));e.$emit("vdropzone-file-added",t),e.isS3&&e.wasQueueAutoProcess&&!t.manuallyAdded&&e.getSignedAndUploadToS3(t)})),this.dropzone.on("addedfiles",(function(t){e.$emit("vdropzone-files-added",t)})),this.dropzone.on("removedfile",(function(t){e.$emit("vdropzone-removed-file",t),t.manuallyAdded&&null!==e.dropzone.options.maxFiles&&e.dropzone.options.maxFiles++})),this.dropzone.on("success",(function(t,n){if(e.$emit("vdropzone-success",t,n),e.isS3){if(e.isS3OverridesServerPropagation){var r=(new window.DOMParser).parseFromString(n,"text/xml").firstChild.children[0].innerHTML;e.$emit("vdropzone-s3-upload-success",r)}e.wasQueueAutoProcess&&e.setOption("autoProcessQueue",!1)}})),this.dropzone.on("successmultiple",(function(t,n){e.$emit("vdropzone-success-multiple",t,n)})),this.dropzone.on("error",(function(t,n,r){e.$emit("vdropzone-error",t,n,r),this.isS3&&e.$emit("vdropzone-s3-upload-error")})),this.dropzone.on("errormultiple",(function(t,n,r){e.$emit("vdropzone-error-multiple",t,n,r)})),this.dropzone.on("sending",(function(t,n,r){if(e.isS3)if(e.isS3OverridesServerPropagation){let e=t.s3Signature;Object.keys(e).forEach((function(t){r.append(t,e[t])}))}else r.append("s3ObjectLocation",t.s3ObjectLocation);e.$emit("vdropzone-sending",t,n,r)})),this.dropzone.on("sendingmultiple",(function(t,n,r){e.$emit("vdropzone-sending-multiple",t,n,r)})),this.dropzone.on("complete",(function(t){e.$emit("vdropzone-complete",t)})),this.dropzone.on("completemultiple",(function(t){e.$emit("vdropzone-complete-multiple",t)})),this.dropzone.on("canceled",(function(t){e.$emit("vdropzone-canceled",t)})),this.dropzone.on("canceledmultiple",(function(t){e.$emit("vdropzone-canceled-multiple",t)})),this.dropzone.on("maxfilesreached",(function(t){e.$emit("vdropzone-max-files-reached",t)})),this.dropzone.on("maxfilesexceeded",(function(t){e.$emit("vdropzone-max-files-exceeded",t)})),this.dropzone.on("processing",(function(t){e.$emit("vdropzone-processing",t)})),this.dropzone.on("processingmultiple",(function(t){e.$emit("vdropzone-processing-multiple",t)})),this.dropzone.on("uploadprogress",(function(t,n,r){e.$emit("vdropzone-upload-progress",t,n,r)})),this.dropzone.on("totaluploadprogress",(function(t,n,r){e.$emit("vdropzone-total-upload-progress",t,n,r)})),this.dropzone.on("reset",(function(){e.$emit("vdropzone-reset")})),this.dropzone.on("queuecomplete",(function(){e.$emit("vdropzone-queue-complete")})),this.dropzone.on("drop",(function(t){e.$emit("vdropzone-drop",t)})),this.dropzone.on("dragstart",(function(t){e.$emit("vdropzone-drag-start",t)})),this.dropzone.on("dragend",(function(t){e.$emit("vdropzone-drag-end",t)})),this.dropzone.on("dragenter",(function(t){e.$emit("vdropzone-drag-enter",t)})),this.dropzone.on("dragover",(function(t){e.$emit("vdropzone-drag-over",t)})),this.dropzone.on("dragleave",(function(t){e.$emit("vdropzone-drag-leave",t)})),e.$emit("vdropzone-mounted")},beforeDestroy(){this.destroyDropzone&&this.dropzone.destroy()},methods:{manuallyAddFile:function(e,t){e.manuallyAdded=!0,this.dropzone.emit("addedfile",e);let n=!1;if((t.indexOf(".svg")>-1||t.indexOf(".png")>-1||t.indexOf(".jpg")>-1||t.indexOf(".jpeg")>-1||t.indexOf(".gif")>-1||t.indexOf(".webp")>-1)&&(n=!0),this.dropzone.options.createImageThumbnails&&n&&e.size<=1024*this.dropzone.options.maxThumbnailFilesize*1024){t&&this.dropzone.emit("thumbnail",e,t);for(var r=e.previewElement.querySelectorAll("[data-dz-thumbnail]"),i=0;i<r.length;i++)r[i].style.width=this.dropzoneSettings.thumbnailWidth+"px",r[i].style.height=this.dropzoneSettings.thumbnailHeight+"px",r[i].style["object-fit"]="contain"}this.dropzone.emit("complete",e),this.dropzone.options.maxFiles&&this.dropzone.options.maxFiles--,this.dropzone.files.push(e),this.$emit("vdropzone-file-added-manually",e)},setOption:function(e,t){this.dropzone.options[e]=t},removeAllFiles:function(e){this.dropzone.removeAllFiles(e)},processQueue:function(){let e=this.dropzone;this.isS3&&!this.wasQueueAutoProcess?this.getQueuedFiles().forEach(e=>{this.getSignedAndUploadToS3(e)}):this.dropzone.processQueue(),this.dropzone.on("success",(function(){e.options.autoProcessQueue=!0})),this.dropzone.on("queuecomplete",(function(){e.options.autoProcessQueue=!1}))},init:function(){return this.dropzone.init()},destroy:function(){return this.dropzone.destroy()},updateTotalUploadProgress:function(){return this.dropzone.updateTotalUploadProgress()},getFallbackForm:function(){return this.dropzone.getFallbackForm()},getExistingFallback:function(){return this.dropzone.getExistingFallback()},setupEventListeners:function(){return this.dropzone.setupEventListeners()},removeEventListeners:function(){return this.dropzone.removeEventListeners()},disable:function(){return this.dropzone.disable()},enable:function(){return this.dropzone.enable()},filesize:function(e){return this.dropzone.filesize(e)},accept:function(e,t){return this.dropzone.accept(e,t)},addFile:function(e){return this.dropzone.addFile(e)},removeFile:function(e){this.dropzone.removeFile(e)},getAcceptedFiles:function(){return this.dropzone.getAcceptedFiles()},getRejectedFiles:function(){return this.dropzone.getRejectedFiles()},getFilesWithStatus:function(){return this.dropzone.getFilesWithStatus()},getQueuedFiles:function(){return this.dropzone.getQueuedFiles()},getUploadingFiles:function(){return this.dropzone.getUploadingFiles()},getAddedFiles:function(){return this.dropzone.getAddedFiles()},getActiveFiles:function(){return this.dropzone.getActiveFiles()},getSignedAndUploadToS3(e){var t=n.sendFile(e,this.awss3,this.isS3OverridesServerPropagation);this.isS3OverridesServerPropagation?t.then(()=>{setTimeout(()=>this.dropzone.processFile(e))}):t.then(t=>{t.success?(e.s3ObjectLocation=t.message,setTimeout(()=>this.dropzone.processFile(e)),this.$emit("vdropzone-s3-upload-success",t.message)):void 0!==t.message?this.$emit("vdropzone-s3-upload-error",t.message):this.$emit("vdropzone-s3-upload-error","Network Error : Could not send request to AWS. (Maybe CORS error)")}),t.catch(e=>{alert(e)})},setAWSSigningURL(e){this.isS3&&(this.awss3.signingURL=e)}}},void 0,!1,void 0,void 0,void 0)}))},9734:function(e,t,n){},"9d01":function(e,t,n){},aa47:function(e,t,n){"use strict";
/**!
 * Sortable 1.10.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function s(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function l(e,t){if(null==e)return{};var n,r,i=s(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function c(e){return u(e)||d(e)||p()}function u(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function d(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance")}n.r(t),n.d(t,"MultiDrag",(function(){return Rt})),n.d(t,"Sortable",(function(){return Ze})),n.d(t,"Swap",(function(){return Et}));var h="1.10.2";function f(e){if("undefined"!==typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var m=f(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),v=f(/Edge/i),g=f(/firefox/i),b=f(/safari/i)&&!f(/chrome/i)&&!f(/android/i),y=f(/iP(ad|od|hone)/i),_=f(/chrome/i)&&f(/android/i),w={capture:!1,passive:!1};function C(e,t,n){e.addEventListener(t,n,!m&&w)}function x(e,t,n){e.removeEventListener(t,n,!m&&w)}function k(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(n){return!1}return!1}}function S(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function E(e,t,n,r){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&k(e,t):k(e,t))||r&&e===n)return e;if(e===n)break}while(e=S(e))}return null}var O,A=/\s+/g;function D(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(A," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(A," ")}}function F(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||-1!==t.indexOf("webkit")||(t="-webkit-"+t),r[t]=n+("string"===typeof n?"":"px")}}function I(e,t){var n="";if("string"===typeof e)n=e;else do{var r=F(e,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function P(e,t,n){if(e){var r=e.getElementsByTagName(t),i=0,a=r.length;if(n)for(;i<a;i++)n(r[i],i);return r}return[]}function T(){var e=document.scrollingElement;return e||document.documentElement}function z(e,t,n,r,i){if(e.getBoundingClientRect||e===window){var a,o,s,l,c,u,d;if(e!==window&&e!==T()?(a=e.getBoundingClientRect(),o=a.top,s=a.left,l=a.bottom,c=a.right,u=a.height,d=a.width):(o=0,s=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!m))do{if(i&&i.getBoundingClientRect&&("none"!==F(i,"transform")||n&&"static"!==F(i,"position"))){var p=i.getBoundingClientRect();o-=p.top+parseInt(F(i,"border-top-width")),s-=p.left+parseInt(F(i,"border-left-width")),l=o+a.height,c=s+a.width;break}}while(i=i.parentNode);if(r&&e!==window){var h=I(i||e),f=h&&h.a,v=h&&h.d;h&&(o/=v,s/=f,d/=f,u/=v,l=o+u,c=s+d)}return{top:o,left:s,bottom:l,right:c,width:d,height:u}}}function N(e,t,n){var r=L(e,!0),i=z(e)[t];while(r){var a=z(r)[n],o=void 0;if(o="top"===n||"left"===n?i>=a:i<=a,!o)return r;if(r===T())break;r=L(r,!1)}return!1}function j(e,t,n){var r=0,i=0,a=e.children;while(i<a.length){if("none"!==a[i].style.display&&a[i]!==Ze.ghost&&a[i]!==Ze.dragged&&E(a[i],n.draggable,e,!1)){if(r===t)return a[i];r++}i++}return null}function $(e,t){var n=e.lastElementChild;while(n&&(n===Ze.ghost||"none"===F(n,"display")||t&&!k(n,t)))n=n.previousElementSibling;return n||null}function R(e,t){var n=0;if(!e||!e.parentNode)return-1;while(e=e.previousElementSibling)"TEMPLATE"===e.nodeName.toUpperCase()||e===Ze.clone||t&&!k(e,t)||n++;return n}function M(e){var t=0,n=0,r=T();if(e)do{var i=I(e),a=i.a,o=i.d;t+=e.scrollLeft*a,n+=e.scrollTop*o}while(e!==r&&(e=e.parentNode));return[t,n]}function q(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n);return-1}function L(e,t){if(!e||!e.getBoundingClientRect)return T();var n=e,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=F(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return T();if(r||t)return n;r=!0}}}while(n=n.parentNode);return T()}function V(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function U(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function B(e,t){return function(){if(!O){var n=arguments,r=this;1===n.length?e.call(r,n[0]):e.apply(r,n),O=setTimeout((function(){O=void 0}),t)}}}function Y(){clearTimeout(O),O=void 0}function Q(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function H(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function W(e,t){F(e,"position","absolute"),F(e,"top",t.top),F(e,"left",t.left),F(e,"width",t.width),F(e,"height",t.height)}function G(e){F(e,"position",""),F(e,"top",""),F(e,"left",""),F(e,"width",""),F(e,"height","")}var X="Sortable"+(new Date).getTime();function K(){var e,t=[];return{captureAnimationState:function(){if(t=[],this.options.animation){var e=[].slice.call(this.el.children);e.forEach((function(e){if("none"!==F(e,"display")&&e!==Ze.ghost){t.push({target:e,rect:z(e)});var n=o({},t[t.length-1].rect);if(e.thisAnimationDuration){var r=I(e,!0);r&&(n.top-=r.f,n.left-=r.e)}e.fromRect=n}}))}},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(q(t,{target:e}),1)},animateAll:function(n){var r=this;if(!this.options.animation)return clearTimeout(e),void("function"===typeof n&&n());var i=!1,a=0;t.forEach((function(e){var t=0,n=e.target,o=n.fromRect,s=z(n),l=n.prevFromRect,c=n.prevToRect,u=e.rect,d=I(n,!0);d&&(s.top-=d.f,s.left-=d.e),n.toRect=s,n.thisAnimationDuration&&U(l,s)&&!U(o,s)&&(u.top-s.top)/(u.left-s.left)===(o.top-s.top)/(o.left-s.left)&&(t=J(u,l,c,r.options)),U(s,o)||(n.prevFromRect=o,n.prevToRect=s,t||(t=r.options.animation),r.animate(n,u,s,t)),t&&(i=!0,a=Math.max(a,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),i?e=setTimeout((function(){"function"===typeof n&&n()}),a):"function"===typeof n&&n(),t=[]},animate:function(e,t,n,r){if(r){F(e,"transition",""),F(e,"transform","");var i=I(this.el),a=i&&i.a,o=i&&i.d,s=(t.left-n.left)/(a||1),l=(t.top-n.top)/(o||1);e.animatingX=!!s,e.animatingY=!!l,F(e,"transform","translate3d("+s+"px,"+l+"px,0)"),Z(e),F(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),F(e,"transform","translate3d(0,0,0)"),"number"===typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){F(e,"transition",""),F(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),r)}}}}function Z(e){return e.offsetWidth}function J(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}var ee=[],te={initializeByDefault:!0},ne={mount:function(e){for(var t in te)te.hasOwnProperty(t)&&!(t in e)&&(e[t]=te[t]);ee.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var i=e+"Global";ee.forEach((function(r){t[r.pluginName]&&(t[r.pluginName][i]&&t[r.pluginName][i](o({sortable:t},n)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](o({sortable:t},n)))}))},initializePlugins:function(e,t,n,r){for(var i in ee.forEach((function(r){var i=r.pluginName;if(e.options[i]||r.initializeByDefault){var o=new r(e,t,e.options);o.sortable=e,o.options=e.options,e[i]=o,a(n,o.defaults)}})),e.options)if(e.options.hasOwnProperty(i)){var o=this.modifyOption(e,i,e.options[i]);"undefined"!==typeof o&&(e.options[i]=o)}},getEventProperties:function(e,t){var n={};return ee.forEach((function(r){"function"===typeof r.eventProperties&&a(n,r.eventProperties.call(t[r.pluginName],e))})),n},modifyOption:function(e,t,n){var r;return ee.forEach((function(i){e[i.pluginName]&&i.optionListeners&&"function"===typeof i.optionListeners[t]&&(r=i.optionListeners[t].call(e[i.pluginName],n))})),r}};function re(e){var t=e.sortable,n=e.rootEl,r=e.name,i=e.targetEl,a=e.cloneEl,s=e.toEl,l=e.fromEl,c=e.oldIndex,u=e.newIndex,d=e.oldDraggableIndex,p=e.newDraggableIndex,h=e.originalEvent,f=e.putSortable,g=e.extraEventProperties;if(t=t||n&&n[X],t){var b,y=t.options,_="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||m||v?(b=document.createEvent("Event"),b.initEvent(r,!0,!0)):b=new CustomEvent(r,{bubbles:!0,cancelable:!0}),b.to=s||n,b.from=l||n,b.item=i||n,b.clone=a,b.oldIndex=c,b.newIndex=u,b.oldDraggableIndex=d,b.newDraggableIndex=p,b.originalEvent=h,b.pullMode=f?f.lastPutMode:void 0;var w=o({},g,ne.getEventProperties(r,t));for(var C in w)b[C]=w[C];n&&n.dispatchEvent(b),y[_]&&y[_].call(t,b)}}var ie=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evt,i=l(n,["evt"]);ne.pluginEvent.bind(Ze)(e,t,o({dragEl:oe,parentEl:se,ghostEl:le,rootEl:ce,nextEl:ue,lastDownEl:de,cloneEl:pe,cloneHidden:he,dragStarted:Ee,putSortable:ye,activeSortable:Ze.active,originalEvent:r,oldIndex:fe,oldDraggableIndex:ve,newIndex:me,newDraggableIndex:ge,hideGhostForTarget:We,unhideGhostForTarget:Ge,cloneNowHidden:function(){he=!0},cloneNowShown:function(){he=!1},dispatchSortableEvent:function(e){ae({sortable:t,name:e,originalEvent:r})}},i))};function ae(e){re(o({putSortable:ye,cloneEl:pe,targetEl:oe,rootEl:ce,oldIndex:fe,oldDraggableIndex:ve,newIndex:me,newDraggableIndex:ge},e))}var oe,se,le,ce,ue,de,pe,he,fe,me,ve,ge,be,ye,_e,we,Ce,xe,ke,Se,Ee,Oe,Ae,De,Fe,Ie=!1,Pe=!1,Te=[],ze=!1,Ne=!1,je=[],$e=!1,Re=[],Me="undefined"!==typeof document,qe=y,Le=v||m?"cssFloat":"float",Ve=Me&&!_&&!y&&"draggable"in document.createElement("div"),Ue=function(){if(Me){if(m)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Be=function(e,t){var n=F(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=j(e,0,t),a=j(e,1,t),o=i&&F(i),s=a&&F(a),l=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+z(i).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+z(a).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&o["float"]&&"none"!==o["float"]){var u="left"===o["float"]?"left":"right";return!a||"both"!==s.clear&&s.clear!==u?"horizontal":"vertical"}return i&&("block"===o.display||"flex"===o.display||"table"===o.display||"grid"===o.display||l>=r&&"none"===n[Le]||a&&"none"===n[Le]&&l+c>r)?"vertical":"horizontal"},Ye=function(e,t,n){var r=n?e.left:e.top,i=n?e.right:e.bottom,a=n?e.width:e.height,o=n?t.left:t.top,s=n?t.right:t.bottom,l=n?t.width:t.height;return r===o||i===s||r+a/2===o+l/2},Qe=function(e,t){var n;return Te.some((function(r){if(!$(r)){var i=z(r),a=r[X].options.emptyInsertThreshold,o=e>=i.left-a&&e<=i.right+a,s=t>=i.top-a&&t<=i.bottom+a;return a&&o&&s?n=r:void 0}})),n},He=function(e){function t(e,n){return function(r,i,a,o){var s=r.options.group.name&&i.options.group.name&&r.options.group.name===i.options.group.name;if(null==e&&(n||s))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"===typeof e)return t(e(r,i,a,o),n)(r,i,a,o);var l=(n?r:i).options.group.name;return!0===e||"string"===typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var n={},i=e.group;i&&"object"==r(i)||(i={name:i}),n.name=i.name,n.checkPull=t(i.pull,!0),n.checkPut=t(i.put),n.revertClone=i.revertClone,e.group=n},We=function(){!Ue&&le&&F(le,"display","none")},Ge=function(){!Ue&&le&&F(le,"display","")};Me&&document.addEventListener("click",(function(e){if(Pe)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Pe=!1,!1}),!0);var Xe=function(e){if(oe){e=e.touches?e.touches[0]:e;var t=Qe(e.clientX,e.clientY);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[X]._onDragOver(n)}}},Ke=function(e){oe&&oe.parentNode[X]._isOutsideThisEl(e.target)};function Ze(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=a({},t),e[X]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Be(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Ze.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var r in ne.initializePlugins(this,e,n),n)!(r in t)&&(t[r]=n[r]);for(var i in He(t),this)"_"===i.charAt(0)&&"function"===typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&Ve,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?C(e,"pointerdown",this._onTapStart):(C(e,"mousedown",this._onTapStart),C(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(C(e,"dragover",this),C(e,"dragenter",this)),Te.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),a(this,K())}function Je(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function et(e,t,n,r,i,a,o,s){var l,c,u=e[X],d=u.options.onMove;return!window.CustomEvent||m||v?(l=document.createEvent("Event"),l.initEvent("move",!0,!0)):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=n,l.draggedRect=r,l.related=i||t,l.relatedRect=a||z(t),l.willInsertAfter=s,l.originalEvent=o,e.dispatchEvent(l),d&&(c=d.call(u,l,o)),c}function tt(e){e.draggable=!1}function nt(){$e=!1}function rt(e,t,n){var r=z($(n.el,n.options.draggable)),i=10;return t?e.clientX>r.right+i||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+i}function it(e,t,n,r,i,a,o,s){var l=r?e.clientY:e.clientX,c=r?n.height:n.width,u=r?n.top:n.left,d=r?n.bottom:n.right,p=!1;if(!o)if(s&&De<c*i){if(!ze&&(1===Ae?l>u+c*a/2:l<d-c*a/2)&&(ze=!0),ze)p=!0;else if(1===Ae?l<u+De:l>d-De)return-Ae}else if(l>u+c*(1-i)/2&&l<d-c*(1-i)/2)return at(t);return p=p||o,p&&(l<u+c*a/2||l>d-c*a/2)?l>u+c/2?1:-1:0}function at(e){return R(oe)<R(e)?1:-1}function ot(e){var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;while(n--)r+=t.charCodeAt(n);return r.toString(36)}function st(e){Re.length=0;var t=e.getElementsByTagName("input"),n=t.length;while(n--){var r=t[n];r.checked&&Re.push(r)}}function lt(e){return setTimeout(e,0)}function ct(e){return clearTimeout(e)}Ze.prototype={constructor:Ze,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(Oe=null)},_getDirection:function(e,t){return"function"===typeof this.options.direction?this.options.direction.call(this,e,t,oe):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,i=r.preventOnFilter,a=e.type,o=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(o||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,c=r.filter;if(st(n),!oe&&!(/mousedown|pointerdown/.test(a)&&0!==e.button||r.disabled)&&!l.isContentEditable&&(s=E(s,r.draggable,n,!1),(!s||!s.animated)&&de!==s)){if(fe=R(s),ve=R(s,r.draggable),"function"===typeof c){if(c.call(this,e,s,this))return ae({sortable:t,rootEl:l,name:"filter",targetEl:s,toEl:n,fromEl:n}),ie("filter",t,{evt:e}),void(i&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(r){if(r=E(l,r.trim(),n,!1),r)return ae({sortable:t,rootEl:r,name:"filter",targetEl:s,fromEl:n,toEl:n}),ie("filter",t,{evt:e}),!0})),c))return void(i&&e.cancelable&&e.preventDefault());r.handle&&!E(l,r.handle,n,!1)||this._prepareDragStart(e,o,s)}}},_prepareDragStart:function(e,t,n){var r,i=this,a=i.el,o=i.options,s=a.ownerDocument;if(n&&!oe&&n.parentNode===a){var l=z(n);if(ce=a,oe=n,se=oe.parentNode,ue=oe.nextSibling,de=n,be=o.group,Ze.dragged=oe,_e={target:oe,clientX:(t||e).clientX,clientY:(t||e).clientY},ke=_e.clientX-l.left,Se=_e.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,oe.style["will-change"]="all",r=function(){ie("delayEnded",i,{evt:e}),Ze.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!g&&i.nativeDraggable&&(oe.draggable=!0),i._triggerDragStart(e,t),ae({sortable:i,name:"choose",originalEvent:e}),D(oe,o.chosenClass,!0))},o.ignore.split(",").forEach((function(e){P(oe,e.trim(),tt)})),C(s,"dragover",Xe),C(s,"mousemove",Xe),C(s,"touchmove",Xe),C(s,"mouseup",i._onDrop),C(s,"touchend",i._onDrop),C(s,"touchcancel",i._onDrop),g&&this.nativeDraggable&&(this.options.touchStartThreshold=4,oe.draggable=!0),ie("delayStart",this,{evt:e}),!o.delay||o.delayOnTouchOnly&&!t||this.nativeDraggable&&(v||m))r();else{if(Ze.eventCanceled)return void this._onDrop();C(s,"mouseup",i._disableDelayedDrag),C(s,"touchend",i._disableDelayedDrag),C(s,"touchcancel",i._disableDelayedDrag),C(s,"mousemove",i._delayedDragTouchMoveHandler),C(s,"touchmove",i._delayedDragTouchMoveHandler),o.supportPointer&&C(s,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(r,o.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){oe&&tt(oe),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;x(e,"mouseup",this._disableDelayedDrag),x(e,"touchend",this._disableDelayedDrag),x(e,"touchcancel",this._disableDelayedDrag),x(e,"mousemove",this._delayedDragTouchMoveHandler),x(e,"touchmove",this._delayedDragTouchMoveHandler),x(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?C(document,"pointermove",this._onTouchMove):C(document,t?"touchmove":"mousemove",this._onTouchMove):(C(oe,"dragend",this),C(ce,"dragstart",this._onDragStart));try{document.selection?lt((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(e,t){if(Ie=!1,ce&&oe){ie("dragStarted",this,{evt:t}),this.nativeDraggable&&C(document,"dragover",Ke);var n=this.options;!e&&D(oe,n.dragClass,!1),D(oe,n.ghostClass,!0),Ze.active=this,e&&this._appendGhost(),ae({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(we){this._lastX=we.clientX,this._lastY=we.clientY,We();var e=document.elementFromPoint(we.clientX,we.clientY),t=e;while(e&&e.shadowRoot){if(e=e.shadowRoot.elementFromPoint(we.clientX,we.clientY),e===t)break;t=e}if(oe.parentNode[X]._isOutsideThisEl(e),t)do{if(t[X]){var n=void 0;if(n=t[X]._onDragOver({clientX:we.clientX,clientY:we.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Ge()}},_onTouchMove:function(e){if(_e){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,i=e.touches?e.touches[0]:e,a=le&&I(le,!0),o=le&&a&&a.a,s=le&&a&&a.d,l=qe&&Fe&&M(Fe),c=(i.clientX-_e.clientX+r.x)/(o||1)+(l?l[0]-je[0]:0)/(o||1),u=(i.clientY-_e.clientY+r.y)/(s||1)+(l?l[1]-je[1]:0)/(s||1);if(!Ze.active&&!Ie){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(le){a?(a.e+=c-(Ce||0),a.f+=u-(xe||0)):a={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");F(le,"webkitTransform",d),F(le,"mozTransform",d),F(le,"msTransform",d),F(le,"transform",d),Ce=c,xe=u,we=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!le){var e=this.options.fallbackOnBody?document.body:ce,t=z(oe,!0,qe,!0,e),n=this.options;if(qe){Fe=e;while("static"===F(Fe,"position")&&"none"===F(Fe,"transform")&&Fe!==document)Fe=Fe.parentNode;Fe!==document.body&&Fe!==document.documentElement?(Fe===document&&(Fe=T()),t.top+=Fe.scrollTop,t.left+=Fe.scrollLeft):Fe=T(),je=M(Fe)}le=oe.cloneNode(!0),D(le,n.ghostClass,!1),D(le,n.fallbackClass,!0),D(le,n.dragClass,!0),F(le,"transition",""),F(le,"transform",""),F(le,"box-sizing","border-box"),F(le,"margin",0),F(le,"top",t.top),F(le,"left",t.left),F(le,"width",t.width),F(le,"height",t.height),F(le,"opacity","0.8"),F(le,"position",qe?"absolute":"fixed"),F(le,"zIndex","100000"),F(le,"pointerEvents","none"),Ze.ghost=le,e.appendChild(le),F(le,"transform-origin",ke/parseInt(le.style.width)*100+"% "+Se/parseInt(le.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,i=n.options;ie("dragStart",this,{evt:e}),Ze.eventCanceled?this._onDrop():(ie("setupClone",this),Ze.eventCanceled||(pe=H(oe),pe.draggable=!1,pe.style["will-change"]="",this._hideClone(),D(pe,this.options.chosenClass,!1),Ze.clone=pe),n.cloneId=lt((function(){ie("clone",n),Ze.eventCanceled||(n.options.removeCloneOnHide||ce.insertBefore(pe,oe),n._hideClone(),ae({sortable:n,name:"clone"}))})),!t&&D(oe,i.dragClass,!0),t?(Pe=!0,n._loopId=setInterval(n._emulateDragOver,50)):(x(document,"mouseup",n._onDrop),x(document,"touchend",n._onDrop),x(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",i.setData&&i.setData.call(n,r,oe)),C(document,"drop",n),F(oe,"transform","translateZ(0)")),Ie=!0,n._dragStartId=lt(n._dragStarted.bind(n,t,e)),C(document,"selectstart",n),Ee=!0,b&&F(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,r,i,a=this.el,s=e.target,l=this.options,c=l.group,u=Ze.active,d=be===c,p=l.sort,h=ye||u,f=this,m=!1;if(!$e){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),s=E(s,l.draggable,a,!0),P("dragOver"),Ze.eventCanceled)return m;if(oe.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||f._ignoreWhileAnimating===s)return j(!1);if(Pe=!1,u&&!l.disabled&&(d?p||(r=!ce.contains(oe)):ye===this||(this.lastPutMode=be.checkPull(this,u,oe,e))&&c.checkPut(this,u,oe,e))){if(i="vertical"===this._getDirection(e,s),t=z(oe),P("dragOverValid"),Ze.eventCanceled)return m;if(r)return se=ce,T(),this._hideClone(),P("revert"),Ze.eventCanceled||(ue?ce.insertBefore(oe,ue):ce.appendChild(oe)),j(!0);var v=$(a,l.draggable);if(!v||rt(e,i,this)&&!v.animated){if(v===oe)return j(!1);if(v&&a===e.target&&(s=v),s&&(n=z(s)),!1!==et(ce,a,oe,t,s,n,e,!!s))return T(),a.appendChild(oe),se=a,M(),j(!0)}else if(s.parentNode===a){n=z(s);var g,b,y=0,_=oe.parentNode!==a,w=!Ye(oe.animated&&oe.toRect||t,s.animated&&s.toRect||n,i),C=i?"top":"left",x=N(s,"top","top")||N(oe,"top","top"),k=x?x.scrollTop:void 0;if(Oe!==s&&(g=n[C],ze=!1,Ne=!w&&l.invertSwap||_),y=it(e,s,n,i,w?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,Ne,Oe===s),0!==y){var S=R(oe);do{S-=y,b=se.children[S]}while(b&&("none"===F(b,"display")||b===le))}if(0===y||b===s)return j(!1);Oe=s,Ae=y;var O=s.nextElementSibling,A=!1;A=1===y;var I=et(ce,a,oe,t,s,n,e,A);if(!1!==I)return 1!==I&&-1!==I||(A=1===I),$e=!0,setTimeout(nt,30),T(),A&&!O?a.appendChild(oe):s.parentNode.insertBefore(oe,A?O:s),x&&Q(x,0,k-x.scrollTop),se=oe.parentNode,void 0===g||Ne||(De=Math.abs(g-z(s)[C])),M(),j(!0)}if(a.contains(oe))return j(!1)}return!1}function P(l,c){ie(l,f,o({evt:e,isOwner:d,axis:i?"vertical":"horizontal",revert:r,dragRect:t,targetRect:n,canSort:p,fromSortable:h,target:s,completed:j,onMove:function(n,r){return et(ce,a,oe,t,n,z(n),e,r)},changed:M},c))}function T(){P("dragOverAnimationCapture"),f.captureAnimationState(),f!==h&&h.captureAnimationState()}function j(t){return P("dragOverCompleted",{insertion:t}),t&&(d?u._hideClone():u._showClone(f),f!==h&&(D(oe,ye?ye.options.ghostClass:u.options.ghostClass,!1),D(oe,l.ghostClass,!0)),ye!==f&&f!==Ze.active?ye=f:f===Ze.active&&ye&&(ye=null),h===f&&(f._ignoreWhileAnimating=s),f.animateAll((function(){P("dragOverAnimationComplete"),f._ignoreWhileAnimating=null})),f!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(s===oe&&!oe.animated||s===a&&!s.animated)&&(Oe=null),l.dragoverBubble||e.rootEl||s===document||(oe.parentNode[X]._isOutsideThisEl(e.target),!t&&Xe(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function M(){me=R(oe),ge=R(oe,l.draggable),ae({sortable:f,name:"change",toEl:a,newIndex:me,newDraggableIndex:ge,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){x(document,"mousemove",this._onTouchMove),x(document,"touchmove",this._onTouchMove),x(document,"pointermove",this._onTouchMove),x(document,"dragover",Xe),x(document,"mousemove",Xe),x(document,"touchmove",Xe)},_offUpEvents:function(){var e=this.el.ownerDocument;x(e,"mouseup",this._onDrop),x(e,"touchend",this._onDrop),x(e,"pointerup",this._onDrop),x(e,"touchcancel",this._onDrop),x(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;me=R(oe),ge=R(oe,n.draggable),ie("drop",this,{evt:e}),se=oe&&oe.parentNode,me=R(oe),ge=R(oe,n.draggable),Ze.eventCanceled||(Ie=!1,Ne=!1,ze=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ct(this.cloneId),ct(this._dragStartId),this.nativeDraggable&&(x(document,"drop",this),x(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),b&&F(document.body,"user-select",""),F(oe,"transform",""),e&&(Ee&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),le&&le.parentNode&&le.parentNode.removeChild(le),(ce===se||ye&&"clone"!==ye.lastPutMode)&&pe&&pe.parentNode&&pe.parentNode.removeChild(pe),oe&&(this.nativeDraggable&&x(oe,"dragend",this),tt(oe),oe.style["will-change"]="",Ee&&!Ie&&D(oe,ye?ye.options.ghostClass:this.options.ghostClass,!1),D(oe,this.options.chosenClass,!1),ae({sortable:this,name:"unchoose",toEl:se,newIndex:null,newDraggableIndex:null,originalEvent:e}),ce!==se?(me>=0&&(ae({rootEl:se,name:"add",toEl:se,fromEl:ce,originalEvent:e}),ae({sortable:this,name:"remove",toEl:se,originalEvent:e}),ae({rootEl:se,name:"sort",toEl:se,fromEl:ce,originalEvent:e}),ae({sortable:this,name:"sort",toEl:se,originalEvent:e})),ye&&ye.save()):me!==fe&&me>=0&&(ae({sortable:this,name:"update",toEl:se,originalEvent:e}),ae({sortable:this,name:"sort",toEl:se,originalEvent:e})),Ze.active&&(null!=me&&-1!==me||(me=fe,ge=ve),ae({sortable:this,name:"end",toEl:se,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){ie("nulling",this),ce=oe=se=le=ue=pe=de=he=_e=we=Ee=me=ge=fe=ve=Oe=Ae=ye=be=Ze.dragged=Ze.ghost=Ze.clone=Ze.active=null,Re.forEach((function(e){e.checked=!0})),Re.length=Ce=xe=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":oe&&(this._onDragOver(e),Je(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e,t=[],n=this.el.children,r=0,i=n.length,a=this.options;r<i;r++)e=n[r],E(e,a.draggable,this.el,!1)&&t.push(e.getAttribute(a.dataIdAttr)||ot(e));return t},sort:function(e){var t={},n=this.el;this.toArray().forEach((function(e,r){var i=n.children[r];E(i,this.options.draggable,n,!1)&&(t[e]=i)}),this),e.forEach((function(e){t[e]&&(n.removeChild(t[e]),n.appendChild(t[e]))}))},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return E(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var r=ne.modifyOption(this,e,t);n[e]="undefined"!==typeof r?r:t,"group"===e&&He(n)},destroy:function(){ie("destroy",this);var e=this.el;e[X]=null,x(e,"mousedown",this._onTapStart),x(e,"touchstart",this._onTapStart),x(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(x(e,"dragover",this),x(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Te.splice(Te.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!he){if(ie("hideClone",this),Ze.eventCanceled)return;F(pe,"display","none"),this.options.removeCloneOnHide&&pe.parentNode&&pe.parentNode.removeChild(pe),he=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(he){if(ie("showClone",this),Ze.eventCanceled)return;ce.contains(oe)&&!this.options.group.revertClone?ce.insertBefore(pe,oe):ue?ce.insertBefore(pe,ue):ce.appendChild(pe),this.options.group.revertClone&&this.animate(oe,pe),F(pe,"display",""),he=!1}}else this._hideClone()}},Me&&C(document,"touchmove",(function(e){(Ze.active||Ie)&&e.cancelable&&e.preventDefault()})),Ze.utils={on:C,off:x,css:F,find:P,is:function(e,t){return!!E(e,t,e,!1)},extend:V,throttle:B,closest:E,toggleClass:D,clone:H,index:R,nextTick:lt,cancelNextTick:ct,detectDirection:Be,getChild:j},Ze.get=function(e){return e[X]},Ze.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Ze.utils=o({},Ze.utils,e.utils)),ne.mount(e)}))},Ze.create=function(e,t){return new Ze(e,t)},Ze.version=h;var ut,dt,pt,ht,ft,mt,vt=[],gt=!1;function bt(){function e(){for(var e in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"===typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?C(document,"dragover",this._handleAutoScroll):this.options.supportPointer?C(document,"pointermove",this._handleFallbackAutoScroll):t.touches?C(document,"touchmove",this._handleFallbackAutoScroll):C(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?x(document,"dragover",this._handleAutoScroll):(x(document,"pointermove",this._handleFallbackAutoScroll),x(document,"touchmove",this._handleFallbackAutoScroll),x(document,"mousemove",this._handleFallbackAutoScroll)),_t(),yt(),Y()},nulling:function(){ft=dt=ut=gt=mt=pt=ht=null,vt.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,r=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,a=document.elementFromPoint(r,i);if(ft=e,t||v||m||b){Ct(e,this.options,a,t);var o=L(a,!0);!gt||mt&&r===pt&&i===ht||(mt&&_t(),mt=setInterval((function(){var a=L(document.elementFromPoint(r,i),!0);a!==o&&(o=a,yt()),Ct(e,n.options,a,t)}),10),pt=r,ht=i)}else{if(!this.options.bubbleScroll||L(a,!0)===T())return void yt();Ct(e,this.options,L(a,!1),!1)}}},a(e,{pluginName:"scroll",initializeByDefault:!0})}function yt(){vt.forEach((function(e){clearInterval(e.pid)})),vt=[]}function _t(){clearInterval(mt)}var wt,Ct=B((function(e,t,n,r){if(t.scroll){var i,a=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,l=t.scrollSpeed,c=T(),u=!1;dt!==n&&(dt=n,yt(),ut=t.scroll,i=t.scrollFn,!0===ut&&(ut=L(n,!0)));var d=0,p=ut;do{var h=p,f=z(h),m=f.top,v=f.bottom,g=f.left,b=f.right,y=f.width,_=f.height,w=void 0,C=void 0,x=h.scrollWidth,k=h.scrollHeight,S=F(h),E=h.scrollLeft,O=h.scrollTop;h===c?(w=y<x&&("auto"===S.overflowX||"scroll"===S.overflowX||"visible"===S.overflowX),C=_<k&&("auto"===S.overflowY||"scroll"===S.overflowY||"visible"===S.overflowY)):(w=y<x&&("auto"===S.overflowX||"scroll"===S.overflowX),C=_<k&&("auto"===S.overflowY||"scroll"===S.overflowY));var A=w&&(Math.abs(b-a)<=s&&E+y<x)-(Math.abs(g-a)<=s&&!!E),D=C&&(Math.abs(v-o)<=s&&O+_<k)-(Math.abs(m-o)<=s&&!!O);if(!vt[d])for(var I=0;I<=d;I++)vt[I]||(vt[I]={});vt[d].vx==A&&vt[d].vy==D&&vt[d].el===h||(vt[d].el=h,vt[d].vx=A,vt[d].vy=D,clearInterval(vt[d].pid),0==A&&0==D||(u=!0,vt[d].pid=setInterval(function(){r&&0===this.layer&&Ze.active._onTouchMove(ft);var t=vt[this.layer].vy?vt[this.layer].vy*l:0,n=vt[this.layer].vx?vt[this.layer].vx*l:0;"function"===typeof i&&"continue"!==i.call(Ze.dragged.parentNode[X],n,t,e,ft,vt[this.layer].el)||Q(vt[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&p!==c&&(p=L(p,!1)));gt=u}}),30),xt=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,i=e.activeSortable,a=e.dispatchSortableEvent,o=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var l=n||i;o();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);s(),l&&!l.el.contains(u)&&(a("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function kt(){}function St(){}function Et(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(e){var t=e.dragEl;wt=t},dragOverValid:function(e){var t=e.completed,n=e.target,r=e.onMove,i=e.activeSortable,a=e.changed,o=e.cancel;if(i.options.swap){var s=this.sortable.el,l=this.options;if(n&&n!==s){var c=wt;!1!==r(n)?(D(n,l.swapClass,!0),wt=n):wt=null,c&&c!==wt&&D(c,l.swapClass,!1)}a(),t(!0),o()}},drop:function(e){var t=e.activeSortable,n=e.putSortable,r=e.dragEl,i=n||this.sortable,a=this.options;wt&&D(wt,a.swapClass,!1),wt&&(a.swap||n&&n.options.swap)&&r!==wt&&(i.captureAnimationState(),i!==t&&t.captureAnimationState(),Ot(r,wt),i.animateAll(),i!==t&&t.animateAll())},nulling:function(){wt=null}},a(e,{pluginName:"swap",eventProperties:function(){return{swapItem:wt}}})}function Ot(e,t){var n,r,i=e.parentNode,a=t.parentNode;i&&a&&!i.isEqualNode(t)&&!a.isEqualNode(e)&&(n=R(e),r=R(t),i.isEqualNode(a)&&n<r&&r++,i.insertBefore(t,i.children[n]),a.insertBefore(e,a.children[r]))}kt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=j(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:xt},a(kt,{pluginName:"revertOnSpill"}),St.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable,r=n||this.sortable;r.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),r.animateAll()},drop:xt},a(St,{pluginName:"removeOnSpill"});var At,Dt,Ft,It,Pt,Tt=[],zt=[],Nt=!1,jt=!1,$t=!1;function Rt(){function e(e){for(var t in this)"_"===t.charAt(0)&&"function"===typeof this[t]&&(this[t]=this[t].bind(this));e.options.supportPointer?C(document,"pointerup",this._deselectMultiDrag):(C(document,"mouseup",this._deselectMultiDrag),C(document,"touchend",this._deselectMultiDrag)),C(document,"keydown",this._checkKeyDown),C(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(t,n){var r="";Tt.length&&Dt===e?Tt.forEach((function(e,t){r+=(t?", ":"")+e.textContent})):r=n.textContent,t.setData("Text",r)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){var t=e.dragEl;Ft=t},delayEnded:function(){this.isMultiDrag=~Tt.indexOf(Ft)},setupClone:function(e){var t=e.sortable,n=e.cancel;if(this.isMultiDrag){for(var r=0;r<Tt.length;r++)zt.push(H(Tt[r])),zt[r].sortableIndex=Tt[r].sortableIndex,zt[r].draggable=!1,zt[r].style["will-change"]="",D(zt[r],this.options.selectedClass,!1),Tt[r]===Ft&&D(zt[r],this.options.chosenClass,!1);t._hideClone(),n()}},clone:function(e){var t=e.sortable,n=e.rootEl,r=e.dispatchSortableEvent,i=e.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||Tt.length&&Dt===t&&(qt(!0,n),r("clone"),i()))},showClone:function(e){var t=e.cloneNowShown,n=e.rootEl,r=e.cancel;this.isMultiDrag&&(qt(!1,n),zt.forEach((function(e){F(e,"display","")})),t(),Pt=!1,r())},hideClone:function(e){var t=this,n=(e.sortable,e.cloneNowHidden),r=e.cancel;this.isMultiDrag&&(zt.forEach((function(e){F(e,"display","none"),t.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)})),n(),Pt=!0,r())},dragStartGlobal:function(e){e.sortable;!this.isMultiDrag&&Dt&&Dt.multiDrag._deselectMultiDrag(),Tt.forEach((function(e){e.sortableIndex=R(e)})),Tt=Tt.sort((function(e,t){return e.sortableIndex-t.sortableIndex})),$t=!0},dragStarted:function(e){var t=this,n=e.sortable;if(this.isMultiDrag){if(this.options.sort&&(n.captureAnimationState(),this.options.animation)){Tt.forEach((function(e){e!==Ft&&F(e,"position","absolute")}));var r=z(Ft,!1,!0,!0);Tt.forEach((function(e){e!==Ft&&W(e,r)})),jt=!0,Nt=!0}n.animateAll((function(){jt=!1,Nt=!1,t.options.animation&&Tt.forEach((function(e){G(e)})),t.options.sort&&Lt()}))}},dragOver:function(e){var t=e.target,n=e.completed,r=e.cancel;jt&&~Tt.indexOf(t)&&(n(!1),r())},revert:function(e){var t=e.fromSortable,n=e.rootEl,r=e.sortable,i=e.dragRect;Tt.length>1&&(Tt.forEach((function(e){r.addAnimationState({target:e,rect:jt?z(e):i}),G(e),e.fromRect=i,t.removeAnimationState(e)})),jt=!1,Mt(!this.options.removeCloneOnHide,n))},dragOverCompleted:function(e){var t=e.sortable,n=e.isOwner,r=e.insertion,i=e.activeSortable,a=e.parentEl,o=e.putSortable,s=this.options;if(r){if(n&&i._hideClone(),Nt=!1,s.animation&&Tt.length>1&&(jt||!n&&!i.options.sort&&!o)){var l=z(Ft,!1,!0,!0);Tt.forEach((function(e){e!==Ft&&(W(e,l),a.appendChild(e))})),jt=!0}if(!n)if(jt||Lt(),Tt.length>1){var c=Pt;i._showClone(t),i.options.animation&&!Pt&&c&&zt.forEach((function(e){i.addAnimationState({target:e,rect:It}),e.fromRect=It,e.thisAnimationDuration=null}))}else i._showClone(t)}},dragOverAnimationCapture:function(e){var t=e.dragRect,n=e.isOwner,r=e.activeSortable;if(Tt.forEach((function(e){e.thisAnimationDuration=null})),r.options.animation&&!n&&r.multiDrag.isMultiDrag){It=a({},t);var i=I(Ft,!0);It.top-=i.f,It.left-=i.e}},dragOverAnimationComplete:function(){jt&&(jt=!1,Lt())},drop:function(e){var t=e.originalEvent,n=e.rootEl,r=e.parentEl,i=e.sortable,a=e.dispatchSortableEvent,o=e.oldIndex,s=e.putSortable,l=s||this.sortable;if(t){var c=this.options,u=r.children;if(!$t)if(c.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),D(Ft,c.selectedClass,!~Tt.indexOf(Ft)),~Tt.indexOf(Ft))Tt.splice(Tt.indexOf(Ft),1),At=null,re({sortable:i,rootEl:n,name:"deselect",targetEl:Ft,originalEvt:t});else{if(Tt.push(Ft),re({sortable:i,rootEl:n,name:"select",targetEl:Ft,originalEvt:t}),t.shiftKey&&At&&i.el.contains(At)){var d,p,h=R(At),f=R(Ft);if(~h&&~f&&h!==f)for(f>h?(p=h,d=f):(p=f,d=h+1);p<d;p++)~Tt.indexOf(u[p])||(D(u[p],c.selectedClass,!0),Tt.push(u[p]),re({sortable:i,rootEl:n,name:"select",targetEl:u[p],originalEvt:t}))}else At=Ft;Dt=l}if($t&&this.isMultiDrag){if((r[X].options.sort||r!==n)&&Tt.length>1){var m=z(Ft),v=R(Ft,":not(."+this.options.selectedClass+")");if(!Nt&&c.animation&&(Ft.thisAnimationDuration=null),l.captureAnimationState(),!Nt&&(c.animation&&(Ft.fromRect=m,Tt.forEach((function(e){if(e.thisAnimationDuration=null,e!==Ft){var t=jt?z(e):m;e.fromRect=t,l.addAnimationState({target:e,rect:t})}}))),Lt(),Tt.forEach((function(e){u[v]?r.insertBefore(e,u[v]):r.appendChild(e),v++})),o===R(Ft))){var g=!1;Tt.forEach((function(e){e.sortableIndex===R(e)||(g=!0)})),g&&a("update")}Tt.forEach((function(e){G(e)})),l.animateAll()}Dt=l}(n===r||s&&"clone"!==s.lastPutMode)&&zt.forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))}},nullingGlobal:function(){this.isMultiDrag=$t=!1,zt.length=0},destroyGlobal:function(){this._deselectMultiDrag(),x(document,"pointerup",this._deselectMultiDrag),x(document,"mouseup",this._deselectMultiDrag),x(document,"touchend",this._deselectMultiDrag),x(document,"keydown",this._checkKeyDown),x(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(("undefined"===typeof $t||!$t)&&Dt===this.sortable&&(!e||!E(e.target,this.options.draggable,this.sortable.el,!1))&&(!e||0===e.button))while(Tt.length){var t=Tt[0];D(t,this.options.selectedClass,!1),Tt.shift(),re({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:t,originalEvt:e})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},a(e,{pluginName:"multiDrag",utils:{select:function(e){var t=e.parentNode[X];t&&t.options.multiDrag&&!~Tt.indexOf(e)&&(Dt&&Dt!==t&&(Dt.multiDrag._deselectMultiDrag(),Dt=t),D(e,t.options.selectedClass,!0),Tt.push(e))},deselect:function(e){var t=e.parentNode[X],n=Tt.indexOf(e);t&&t.options.multiDrag&&~n&&(D(e,t.options.selectedClass,!1),Tt.splice(n,1))}},eventProperties:function(){var e=this,t=[],n=[];return Tt.forEach((function(r){var i;t.push({multiDragElement:r,index:r.sortableIndex}),i=jt&&r!==Ft?-1:jt?R(r,":not(."+e.options.selectedClass+")"):R(r),n.push({multiDragElement:r,index:i})})),{items:c(Tt),clones:[].concat(zt),oldIndicies:t,newIndicies:n}},optionListeners:{multiDragKey:function(e){return e=e.toLowerCase(),"ctrl"===e?e="Control":e.length>1&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})}function Mt(e,t){Tt.forEach((function(n,r){var i=t.children[n.sortableIndex+(e?Number(r):0)];i?t.insertBefore(n,i):t.appendChild(n)}))}function qt(e,t){zt.forEach((function(n,r){var i=t.children[n.sortableIndex+(e?Number(r):0)];i?t.insertBefore(n,i):t.appendChild(n)}))}function Lt(){Tt.forEach((function(e){e!==Ft&&e.parentNode&&e.parentNode.removeChild(e)}))}Ze.mount(new bt),Ze.mount(St,kt),t["default"]=Ze},abd3:function(e,t,n){},ac7c:function(e,t,n){"use strict";var r=n("15fd"),i=n("5530"),a=(n("d3b7"),n("25f0"),n("6ca7"),n("ec29"),n("9d26")),o=n("c37a"),s=n("fe09"),l=["title"];t["a"]=s["a"].extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data:function(){return{inputIndeterminate:this.indeterminate}},computed:{classes:function(){return Object(i["a"])(Object(i["a"])({},o["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate})},computedIcon:function(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState:function(){if(!this.isDisabled||this.inputIndeterminate)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0}},watch:{indeterminate:function(e){var t=this;this.$nextTick((function(){return t.inputIndeterminate=e}))},inputIndeterminate:function(e){this.$emit("update:indeterminate",e)},isActive:function(){this.indeterminate&&(this.inputIndeterminate=!1)}},methods:{genCheckbox:function(){var e=this.attrs$,t=(e.title,Object(r["a"])(e,l));return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(a["a"],this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon),this.genInput("checkbox",Object(i["a"])(Object(i["a"])({},t),{},{"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()})),this.genRipple(this.setTextColor(this.rippleState))])},genDefaultSlot:function(){return[this.genCheckbox(),this.genLabel()]}}})},ae8d:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"card"},[n("v-dialog",{attrs:{persistent:"","max-width":"1000",scrollable:"","data-cypress":"cardDialog"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[n("v-card",e._g(e._b({staticClass:"ma-2 border d-flex"},"v-card",i,!1),r),[n("v-card-subtitle",[e._v(" "+e._s(e.card.name)+" ")]),n("v-progress-circular",{staticClass:"mt-4 mr-5 ml-auto",attrs:{color:e.progressbarColor(e.listId)[0],value:e.progressbarColor(e.listId)[1],size:"24","data-cypress":"progressCircle"}})],1)]}}]),model:{value:e.cardDialog,callback:function(t){e.cardDialog=t},expression:"cardDialog"}},[n("v-card",{attrs:{"data-cypress":"cardInfo"}},[n("v-card-actions",{staticClass:"pt-2 pr-2 align-right backgroundColorPrimary"},[n("v-spacer"),n("v-btn",{attrs:{color:"white",icon:"","x-small":"",text:"","data-cypress":"cardDialogCloseBtn"},on:{click:function(t){e.cardDialog=!1}}},[n("v-icon",[e._v("clear")])],1)],1),n("v-card-title",{staticClass:"mb-2 headline backgroundColorPrimary"},[e._v(" "+e._s(e.card.name)+" ")]),n("v-card-text",[n("v-stepper",{attrs:{flat:"",vertical:""}},[n("v-stepper-step",{attrs:{step:"1",editable:""}},[e._v("Purchase Request")]),n("v-stepper-content",{staticClass:"greyText",attrs:{step:"1"}},[e._v(" Purchase request from "),n("span",{staticClass:"text"},[e._v(e._s(e.card.supplier_name))]),e._v(". Created on "),n("span",{staticClass:"text"},[e._v(e._s(e.dateFormat(e.card.createdOn)))]),e._v(" by "),n("span",{staticClass:"text"},[e._v(e._s(e.cardUser))]),e._v(". ")]),n("v-stepper-step",{attrs:{step:"2",editable:"","data-cypress":"quoteInfoBtn"},on:{click:function(t){e.counter+=1}}},[e._v(" Quote Information ")]),n("v-stepper-content",{attrs:{step:"2"}},[n("QuoteInfo",{attrs:{card:e.card,team:e.team}})],1),n("v-stepper-step",{attrs:{step:"3",editable:e.listId>=2||null!=e.card.technical_approval,"data-cypress":"technicalInfo"}},[e._v(" Technical Approval Information ")]),n("v-stepper-content",{attrs:{step:"3"}},[n("TechApproval",{attrs:{stepName:"technical",team:e.team,card:e.card,cardComments:e.cardComments,counter:e.counter,commentPosition:1,product:e.product}})],1),n("v-stepper-step",{attrs:{step:"4",editable:e.listId>=3||null!=e.card.purchase_approval}},[e._v(" Purchase Approval Information ")]),n("v-stepper-content",{attrs:{step:"4"}},[n("PurApproval",{attrs:{stepName:"purchase",team:e.team,card:e.card,cardComments:e.cardComments,counter:e.counter,commentPosition:2,product:e.product,rates:e.rates}})],1),n("v-stepper-step",{attrs:{step:"5",editable:e.listId>=4||null!=e.card.procured}},[e._v(" Purchase Information ")]),n("v-stepper-content",{attrs:{step:"5"}},[n("PurchaseInfo",{attrs:{stepName:"procurement",team:e.team,card:e.card,cardComments:e.cardComments,counter:e.counter,commentPosition:3,product:e.product}})],1),n("v-stepper-step",{attrs:{step:"6",editable:e.listId>=5||null!=e.card.procured}},[e._v(" Purchase Closure ")]),n("v-stepper-content",{attrs:{step:"6"}},[n("PurchaseClosure",{attrs:{stepName:"procurement_closure",team:e.team,card:e.card,cardComments:e.cardComments,counter:e.counter,commentPosition:4,product:e.product,rates:e.rates}})],1),n("v-stepper-step",{attrs:{step:"7",editable:e.listId>=5,"data-cypress":"qualityInfo"}},[e._v(" Quality Approval Information ")]),n("v-stepper-content",{attrs:{step:"7"}},[n("QualityInfo",{attrs:{team:e.team,card:e.card,cardComments:e.cardComments,counter:e.counter,commentPosition:5}})],1)],1)],1)],1)],1)],1)},i=[],a=(n("a9e3"),n("4de4"),n("b0c0"),n("d3b7"),n("b680"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[e._l(e.commentsPerPosition(e.position),(function(t){return r("div",{key:t.id},[r("v-row",{staticClass:"commentRow",attrs:{"data-cypress":"comments"}},[r("v-col",{attrs:{cols:"12",sm:"1",md:"1"}},[r("v-avatar",{attrs:{size:"44"}},[r("img",{attrs:{src:n("915e"),alt:"PersonAvatar"}})])],1),r("v-col",{staticClass:"d-flex align-center flex-wrap",attrs:{cols:"12",sm:"8",md:"8"}},[e._v(' "'+e._s(t.text)+'" ')]),r("v-col",{staticClass:"text-right text--secondary align-self-end NameTime",attrs:{cols:"12",sm:"3",md:"3"}},[r("span",{staticClass:"smallP"},[e._v("- "+e._s(t.username)+" ")]),r("span",{staticClass:"smallDate"},[e._v(" "+e._s(e.dateFormat(t.date))+" ")])])],1),r("v-divider")],1)})),r("div",{staticClass:"text-right bordertop2rem"},[e.newCommentAction?e._e():r("v-btn",{attrs:{color:"primary",small:"","data-cypress":"newCommentBtn"},on:{click:function(t){e.newCommentAction=!0}}},[e._v(" Notes ")])],1),e.newCommentAction?r("v-form",{staticClass:"text-right"},[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[r("v-text-field",{attrs:{label:"Submit a Note","data-cypress":"newCommentInput"},model:{value:e.newComment.text,callback:function(t){e.$set(e.newComment,"text",t)},expression:"newComment.text"}}),r("v-btn",{staticClass:"ml-3",attrs:{color:"primary",small:"","data-cypress":"submitNewCommentBtn"},on:{click:function(t){return e.SubmitComment(e.position)}}},[e._v(" Submit ")]),r("v-btn",{staticClass:"ml-3",attrs:{color:"primary",small:"","data-cypress":"cancelNewCommentBtn"},on:{click:function(t){e.newCommentAction=!1}}},[e._v(" Cancel ")])],1)],1)],1):e._e()],2)}),o=[],s=n("dc59"),l=n("c1df"),c=n.n(l),u={props:{cardComments:{type:Array,required:!0},cardId:{type:String,required:!0},position:{type:Number,required:!0}},data:function(){return{newComment:{text:"",position:""},newCommentAction:!1}},computed:{currentUser:function(){var e=this.$store.getters.getUserProfile;return e},nameSurname:function(){return this.currentUser.name+" "+this.currentUser.surname}},methods:{commentsPerPosition:function(e){var t=this.cardComments.filter((function(t){return t.position==e}));return t},dateFormat:function(e){var t=c()(e.toDate()).format("Do MMM YYYY");return t},SubmitComment:function(e){s["d"].collection("comments").add({card_id:this.cardId,text:this.newComment.text,createdOn:new Date,position:e,username:this.nameSurname}),this.newCommentAction=!1,this.newComment.text="",this.newComment.position=""}},mounted:function(){this.$store.dispatch("getUsers")}},d=u,p=(n("7dd7"),n("2877")),h=n("6544"),f=n.n(h),m=n("8212"),v=n("8336"),g=n("62ad"),b=n("ce7e"),y=n("4bd4"),_=n("0fd9"),w=n("8654"),C=Object(p["a"])(d,a,o,!1,null,"1c0d6182",null),x=C.exports;f()(C,{VAvatar:m["a"],VBtn:v["a"],VCol:g["a"],VDivider:b["a"],VForm:y["a"],VRow:_["a"],VTextField:w["a"]});var k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-form",{ref:"form",staticClass:"px-3"},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[n("v-text-field",{attrs:{label:"Supplier",readonly:e.editCardInfo,rules:e.inputRules,"data-cypress":"quoteSupplierName"},model:{value:e.newCard.supplier_name,callback:function(t){e.$set(e.newCard,"supplier_name",t)},expression:"newCard.supplier_name"}})],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[n("v-text-field",{attrs:{label:"Contact Person",readonly:e.editCardInfo,rules:e.inputRules,"data-cypress":"quoteContactPerson"},model:{value:e.newCard.contact_person,callback:function(t){e.$set(e.newCard,"contact_person",t)},expression:"newCard.contact_person"}})],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[n("v-text-field",{attrs:{label:"Contact Number",readonly:e.editCardInfo,rules:e.inputRulesConNum,"data-cypress":"quoteContactNumber"},model:{value:e.newCard.contact_number,callback:function(t){e.$set(e.newCard,"contact_number",t)},expression:"newCard.contact_number"}})],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[n("v-text-field",{attrs:{label:"Contact Email",readonly:e.editCardInfo,rules:e.inputRulesEmail,"data-cypress":"quoteContactEmail"},model:{value:e.newCard.supplier_email,callback:function(t){e.$set(e.newCard,"supplier_email",t)},expression:"newCard.supplier_email"}})],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[n("v-text-field",{attrs:{label:"Supplier Quote Ref Number",readonly:e.editCardInfo,rules:e.inputRules,"data-cypress":"quoteNum"},model:{value:e.newCard.supplier_quote_num,callback:function(t){e.$set(e.newCard,"supplier_quote_num",t)},expression:"newCard.supplier_quote_num"}})],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[n("p",[e._v("Attached Files")]),e._l(e.newCard.files,(function(t){return n("v-chip",{key:t.link,staticClass:"mx-1",attrs:{href:t.link,target:"_blank",color:"primary",dark:"",small:"",close:e.closeChip,"close-icon":"mdi-delete","data-cypress":"quoteFiles"},on:{"click:close":function(n){return e.deleteFile(t.file_name)}}},[e._v(" "+e._s(t.file_name)+" ")])})),e._l(e.files_count,(function(t){return n("v-chip",{key:t,staticClass:"mx-1",attrs:{color:"blue-grey lighten-2",dark:"",small:""}},[e._v(" Pending... ")])})),e.cardInfoEditingButtons?n("v-row",{staticClass:"text-right"},[n("v-spacer"),n("FileUploadDialog",{attrs:{programmeName:e.team.programme.programme_name,productId:e.card.product_id,cardId:e.card.id}})],1):e._e()],2),n("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[n("v-text-field",{attrs:{label:"Nanodyn Item Description",readonly:e.editCardInfo,rules:e.inputRules,"data-cypress":"quoteDesciption"},model:{value:e.newCard.nano_item_description,callback:function(t){e.$set(e.newCard,"nano_item_description",t)},expression:"newCard.nano_item_description"}})],1),e._l(e.lineItemsFiltered,(function(t){return n("v-col",{key:t.id,staticClass:"paddingLineItems",attrs:{cols:"12",sm:"12",md:"12"}},[n("v-row",[n("v-col",{attrs:{cols:"12",md:"2"}},[n("v-text-field",{attrs:{label:"Item Number",readonly:e.editCardInfo,rules:e.inputRulesRequired,"data-cypress":"lineItemName"},on:{change:function(n){return e.lineItemEdit(t.id,"item_number",t.item_number)}},model:{value:t.item_number,callback:function(n){e.$set(t,"item_number",n)},expression:"lineItem.item_number"}})],1),n("v-col",{attrs:{cols:"12",md:"3"}},[n("v-text-field",{attrs:{label:"Item Name",readonly:e.editCardInfo,rules:e.inputRules,"data-cypress":"lineItemNum"},on:{change:function(n){return e.lineItemEdit(t.id,"item_name",t.item_name)}},model:{value:t.item_name,callback:function(n){e.$set(t,"item_name",n)},expression:"lineItem.item_name"}})],1),n("v-col",{attrs:{cols:"12",md:"2"}},[n("v-text-field",{ref:t.id+"_quantity",refInFor:!0,attrs:{label:"Quantity",readonly:e.editCardInfo,rules:e.inputRulesRequired,"data-cypress":"lineItemQuantity"},on:{change:function(n){return e.lineItemEdit(t.id,"quantity",t.quantity)},focus:function(n){e.thisLineItem_quantity=t.quantity}},model:{value:t.quantity,callback:function(n){e.$set(t,"quantity",n)},expression:"lineItem.quantity"}})],1),n("v-col",{attrs:{cols:"12",md:"2"}},[n("v-text-field",{ref:t.id+"_unitPrice",refInFor:!0,attrs:{label:"Unit Price Exc "+e.nonVAT,readonly:e.editCardInfo,prefix:e.newCard.currency,rules:e.inputRulesMoney,"data-cypress":"lineItemUnitPrice"},on:{change:function(n){return e.lineItemEdit(t.id,"unit_price",t.unit_price)},focus:function(n){e.thisLineItem_unit_price=t.unit_price}},model:{value:t.unit_price,callback:function(n){e.$set(t,"unit_price",n)},expression:"lineItem.unit_price"}})],1),n("v-col",{attrs:{cols:"12",md:"3"}},["R"==e.newCard.currency?n("v-checkbox",{ref:t.id+"_exc_VAT",refInFor:!0,attrs:{readonly:e.editCardInfo,label:"Excl Item VAT",small:"","data-cypress":"lineItemUnitPrice"},on:{change:function(n){return e.lineItemEdit(t.id,"exc_VAT",t.exc_VAT)}},model:{value:t.exc_VAT,callback:function(n){e.$set(t,"exc_VAT",n)},expression:"lineItem.exc_VAT"}}):e._e()],1)],1)],1)})),n("v-col",{attrs:{cols:"12",sm:"3",md:"3"}},[n("v-text-field",{attrs:{label:"Lead Time",readonly:e.editCardInfo,suffix:"days",rules:e.inputRulesQuan,"data-cypress":"quoteLeadTime"},model:{value:e.newCard.lead_time,callback:function(t){e.$set(e.newCard,"lead_time",t)},expression:"newCard.lead_time"}})],1),n("v-col",{attrs:{cols:"12",sm:"9",md:"9"}},[n("v-text-field",{attrs:{label:"Payment Terms",readonly:e.editCardInfo,rules:e.inputRules,"data-cypress":"quotePaymentTerms"},model:{value:e.newCard.payment_terms,callback:function(t){e.$set(e.newCard,"payment_terms",t)},expression:"newCard.payment_terms"}})],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-text-field",{attrs:{label:""+e.nonVAT,readonly:e.editCardInfo,prefix:e.newCard.currency,rules:e.inputRulesVAT,"data-cypress":"quoteVAT"},model:{value:e.newCard.VAT,callback:function(t){e.$set(e.newCard,"VAT",t)},expression:"newCard.VAT"}})],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-text-field",{attrs:{label:"Total Price Exc "+e.nonVAT,readonly:e.editCardInfo,prefix:e.newCard.currency,rules:e.inputRulesMoney,"data-cypress":"quoteExclVAT"},model:{value:e.newCard.total_exc_vat,callback:function(t){e.$set(e.newCard,"total_exc_vat",t)},expression:"newCard.total_exc_vat"}})],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-text-field",{attrs:{label:"Total Price Inc "+e.nonVAT,readonly:e.editCardInfo,prefix:e.newCard.currency,rules:e.inputRulesMoney,"data-cypress":"quoteTotalIncVAT"},model:{value:e.newCard.total_inc_vat,callback:function(t){e.$set(e.newCard,"total_inc_vat",t)},expression:"newCard.total_inc_vat"}})],1),e.newCard.procured?e._e():n("v-col",{staticClass:"text-right",attrs:{cols:"12",sm:"12",md:"12"}},[e.cardInfoEditingButtons?e._e():n("v-btn",{staticClass:"deleteBtn",attrs:{color:"primary",dark:"",small:"","data-cypress":"cardDeleteBtn"},on:{click:e.deleteCard}},[e._v(" Delete ")]),e.cardInfoEditingButtons?e._e():n("v-btn",{staticClass:"editBtn",attrs:{color:"primary",dark:"",small:"","data-cypress":"cardEditBtn"},on:{click:e.editCard}},[e._v(" Edit ")]),e.cardInfoEditingButtons?n("v-btn",{staticClass:"deleteBtn",attrs:{color:"primary",dark:"",small:"","data-cypress":"cardEditCancelBtn"},on:{click:e.cancelCardInfoEdit}},[e._v(" Cancel ")]):e._e(),e.cardInfoEditingButtons?n("v-btn",{staticClass:"editBtn",attrs:{color:"primary",dark:"",small:"","data-cypress":"cardEditSaveBtn"},on:{click:e.saveCardInfoEdit}},[e._v(" Save ")]):e._e()],1)],2)],1)],1),n("v-snackbar",{attrs:{color:"red",timeout:"-1","content-class":"center","data-cypress":"editCardSnackBar"},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[n("v-icon",[e._v("create")]),e._v(" You are editing the card now. ")],1),n("v-snackbar",{staticClass:"text-center",attrs:{color:"green",timeout:"2000","data-cypress":"updatedCardSnackbar"},model:{value:e.savedAlert,callback:function(t){e.savedAlert=t},expression:"savedAlert"}},[n("v-icon",[e._v("check_circle")]),e._v(" Card updated! ")],1)],1)},S=[],E=n("ade3"),O=n("1da1"),A=n("5530"),D=(n("96cf"),n("ac1f"),n("466d"),n("7db0"),n("159b"),n("a434"),n("2f62")),F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[n("v-btn",e._g(e._b({attrs:{color:"primary","x-small":"",dark:""}},"v-btn",i,!1),r),[e._v("Add File")])]}}]),model:{value:e.fileUploadDialog,callback:function(t){e.fileUploadDialog=t},expression:"fileUploadDialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline primary"},[e._v(" Upload New File ")]),n("v-card-text",{staticClass:"cardText"},[n("vue-dropzone",{ref:"myVueDropzone",attrs:{id:"customdropzone",options:e.dropzoneOptions,"include-styling":!1,useCustomSlot:!0},on:{"vdropzone-file-added":e.fileAdded,"vdropzone-thumbnail":e.thumbnail}},[n("div",{staticClass:"dropzone-custom-content"},[n("h3",{staticStyle:{"font-weight":"200"}},[n("v-icon",{attrs:{medium:""}},[e._v("backup")]),e._v(" Drop files here to upload ")],1)])])],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.fileUploadDialog=!1}}},[e._v(" Cancel ")]),n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return e.uploadFilesFunc()}}},[e._v(" Upload ")])],1)],1)],1)},I=[],P=(n("99af"),n("92c3")),T=n.n(P),z=(n("1e3f"),{components:{vueDropzone:T.a},props:{cardId:{type:String,required:!0},productId:{type:String,required:!0},programmeName:{type:String,required:!0}},data:function(){return{dropzoneOptions:{url:"https://httpbin.org/post",previewTemplate:this.template(),uploadMultiple:!0},files:[],fileUploadDialog:!1}},methods:{fileAdded:function(e){this.files.push(e)},template:function(){return'<div class="dz-preview dz-file-preview" style=" position: relative; display: inline-block;  margin-left: 5px; width: 100px;height: 60px;padding: 8px;background-color: rgba(0, 0, 0, 0.05); text-align: center; border-radius: 10px;">\n                  <span data-dz-remove>\n                  <i style="transform: translate(45px, -15px);" class="material-icons">cancel</i>\n                  </span>\n                  <div class="dz-image">\n                      <div data-dz-thumbnail></div>\n                  </div>\n                  <div class="dz-details" style="transform: translate(0px, -18px)">\n                      <div class="dz-filename" style="overflow: hidden; height: 20px"><span data-dz-name></span></div>\n                  </div>\n                  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n                  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n                  <div class="dz-success-mark"><i class="fa fa-check"></i></div>\n                  <div class="dz-error-mark"><i class="fa fa-close"></i></div>\n\n            </div>\n        '},thumbnail:function(e,t){var n,r,i,a;if(e.previewElement){for(e.previewElement.classList.remove("dz-file-preview"),i=e.previewElement.querySelectorAll("[data-dz-thumbnail-bg]"),n=0,r=i.length;n<r;n++)a=i[n],a.alt=e.name,a.style.backgroundImage='url("'+t+'")';return setTimeout(function(){return function(){return e.previewElement.classList.add("dz-image-preview")}}(),1)}},uploadFiles:function(e,t){var n=this;e.forEach((function(e){var r=e.name,i=s["j"].ref().child("Quotes/".concat(n.programmeName,"/").concat(n.productId,"/").concat(t,"/").concat(r));i.put(e)}))},uploadFilesFunc:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.uploadFiles(e.files,e.cardId);case 2:return n=s["d"].collection("cards").doc(e.cardId),t.next=5,n.get();case 5:return r=t.sent,i=r.data().files_count,t.next=9,n.update({files_count:i+1});case 9:e.fileUploadDialog=!1;case 10:case"end":return t.stop()}}),t)})))()}}}),N=z,j=(n("2b78"),n("b0af")),$=n("99d9"),R=n("169a"),M=n("132d"),q=n("2fa4"),L=Object(p["a"])(N,F,I,!1,null,"0a7a3477",null),V=L.exports;f()(L,{VBtn:v["a"],VCard:j["a"],VCardActions:$["a"],VCardText:$["c"],VCardTitle:$["d"],VDialog:R["a"],VIcon:M["a"],VSpacer:q["a"]});var U={components:{FileUploadDialog:V},props:{card:{type:Object,require:!0},team:{type:Object,require:!0}},data:function(){return{cardInfoEditingButtons:!1,closeChip:!1,editCardInfo:!0,fileRules:[function(e){return!!e||"File is required"},function(e){return e&&e.length>0||"File is required"}],newCard:{name:this.card.name,supplier_name:this.card.supplier_name,contact_person:this.card.contact_person,contact_number:this.card.contact_number,supplier_email:this.card.supplier_email,supplier_quote_num:this.card.supplier_quote_num,nano_item_description:this.card.nano_item_description,supplier_item_num:this.card.supp_item_num,supplier_item_name:this.card.supp_item_name,quantity:this.card.quantity,unit_price:this.card.unit_price,lead_time:this.card.lead_time,VAT:this.card.VAT,total_inc_vat:this.card.total_inc_vat,total_exc_vat:this.card.total_exc_vat,files:this.card.files,files_count:this.card.files_count,technical_approval:this.card.technical_approval,purchase_approval:this.card.purchase_approval,procured:this.card.procured,receiver_approval:this.card.receiver_approval,quality_approval:this.card.quality_approval,purchase_order:this.card.purchase_order,quality_photos:this.card.quality_photos,payment_terms:this.card.payment_terms,currency:this.card.currency,quality_approver:this.card.team.quality_approver.user,receiver:this.card.team.receiver,hubdoc:this.card.hubdoc,PO_number:this.card.PO_number,POP:this.card.POP},inputRules:[function(e){return e.length>=3||"Minimum length is 3 characters"}],inputRulesConNum:[function(e){return e.match(/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/)||"Invalid contact number"}],inputRulesEmail:[function(e){return/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(e)||"Invalid email"}],inputRulesMoney:[function(e){return e.match(/^\d+(?:\.\d{0,2})$/)||"Must be in the format R0.00"},function(e){return e.length>=4||"Minimum length is 4 characters"}],inputRulesRequired:[function(e){return!!e||"Required"}],inputRulesQuan:[function(e){return e%1==0||"Must be a whole number"},function(e){return!!e||"Required"}],inputRulesVAT:[function(e){return e.match(/^\d+(?:\.\d{0,2})$/)||"Must be in the format R0.00"}],savedAlert:!1,snackbar:!1}},computed:Object(A["a"])(Object(A["a"])({},Object(D["d"])({cards:function(e){return e.cards}})),{},{card2:function(){var e=this;return this.cards.find((function(t){return t.id==e.card.id}))},files_count:function(){var e=this.$store.getters.getFilesCount(this.card.id),t=e[0]-this.newCard.files.length;return t},lineItemsFiltered:function(){var e=this.$store.getters.getLineItemsByCardId(this.card.id);return e},nonVAT:function(){return"R"!=this.newCard.currency?"Customs Duty":"VAT"}}),methods:{cancelCardInfoEdit:function(){this.cardInfoEditingButtons=!1,this.editCardInfo=!0,this.snackbar=!1,this.closeChip=!1,this.newCard={name:this.card.name,supplier_name:this.card.supplier_name,contact_person:this.card.contact_person,contact_number:this.card.contact_number,supplier_email:this.card.supplier_email,supplier_quote_num:this.card.supplier_quote_num,nano_item_description:this.card.nano_item_description,supplier_item_num:this.card.supp_item_num,supplier_item_name:this.card.supp_item_name,quantity:this.card.quantity,unit_price:this.card.unit_price,lead_time:this.card.lead_time,VAT:this.card.VAT,total_inc_vat:this.card.total_inc_vat,total_exc_vat:this.card.total_exc_vat,files:this.card.files,technical_approval:this.card.technical_approval,purchase_approval:this.card.purchase_approval,procured:this.card.procured,receiver_approval:this.card.receiver_approval,quality_approval:this.card.quality_approval,purchase_order:this.card.purchase_order,quality_photos:this.card.quality_photos,payment_terms:this.card.payment_terms,currency:this.card.currency,quality_approver:this.card.team.quality_approver.user,receiver:this.card.team.receiver}},deleteCard:function(){var e=this;this.$confirm({message:"Are you sure you want to delete this card permanantly?",button:{no:"No",yes:"Yes"},callback:function(t){if(t){var n=s["d"].collection("cards").doc(e.card.id);n.delete(),e.lineItemsFiltered.forEach((function(e){var t=e.id,n=s["d"].collection("line_items").doc(t);n.delete()}))}}})},deleteFile:function(e){var t=this;this.$confirm({message:"Are you sure you want to delete this file permanantly?",button:{no:"No",yes:"Yes"},callback:function(){var n=Object(O["a"])(regeneratorRuntime.mark((function n(r){var i,a,o,l,c,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!r){n.next=14;break}return i=s["d"].collection("cards").doc(t.card.id),n.next=4,i.get();case 4:return a=n.sent,o=a.data().files_count,n.next=8,i.update({files_count:o-1});case 8:l=t.newCard.files.find((function(t){return t.file_name==e})),c=t.newCard.files.indexOf(l),u=t.newCard.files,u.splice(c,1),t.newCard.files=u,i.update({files:u});case 14:case"end":return n.stop()}}),n)})));function r(e){return n.apply(this,arguments)}return r}()})},editCard:function(){this.cardInfoEditingButtons=!0,this.editCardInfo=!1,this.snackbar=!0,this.closeChip=!0},lineItemEdit:function(e,t,n){var r=this;return Object(O["a"])(regeneratorRuntime.mark((function i(){var a,o,l,c,u,d,p,h,f,m,v;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!r.$refs.form.validate()){i.next=21;break}return a=s["d"].collection("line_items").doc(e),"unit_price"==t?r.$refs["".concat(e,"_quantity")][0].focus():"quantity"==t&&r.$refs["".concat(e,"_unitPrice")][0].focus(),i.next=5,a.update(Object(E["a"])({},t,n));case 5:o=r.$refs["".concat(e,"_quantity")][0].value,l=r.$refs["".concat(e,"_unitPrice")][0].value,c=[],r.lineItemsFiltered.forEach((function(t){t.id==e&&(t.unit_price=l,t.quantity=o),c.push({id:t.id,price:Number(t.quantity)*Number(t.unit_price),exc_VAT:t.exc_VAT})})),c.reduce((function(e,t){return Number(e)+Number(t.price)}),0),u=0,d=0,c.forEach((function(e){1==e.exc_VAT?(Number(e.price),u+=Number(e.price)):d+=Number(e.price)})),p=(.15*d).toFixed(2),h=Number(d)+Number(u),f=h.toFixed(2),m=Number(d)+Number(u)+Number(p),v=m.toFixed(2),r.newCard.VAT=p,r.newCard.total_exc_vat=f,r.newCard.total_inc_vat=v;case 21:case"end":return i.stop()}}),i)})))()},saveCardInfoEdit:function(){if(this.cardInfoEditingButtons=!1,this.editCardInfo=!0,this.snackbar=!1,this.closeChip=!1,this.$refs.form.validate()){var e=s["d"].collection("cards").doc(this.card.id);e.update({name:this.newCard.name,supplier_name:this.newCard.supplier_name,contact_person:this.newCard.contact_person,contact_number:this.newCard.contact_number,supplier_email:this.newCard.supplier_email,supplier_quote_num:this.newCard.supplier_quote_num,nano_item_description:this.newCard.nano_item_description,lead_time:this.newCard.lead_time,payment_terms:this.newCard.payment_terms,VAT:this.newCard.VAT,total_inc_vat:this.newCard.total_inc_vat,total_exc_vat:this.newCard.total_exc_vat,lineItems:this.lineItemsFiltered})}this.savedAlert=!0}},mounted:function(){}},B=U,Y=(n("161b"),n("ac7c")),Q=n("cc20"),H=n("a523"),W=n("2db4"),G=Object(p["a"])(B,k,S,!1,null,"44529584",null),X=G.exports;f()(G,{VBtn:v["a"],VCheckbox:Y["a"],VChip:Q["a"],VCol:g["a"],VContainer:H["a"],VForm:y["a"],VIcon:M["a"],VRow:_["a"],VSnackbar:W["a"],VSpacer:q["a"],VTextField:w["a"]});var K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-form",[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[n("v-text-field",{attrs:{label:e.stepNameFn(e.stepName,3)+" Personal:"},model:{value:e.team[e.stepNameFn(e.stepName,2)].users[0].text,callback:function(t){e.$set(e.team[e.stepNameFn(e.stepName,2)].users[0],"text",t)},expression:"team[stepNameFn(stepName, 2)].users[0].text"}})],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[n("v-tooltip",{attrs:{top:"",disabled:e.checkIfUserInAuthorityArray(e.team[e.stepNameFn(e.stepName,2)]).boolean},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[n("div",e._g(e._b({},"div",i,!1),r),[n("v-radio-group",{attrs:{row:"",label:e.stepNameFn(e.stepName,3)+":",disabled:!e.checkIfUserInAuthorityArray(e.team[e.stepNameFn(e.stepName,2)]).boolean},model:{value:e.newCard[e.stepNameFn(e.stepName,1)],callback:function(t){e.$set(e.newCard,e.stepNameFn(e.stepName,1),t)},expression:"newCard[stepNameFn(stepName, 1)]"}},[n("v-radio",{attrs:{label:"Accept",value:Boolean(!0)},on:{click:function(t){e.handleClick(e.team[e.stepNameFn(e.stepName,2)],""+e.stepNameFn(e.stepName,1))}}}),n("v-radio",{attrs:{label:"Reject",value:Boolean(!1)},on:{click:function(t){e.handleClick(e.team[e.stepNameFn(e.stepName,2)],""+e.stepNameFn(e.stepName,1))}}})],1)],1)]}}])},[n("span",[e._v(" "+e._s(e.checkIfUserInAuthorityArray(e.team[e.stepNameFn(e.stepName,2)]).message)+" ")])]),n("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.confirmationDialog,callback:function(t){e.confirmationDialog=t},expression:"confirmationDialog"}})],1),n("v-row",[0==e.newCard[e.stepNameFn(e.stepName,1)]?n("v-container",{attrs:{fluid:""}},[n("v-row",{attrs:{"align-content":"center",justify:"center"}},[n("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[n("v-card-title",{staticClass:"rejectMsg"},[e._v(" "+e._s(e.stepNameFn(e.stepName,3))+" Rejected ")])],1)],1)],1):e._e()],1),n("Comments",{attrs:{cardComments:e.cardComments,position:e.commentPosition,cardId:e.card.id}})],1)],1)],1)},Z=[],J=(n("caad"),n("25f0"),n("fb6a"),{components:{Comments:x},props:{card:{type:Object,required:!0},cardComments:{type:Array,required:!0},commentPosition:{type:Number,required:!0},counter:{type:Number,required:!0},product:{type:Object,required:!0},stepName:{type:String,required:!0},team:{type:Object,required:!0}},data:function(){return{confirmationDialog:!1,newCard:{purchase_approval:this.card.purchase_approval,technical_approval:this.card.technical_approval}}},computed:Object(A["a"])(Object(A["a"])({},Object(D["d"])({currentUser:function(e){return e.profile.userProfile}})),{},{msgClass:function(){return this.newCard[this.stepNameFn(this.stepName,1)]?"acceptMsg":"rejectMsg"}}),methods:{addPaymentsToCard:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=s["d"].collection("cards").doc(e.card.id),t.next=3,n.update({payments:[{committed:!1,date:"",payment:"Final Payment",value:e.card.total_inc_vat}]});case 3:case"end":return t.stop()}}),t)})))()},approvedStatus:function(e){return 1==e?"Approved":"Rejected"},checkIfUserInAuthorityArray:function(e){var t=this.currentUser.id,n=[];return e.users.forEach((function(e){n.push(e.value)})),this.counter>0&&n.includes(t)?{boolean:Boolean(!0),message:""}:0==this.counter&&n.includes(t)?{boolean:Boolean(!1),message:"Please check the quote information first"}:{boolean:Boolean(!1),message:"You do not have permission for this action"}},handleClick:function(e,t){var n=this,r=this.checkIfUserInAuthorityArray(e).boolean;1==r&&this.$confirm({message:"Are you sure?",button:{no:"No",yes:"Yes"},callback:function(e){var r=n.newCard[t];if(e){var i=s["d"].collection("cards").doc(n.card.id);if(n.moveCardAuto(i,r),"technical_approval"==t){var a=s["d"].collection("cards").doc(n.card.id);a.update({technical_approval:r}),a.update({updatedOn:new Date})}else if("purchase_approval"==t){var o=s["d"].collection("cards").doc(n.card.id);o.update({purchase_approval:r}),o.update({updatedOn:new Date})}else if("procured"==t){var l=s["d"].collection("cards").doc(n.card.id);l.update({procured:r}),l.update({updatedOn:new Date}),1==r&&l.get().then((function(e){var t=e.data().team.programme.programme_id,n=e.data().total_inc_vat,r=s["d"].collection("programmes").doc(t);r.get().then((function(e){var t=e.data().total,i=parseFloat(t)+parseFloat(n);r.update({total:i.toString()})})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))}else if("quality_approval"==t){var c=s["d"].collection("cards").doc(n.card.id);c.update({quality_approval:r}),c.update({updatedOn:new Date}),c.update({"team.quality_approver":n.newCard.quality_approver})}}else n.newCard[t]=!n.newCard[t]}})},moveCardAuto:function(e,t){var n=this;return Object(O["a"])(regeneratorRuntime.mark((function r(){var i,a,o,l,c,u,d;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.get();case 2:return i=r.sent,a=i.data(),o=a.list_id,l=["Quotes","Technical","Purchase","Procurement","FollowUp","Quality"],c="",u=o,u=1==t?Number(o)+1:1,e.update({list_id:u}),d=s["d"].collection("products").doc(a.product_id),r.next=13,d.update({status:l[u-1]});case 13:1==u||5==u?c=l[u-1]:4==u?c="Activate Purchase":2!=u&&3!=u&&6!=u||(c="".concat(l[u-1]," Approval")),n.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.snackbar.snackbar=!0,n.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.snackbar.newListName=c,n.sendNotification(u,l[u-1]),n.addPaymentsToCard();case 18:case"end":return r.stop()}}),r)})))()},sendNotification:function(e,t){var n=this,r=["technical_approver","purchase_approver","procurer"],i=r[e-2];void 0==this.team[i]?s["d"].collection("notifications").add({card_id:this.card.id,product:{product_name:this.product.name,product_id:this.product.id},programme:{programme_name:this.product.programme.programme_name,programme_id:this.product.programme.programme_id},user_id:this.card.creator,createdOn:new Date,status:t}):this.team[i].users.forEach((function(e){s["d"].collection("notifications").add({card_id:n.card.id,product:{product_name:n.product.name,product_id:n.product.id},programme:{programme_name:n.product.programme.programme_name,programme_id:n.product.programme.programme_id},user_id:e.value,createdOn:new Date,status:t})}))},stepNameFn:function(e,t){if(1==t)return"".concat(e,"_approval");if(2==t)return"".concat(e,"_approver");if(3==t){var n=e.charAt(0).toUpperCase()+e.slice(1);return"".concat(n," Approval")}}},mounted:function(){}}),ee=J,te=(n("db30"),n("67b6")),ne=n("43a6"),re=n("3a2f"),ie=Object(p["a"])(ee,K,Z,!1,null,"57b1e0f8",null),ae=ie.exports;f()(ie,{VCardTitle:$["d"],VCol:g["a"],VContainer:H["a"],VDialog:R["a"],VForm:y["a"],VRadio:te["a"],VRadioGroup:ne["a"],VRow:_["a"],VTextField:w["a"],VTooltip:re["a"]});var oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-form",[n("v-container",[n("Payments",{staticClass:"pb-12",attrs:{cardInfo:e.card,stepNum:e.commentPosition,paymentsAllowed:e.paymentsAllowed,rates:e.rates}}),n("v-row",{attrs:{justify:"center","align-content":"center"}},[n("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[n("v-text-field",{attrs:{label:e.stepNameFn(e.stepName,3)+" Personal:"},model:{value:e.team[e.stepNameFn(e.stepName,2)].users[0].text,callback:function(t){e.$set(e.team[e.stepNameFn(e.stepName,2)].users[0],"text",t)},expression:"team[stepNameFn(stepName, 2)].users[0].text"}})],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[n("v-tooltip",{attrs:{top:"",disabled:e.checkIfUserInAuthorityArray(e.team[e.stepNameFn(e.stepName,2)]).boolean},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[n("div",e._g(e._b({},"div",i,!1),r),[n("v-radio-group",{attrs:{row:"",label:e.stepNameFn(e.stepName,3)+":",disabled:!e.checkIfUserInAuthorityArray(e.team[e.stepNameFn(e.stepName,2)]).boolean||""==e.card.payments[0].date},model:{value:e.newCard[e.stepNameFn(e.stepName,1)],callback:function(t){e.$set(e.newCard,e.stepNameFn(e.stepName,1),t)},expression:"newCard[stepNameFn(stepName, 1)]"}},[n("v-radio",{attrs:{label:"Accept",value:Boolean(!0)},on:{click:function(t){e.handleClick(e.team[e.stepNameFn(e.stepName,2)],""+e.stepNameFn(e.stepName,1))}}}),n("v-radio",{attrs:{label:"Reject",value:Boolean(!1)},on:{click:function(t){e.handleClick(e.team[e.stepNameFn(e.stepName,2)],""+e.stepNameFn(e.stepName,1))}}})],1),n("p",{staticClass:"caption"},[e._v(" *Purchase approval will only be available after payment date is selected ")])],1)]}}])},[n("span",[e._v(" "+e._s(e.checkIfUserInAuthorityArray(e.team[e.stepNameFn(e.stepName,2)]).message)+" ")])]),n("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.confirmationDialog,callback:function(t){e.confirmationDialog=t},expression:"confirmationDialog"}})],1),n("v-row",[0==e.newCard[e.stepNameFn(e.stepName,1)]?n("v-container",{attrs:{fluid:""}},[n("v-row",{attrs:{"align-content":"center",justify:"center"}},[n("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[n("v-card-title",{staticClass:"rejectMsg"},[e._v(" "+e._s(e.stepNameFn(e.stepName,3))+" Rejected ")])],1)],1)],1):e._e()],1),n("Comments",{attrs:{cardComments:e.cardComments,position:e.commentPosition,cardId:e.card.id}})],1)],1)],1)},se=[],le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-tooltip",{attrs:{top:"",disabled:e.paymentsAllowed.boolean},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[n("v-row",e._g(e._b({staticClass:"pa-0 pb-3",attrs:{justify:"space-between","align-content":"space-between"}},"v-row",i,!1),r),[n("v-col",{staticClass:"d-flex flex-row ma-0 pa-0",attrs:{cols:"12",sm:"5",md:"5","align-self":"center"}},["R"!==e.cardInfo.currency?n("div",{staticClass:"exchangeRate"},[e._v(" EXCHANGE RATE: "+e._s(e.cardInfo.currency)+" "+e._s(e.rates[e.symbols[e.cardInfo.currency]])+" from exchangerate.host ")]):e._e()]),n("v-col",{staticClass:"d-flex flex-row ma-0 pa-0",attrs:{cols:"12",sm:"1",md:"1","align-self":"center"}},[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[n("v-btn",e._g(e._b({attrs:{icon:"",small:"",disabled:e.allowed,color:"primary"},on:{click:function(t){return e.addPayment()}}},"v-btn",i,!1),r),[n("v-icon",[e._v("add")])],1)]}}],null,!0)},[n("span",[e._v("Add Payment")])]),n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[n("v-btn",e._g(e._b({attrs:{icon:"",small:"",disabled:e.allowed,color:"primary"},on:{click:function(t){return e.removePayment()}}},"v-btn",i,!1),r),[n("v-icon",[e._v("remove")])],1)]}}],null,!0)},[n("span",[e._v("Remove Payment")])])],1)],1)]}}])},[n("span",[e._v(e._s(e.paymentsAllowed.message))])]),e._l(e.cardInfo.payments,(function(t,r){return n("v-row",{key:r,attrs:{justify:"center","align-content":"center"}},[n("v-col",{attrs:{cols:"12",sm:"3",md:"3"}},[n("v-text-field",{attrs:{label:"Payment",readonly:e.allowed,disabled:e.allowed},model:{value:t.payment,callback:function(n){e.$set(t,"payment",n)},expression:"i.payment"}})],1),n("v-col",{attrs:{cols:"12",sm:"2",md:"2"}},[n("v-text-field",{attrs:{label:"Value",rules:e.inputRules,readonly:0==r,disabled:e.allowed,prefix:e.cardInfo.currency},on:{change:function(t){return e.changeFinalPaymentValue()}},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"i.value"}})],1),"R"!==e.cardInfo.currency?n("v-col",{attrs:{cols:"12",sm:"2",md:"2"}},[n("v-text-field",{attrs:{value:e.convertCurrency(t.value),label:"ZAR Value",rules:e.inputRules,readonly:!0,disabled:e.allowed,prefix:"R"}})],1):e._e(),n("v-col",{attrs:{cols:"12",sm:"3",md:"3"}},[n("v-menu",{attrs:{"v-model":"menu"+e.cardInfo.payments.length,"close-on-content-click":!0,"max-width":"290"},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,a=r.attrs;return[n("v-text-field",e._g(e._b({attrs:{value:t.date,clearable:!e.allowed,label:"Payment Date",disabled:e.allowed},on:{"click:clear":function(t){return e.clearDate()}}},"v-text-field",a,!1),i))]}}],null,!0)},[n("v-date-picker",{attrs:{"allowed-dates":e.allowedDates,disabled:e.allowed},on:{change:function(n){return e.addDate(t.date)}},model:{value:t.date,callback:function(n){e.$set(t,"date",n)},expression:"i.date"}})],1)],1)],1)})),n("v-snackbar",{staticClass:"text-center",attrs:{color:"green",timeout:"2000","data-cypress":"updatedCardSnackbar"},model:{value:e.savedAlert,callback:function(t){e.savedAlert=t},expression:"savedAlert"}},[n("v-icon",[e._v("check_circle")]),e._v(" Payment Updated ")],1)],2)},ce=[],ue={props:{cardInfo:{type:Object,required:!0},stepNum:{type:Number,required:!0},paymentsAllowed:{type:Object,required:!0},rates:{type:Object,required:!0}},data:function(){return{date:"",inputRules:[function(e){return e.length>=4||"Must be in format 0.00"}],menu1:!1,menu2:!1,menu3:!1,menu4:!1,menu5:!1,menu6:!1,savedAlert:!1,symbols:{R$:"BRL","":"EUR","":"GBP",$:"USD"}}},computed:{allowed:function(){var e=!0;return this.paymentsAllowed.boolean&&(3!=this.cardInfo.list_id&&4!=this.cardInfo.list_id||(e=!1)),e}},methods:{addDate:function(e){this.date=e,this.saveChanges()},addPayment:function(){this.cardInfo.payments.length<2?this.cardInfo.payments.push({payment:"Deposit/Down Payment",date:"",value:"0.00",committed:null}):this.cardInfo.payments.push({payment:"Interim Payment",date:"",value:"0.00",committed:null})},allowedDates:function(e){return 2==new Date(e).getDay()||4==new Date(e).getDay()},changeFinalPaymentValue:function(){var e=parseFloat(this.cardInfo.total_inc_vat);this.cardInfo.payments.forEach((function(t){"Final Payment"!==t.payment&&(e-=parseFloat(t.value))})),this.cardInfo.payments[0].value=parseFloat(e).toFixed(2),this.saveChanges()},clearDate:function(){this.date="",this.saveChanges()},convertCurrency:function(e){var t=e*(1/this.rates[this.symbols[this.cardInfo.currency]]);return t.toFixed(2)},removePayment:function(){this.cardInfo.payments.length>1&&(this.cardInfo.payments.pop(),this.changeFinalPaymentValue())},saveChanges:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.savedAlert=!0,n=s["d"].collection("cards").doc(e.cardInfo.id),t.next=4,n.update({payments:e.cardInfo.payments});case 4:case"end":return t.stop()}}),t)})))()}},created:function(){}},de=ue,pe=(n("63ef"),n("2e4b")),he=n("e449"),fe=Object(p["a"])(de,le,ce,!1,null,"3eba081c",null),me=fe.exports;f()(fe,{VBtn:v["a"],VCol:g["a"],VContainer:H["a"],VDatePicker:pe["a"],VIcon:M["a"],VMenu:he["a"],VRow:_["a"],VSnackbar:W["a"],VTextField:w["a"],VTooltip:re["a"]});var ve={components:{Comments:x,Payments:me},props:{card:{type:Object,required:!0},cardComments:{type:Array,required:!0},commentPosition:{type:Number,required:!0},counter:{type:Number,required:!0},product:{type:Object,required:!0},rates:{type:Object,required:!0},stepName:{type:String,required:!0},team:{type:Object,required:!0}},data:function(){return{confirmationDialog:!1,newCard:{purchase_approval:this.card.purchase_approval,technical_approval:this.card.technical_approval},symbols:{R$:"BRL","":"EUR","":"GBP",$:"USD"}}},computed:Object(A["a"])(Object(A["a"])({},Object(D["d"])({currentUser:function(e){return e.profile.userProfile}})),{},{msgClass:function(){return this.newCard[this.stepNameFn(this.stepName,1)]?"acceptMsg":"rejectMsg"},paymentsAllowed:function(){return this.checkIfUserInAuthorityArray(this.team.purchase_approver)}}),methods:{addPaymentsToProduct:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=s["d"].collection("products").doc(e.card.product_id),"R"!==e.card.currency&&e.card.payments.forEach((function(t){t.value=e.convertCurrency(t.value)})),t.next=4,n.update({payments:e.card.payments});case 4:case"end":return t.stop()}}),t)})))()},approvedStatus:function(e){return 1==e?"Approved":"Rejected"},checkIfUserInAuthorityArray:function(e){var t=this.currentUser.id,n=[];return e.users.forEach((function(e){n.push(e.value)})),this.counter>0&&n.includes(t)?{boolean:Boolean(!0),message:""}:0==this.counter&&n.includes(t)?{boolean:Boolean(!1),message:"Please check the quote information first"}:{boolean:Boolean(!1),message:"You do not have permission for this action"}},convertCurrency:function(e){var t=e*(1/this.rates[this.symbols[this.card.currency]]);return t.toFixed(2)},handleClick:function(e,t){var n=this,r=this.checkIfUserInAuthorityArray(e).boolean;1==r&&this.$confirm({message:"Are you sure?",button:{no:"No",yes:"Yes"},callback:function(e){var r=n.newCard[t];if(e){var i=s["d"].collection("cards").doc(n.card.id);if(n.moveCardAuto(i,r),"technical_approval"==t){var a=s["d"].collection("cards").doc(n.card.id);a.update({technical_approval:r}),a.update({updatedOn:new Date})}else if("purchase_approval"==t){var o=s["d"].collection("cards").doc(n.card.id);o.update({purchase_approval:r}),o.update({updatedOn:new Date})}else if("procured"==t){var l=s["d"].collection("cards").doc(n.card.id);l.update({procured:r}),l.update({updatedOn:new Date}),1==r&&l.get().then((function(e){var t=e.data().team.programme.programme_id,n=e.data().total_inc_vat,r=s["d"].collection("programmes").doc(t);r.get().then((function(e){var t=e.data().total,i=parseFloat(t)+parseFloat(n);r.update({total:i.toString()})})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))}else if("quality_approval"==t){var c=s["d"].collection("cards").doc(n.card.id);c.update({quality_approval:r}),c.update({updatedOn:new Date}),c.update({"team.quality_approver":n.newCard.quality_approver})}}else n.newCard[t]=!n.newCard[t]}})},moveCardAuto:function(e,t){var n=this;return Object(O["a"])(regeneratorRuntime.mark((function r(){var i,a,o,l,c,u,d;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.get();case 2:return i=r.sent,a=i.data(),o=a.list_id,l=["Quotes","Technical","Purchase","Procurement","FollowUp","Quality"],c="",u=o,u=1==t?Number(o)+1:1,e.update({list_id:u}),d=s["d"].collection("products").doc(a.product_id),r.next=13,d.update({status:l[u-1]});case 13:1==u||5==u?c=l[u-1]:4==u?c="Activate Purchase":2!=u&&3!=u&&6!=u||(c="".concat(l[u-1]," Approval")),n.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.snackbar.snackbar=!0,n.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.snackbar.newListName=c,n.sendNotification(u,l[u-1]),n.addPaymentsToProduct();case 18:case"end":return r.stop()}}),r)})))()},sendNotification:function(e,t){var n=this,r=["technical_approver","purchase_approver","procurer"],i=r[e-2];void 0==this.team[i]?s["d"].collection("notifications").add({card_id:this.card.id,product:{product_name:this.product.name,product_id:this.product.id},programme:{programme_name:this.product.programme.programme_name,programme_id:this.product.programme.programme_id},user_id:this.card.creator,createdOn:new Date,status:t}):this.team[i].users.forEach((function(e){s["d"].collection("notifications").add({card_id:n.card.id,product:{product_name:n.product.name,product_id:n.product.id},programme:{programme_name:n.product.programme.programme_name,programme_id:n.product.programme.programme_id},user_id:e.value,createdOn:new Date,status:t})}))},stepNameFn:function(e,t){if(1==t)return"".concat(e,"_approval");if(2==t)return"".concat(e,"_approver");if(3==t){var n=e.charAt(0).toUpperCase()+e.slice(1);return"".concat(n," Approval")}}},mounted:function(){}},ge=ve,be=(n("bf13"),Object(p["a"])(ge,oe,se,!1,null,"3ce06104",null)),ye=be.exports;f()(be,{VCardTitle:$["d"],VCol:g["a"],VContainer:H["a"],VDialog:R["a"],VForm:y["a"],VRadio:te["a"],VRadioGroup:ne["a"],VRow:_["a"],VTextField:w["a"],VTooltip:re["a"]});var _e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-form",[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"4",md:"4"}},[n("v-text-field",{attrs:{label:"Purchase Personal:"},model:{value:e.team.procurer.users[0].text,callback:function(t){e.$set(e.team.procurer.users[0],"text",t)},expression:"team.procurer.users[0].text"}})],1),n("v-col",{attrs:{cols:"12",sm:"2",md:"2"}}),n("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[n("v-tooltip",{attrs:{top:"",disabled:e.checkIfUserInAuthorityArray(e.team.procurer).boolean},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[n("div",e._g(e._b({},"div",i,!1),r),[n("v-radio-group",{attrs:{row:"",label:"Procurement Status:",disabled:!e.checkIfUserInAuthorityArray(e.team.procurer).boolean},model:{value:e.newCard.procured,callback:function(t){e.$set(e.newCard,"procured",t)},expression:"newCard.procured"}},[n("v-radio",{attrs:{label:"Accept",value:Boolean(!0)},on:{click:function(t){return e.handleClick(e.team.procurer,"procured")}}}),n("v-radio",{attrs:{label:"Reject",value:Boolean(!1)},on:{click:function(t){return e.handleClick(e.team.procurer,"procured")}}})],1)],1)]}}])},[n("span",[e._v(e._s(e.checkIfUserInAuthorityArray(e.team.procurer).message))])]),n("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.confirmationDialog,callback:function(t){e.confirmationDialog=t},expression:"confirmationDialog"}})],1),0==e.newCard.procured?n("v-container",{attrs:{fluid:""}},[n("v-row",{attrs:{"align-content":"center",justify:"center"}},[n("v-col",{attrs:{cols:"12",sm:"2",md:"2"}}),n("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[n("v-card-title",{staticClass:"rejectMsg"},[e._v(" Procurement Rejected ")])],1)],1)],1):e._e(),0==e.newCard.purchase_order.length&&1==e.newCard.procured?n("v-row",{staticClass:"purchaseInfoRowPadding"},[n("v-col",{attrs:{cols:"12",sm:"5",md:"5"}},[n("v-text-field",{attrs:{label:"Purchase Order Number:"},model:{value:e.newCard.PO_number,callback:function(t){e.$set(e.newCard,"PO_number",t)},expression:"newCard.PO_number"}})],1),n("v-col",{attrs:{cols:"12",sm:"1",md:"1"}}),n("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[n("v-card",{attrs:{flat:""}},[n("v-card-text",[n("vue-dropzone",{ref:"myVueDropzone",attrs:{id:"customdropzone",options:e.dropzoneOptions,"include-styling":!1,useCustomSlot:!0},on:{"vdropzone-file-added":e.fileAddedPurchase,"vdropzone-thumbnail":e.thumbnail}},[n("div",{staticClass:"dropzone-custom-content"},[n("h3",{staticStyle:{"font-weight":"200"}},[n("v-icon",{attrs:{medium:""}},[e._v("backup")]),e._v(" Drop PO here to upload ")],1)])])],1),n("v-card-actions",{staticClass:"justify-end"},[n("v-tooltip",{attrs:{left:"",disabled:null!=e.newCard.PO_number},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[n("div",e._g(e._b({},"div",i,!1),r),[n("v-btn",{staticClass:"backgroundColorPrimary ",attrs:{dark:"",small:"",text:"",disabled:null==e.newCard.PO_number},on:{click:function(t){return e.newPurchaseOrder(e.purchase_order)}}},[e._v(" Upload ")])],1)]}}],null,!1,3110336448)},[n("span",[e._v("First add Purchase Order Number")])])],1)],1)],1)],1):1==e.newCard.procured?n("v-col",{attrs:{cols:"12",sm:"4",md:"4"}},[n("v-text-field",{attrs:{label:"Purchase Order Number","data-cypress":"purchaseOrderNumber"},on:{change:function(t){return e.updatePOnumber()}},model:{value:e.newCard.PO_number,callback:function(t){e.$set(e.newCard,"PO_number",t)},expression:"newCard.PO_number"}})],1):e._e(),n("v-col",{attrs:{cols:"12",sm:"2",md:"2"}}),0!=e.newCard.purchase_order.length&&1==e.newCard.procured?n("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[n("span",{staticClass:"fileLabel"},[e._v("Purchase Order: ")]),e._l(e.newCard.purchase_order,(function(t){return n("v-chip",{key:e.fileLinkEncoded(t.link),staticClass:"mx-1",attrs:{href:e.fileLinkEncoded(t.link),target:"_blank",color:"primary",dark:"",small:""}},[e._v(" "+e._s(t.file_name)+" ")])}))],2):e._e(),n("v-row",{attrs:{justify:"center","align-content":"center"}},[0==e.newCard.POP.length&&1==e.newCard.procured?n("v-col",{staticClass:"text-center",attrs:{cols:"12",sm:"12",md:"12"}},[n("v-btn",{attrs:{color:"primary",small:"",dark:""},on:{click:function(t){e.addPOPtoggle=!e.addPOPtoggle}}},[e._v(" Add POP ")]),e.addPOPtoggle?n("v-card",{attrs:{flat:""}},[n("v-card-text",[n("vue-dropzone",{ref:"myVueDropzone",attrs:{id:"customdropzone",options:e.dropzoneOptions,"include-styling":!1,useCustomSlot:!0},on:{"vdropzone-file-added":e.fileAddedPOP,"vdropzone-thumbnail":e.thumbnail}},[n("div",{staticClass:"dropzone-custom-content"},[n("h3",{staticStyle:{"font-weight":"200"}},[n("v-icon",{attrs:{medium:""}},[e._v("backup")]),e._v(" Drop POP here to upload ")],1)])])],1),n("v-card-actions",{staticClass:"justify-end"},[n("v-btn",{staticClass:"backgroundColorPrimary ",attrs:{dark:"",small:"",text:""},on:{click:function(t){return e.newPOP(e.POP)}}},[e._v(" Upload ")])],1)],1):e._e()],1):e._e(),0!=e.newCard.POP.length&&1==e.newCard.procured?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"3",md:"3"}}),n("v-col",{staticClass:"text-center",attrs:{cols:"12",sm:"9",md:"9"}},[n("span",{staticClass:"fileLabel"},[e._v("Proof of payment: ")]),e._l(e.newCard.POP,(function(t){return n("v-chip",{key:e.fileLinkEncoded(t.link),staticClass:"mx-1",attrs:{href:e.fileLinkEncoded(t.link),target:"_blank",color:"primary",dark:"",small:""}},[e._v(" "+e._s(t.file_name)+" ")])}))],2)],1):e._e()],1)],1),0!=e.newCard.POP.length&&1==e.newCard.procured?n("v-row",{staticClass:"pt-10",attrs:{justify:"end"}},[n("POPUploadDialog",{attrs:{programmeName:e.team.programme.programme_name,productId:e.card.product_id,cardId:e.card.id,card:e.card},on:{POPLoaded:e.POPLoaded}})],1):e._e(),n("Comments",{staticClass:"comments",attrs:{cardComments:e.cardComments,position:e.commentPosition,cardId:e.card.id}})],1)],1)},we=[],Ce=(n("2532"),n("5319"),n("d81d"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[n("v-btn",e._g(e._b({attrs:{color:"primary","x-small":"",dark:""}},"v-btn",i,!1),r),[e._v("Add POP")])]}}]),model:{value:e.fileUploadDialog,callback:function(t){e.fileUploadDialog=t},expression:"fileUploadDialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline primary"},[e._v(" Upload New POP ")]),n("v-card-text",{staticClass:"cardText"},[n("vue-dropzone",{ref:"myVueDropzone",attrs:{id:"customdropzone",options:e.dropzoneOptions,"include-styling":!1,useCustomSlot:!0},on:{"vdropzone-file-added":e.fileAdded,"vdropzone-thumbnail":e.thumbnail}},[n("div",{staticClass:"dropzone-custom-content"},[n("h3",{staticStyle:{"font-weight":"200"}},[n("v-icon",{attrs:{medium:""}},[e._v("backup")]),e._v(" Drop files here to upload ")],1)])])],1),n("v-card-actions",[n("v-spacer"),e.loading?e._e():n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.fileUploadDialog=!1}}},[e._v(" Cancel ")]),n("v-btn",{attrs:{color:"primary",text:"",loading:e.loading},on:{click:function(t){return e.uploadFilesFunc()}}},[e._v(" Upload ")])],1)],1)],1)}),xe=[],ke={components:{vueDropzone:T.a},props:{cardId:{type:String,required:!0},productId:{type:String,required:!0},programmeName:{type:String,required:!0},card:{type:Object,required:!0}},data:function(){return{dropzoneOptions:{url:"https://httpbin.org/post",previewTemplate:this.template(),uploadMultiple:!0},files:[],fileUploadDialog:!1,loading:!1}},methods:{fileAdded:function(e){this.files.push(e)},template:function(){return'<div class="dz-preview dz-file-preview" style=" position: relative; display: inline-block;  margin-left: 5px; width: 100px;height: 60px;padding: 8px;background-color: rgba(0, 0, 0, 0.05); text-align: center; border-radius: 10px;">\n                  <span data-dz-remove>\n                  <i style="transform: translate(45px, -15px);" class="material-icons">cancel</i>\n                  </span>\n                  <div class="dz-image">\n                      <div data-dz-thumbnail></div>\n                  </div>\n                  <div class="dz-details" style="transform: translate(0px, -18px)">\n                      <div class="dz-filename" style="overflow: hidden; height: 20px"><span data-dz-name></span></div>\n                  </div>\n                  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n                  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n                  <div class="dz-success-mark"><i class="fa fa-check"></i></div>\n                  <div class="dz-error-mark"><i class="fa fa-close"></i></div>\n\n            </div>\n        '},thumbnail:function(e,t){var n,r,i,a;if(e.previewElement){for(e.previewElement.classList.remove("dz-file-preview"),i=e.previewElement.querySelectorAll("[data-dz-thumbnail-bg]"),n=0,r=i.length;n<r;n++)a=i[n],a.alt=e.name,a.style.backgroundImage='url("'+t+'")';return setTimeout(function(){return function(){return e.previewElement.classList.add("dz-image-preview")}}(),1)}},uploadFiles:function(e){var t=this;e.forEach((function(e){var n=e.name,r=s["j"].ref().child("POP/".concat(t.card.product_id,"/").concat(t.card.id,"/").concat(n));r.put(e)}))},uploadFilesFunc:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.uploadFiles(e.files);case 3:e.loading=!1,e.file=[],e.fileUploadDialog=!1,e.$emit("POPLoaded",e.files);case 7:case"end":return t.stop()}}),t)})))()}}},Se=ke,Ee=(n("88dc"),Object(p["a"])(Se,Ce,xe,!1,null,"9938b01a",null)),Oe=Ee.exports;f()(Ee,{VBtn:v["a"],VCard:j["a"],VCardActions:$["a"],VCardText:$["c"],VCardTitle:$["d"],VDialog:R["a"],VIcon:M["a"],VSpacer:q["a"]});var Ae={components:{Comments:x,vueDropzone:T.a,POPUploadDialog:Oe},props:{card:{type:Object,required:!0},cardComments:{type:Array,required:!0},commentPosition:{type:Number,required:!0},counter:{type:Number,required:!0},product:{type:Object,required:!0},stepName:{type:String,required:!0},team:{type:Object,required:!0}},data:function(){return{addPOPtoggle:!1,confirmationDialog:!1,dropzoneOptions:{url:"https://httpbin.org/post",previewTemplate:this.template(),uploadMultiple:!0},inputRules:[function(e){return e.length>=3||"Minimum length is 3 characters"}],newCard:{purchase_order:this.card.purchase_order,procured:this.card.procured,PO_number:this.card.PO_number,POP:this.card.POP},POP:[],purchase_order:[]}},computed:Object(A["a"])({},Object(D["d"])({currentUser:function(e){return e.profile.userProfile}})),methods:{checkIfUserInAuthorityArray:function(e){var t=this.currentUser.id,n=[];return e.users.forEach((function(e){n.push(e.value)})),this.counter>0&&n.includes(t)?{boolean:Boolean(!0),message:""}:0==this.counter&&n.includes(t)?{boolean:Boolean(!1),message:"Please check the quote information first"}:{boolean:Boolean(!1),message:"You do not have permission for this action"}},fileAddedPOP:function(e){this.POP.push(e)},fileAddedPurchase:function(e){this.purchase_order.push(e)},fileLinkEncoded:function(e){return void 0==e?void 0:e.includes("#")?e.replace("#","%23"):e},handleClick:function(e,t){var n=this,r=this.checkIfUserInAuthorityArray(e).boolean;1==r&&this.$confirm({message:"Are you sure?",button:{no:"No",yes:"Yes"},callback:function(e){var r=n.newCard[t];if(e){if("technical_approval"==t){var i=s["d"].collection("cards").doc(n.card.id);i.update({technical_approval:r}),i.update({updatedOn:new Date})}else if("purchase_approval"==t){var a=s["d"].collection("cards").doc(n.card.id);a.update({purchase_approval:r}),a.update({updatedOn:new Date})}else if("procured"==t){var o=s["d"].collection("cards").doc(n.card.id);o.update({procured:r}),o.update({updatedOn:new Date}),1==r?o.get().then((function(e){var t=e.data().team.programme.programme_id,n=e.data().total_inc_vat,r=s["d"].collection("programmes").doc(t);r.get().then((function(e){var t=e.data().total,i=parseFloat(t)+parseFloat(n);r.update({total:i.toString()})})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)})):n.moveCardAutoBackward(o)}else if("quality_approval"==t){var l=s["d"].collection("cards").doc(n.card.id);l.update({quality_approval:r}),l.update({updatedOn:new Date}),l.update({"team.quality_approver":n.newCard.quality_approver})}}else n.newCard[t]=!n.newCard[t]}})},moveCardAutoBackward:function(e){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function n(){var r,i,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.get();case 2:return r=n.sent,i=r.data(),e.update({list_id:1}),a=s["d"].collection("products").doc(i.product_id),n.next=8,a.update({status:"Quotes"});case 8:t.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.snackbar.snackbar=!0,t.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.snackbar.newListName="Quotes",t.sendNotification(1,"Quotes");case 11:case"end":return n.stop()}}),n)})))()},moveCardAutoForward:function(e){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function n(){var r,i,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.get();case 2:return r=n.sent,i=r.data(),e.update({list_id:5}),a=s["d"].collection("products").doc(i.product_id),n.next=8,a.update({status:"FollowUp"});case 8:return t.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.snackbar.snackbar=!0,t.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.snackbar.newListName="Follow Up",t.sendNotification(5,"Follow Up"),n.next=13,e.update({supplier_email_count:0});case 13:case"end":return n.stop()}}),n)})))()},newPOP:function(e){var t=this,n=s["d"].collection("cards").doc(this.card.id),r=s["d"].collection("products").doc(this.card.product_id),i=[];e.forEach((function(e){var n=e.name,r=s["j"].ref().child("POP/".concat(t.card.product_id,"/").concat(t.card.id,"/").concat(n));r.put(e);var a={file_name:n,file_doc:e};i.push(a)})),this.newCard.POP=i,n.update({POP_date:new Date}),r.update({POP_date:new Date}),r.update({leadTime:this.card.lead_time}),this.sendNotification(5,"Follow Up")},newPurchaseOrder:function(e){var t=this,n=s["d"].collection("cards").doc(this.card.id);n.update({PO_number:this.newCard.PO_number}),n.update({updatedOn:new Date});var r=[];e.forEach((function(e){var n=e.name,i=s["j"].ref().child("PurchaseOrders/".concat(t.card.product_id,"/").concat(t.card.id,"/").concat(n));i.put(e);var a={file_name:n,file_doc:e};r.push(a)})),this.newCard.purchase_order=r,setTimeout(console.log("Done"),5e3),this.moveCardAutoForward(n)},POPLoaded:function(e){var t=this,n=e.map((function(e){return{file_name:"Pending...",link:e.name}}));n.forEach((function(e){t.newCard.POP.push(e)}))},procurementStatus:function(e){return 1==e?"Ordered":"Not Ordered"},sendNotification:function(e,t){var n=this,r=["technical_approver","purchase_approver","procurer","purchase_approver"],i=r[e-2];void 0==this.team[i]?s["d"].collection("notifications").add({card_id:this.card.id,product:{product_name:this.product.name,product_id:this.product.id},programme:{programme_name:this.product.programme.programme_name,programme_id:this.product.programme.programme_id},user_id:this.card.creator,createdOn:new Date,status:t}):e-2===3?(s["d"].collection("notifications").add({card_id:this.card.id,product:{product_name:this.product.name,product_id:this.product.id},programme:{programme_name:this.product.programme.programme_name,programme_id:this.product.programme.programme_id},user_id:this.card.creator,createdOn:new Date,status:t}),this.team[i].users.forEach((function(e){s["d"].collection("notifications").add({card_id:n.card.id,product:{product_name:n.product.name,product_id:n.product.id},programme:{programme_name:n.product.programme.programme_name,programme_id:n.product.programme.programme_id},user_id:e.value,createdOn:new Date,status:t})}))):this.team[i].users.forEach((function(e){s["d"].collection("notifications").add({card_id:n.card.id,product:{product_name:n.product.name,product_id:n.product.id},programme:{programme_name:n.product.programme.programme_name,programme_id:n.product.programme.programme_id},user_id:e.value,createdOn:new Date,status:t})})),this.getNotifications},template:function(){return'<div class="dz-preview dz-file-preview" style=" position: relative; display: inline-block;  margin-left: 5px; width: 100px;height: 60px;padding: 8px;background-color: rgba(0, 0, 0, 0.05); text-align: center; border-radius: 10px;">\n                  <span data-dz-remove>\n                  <i style="transform: translate(45px, -15px);" class="material-icons">cancel</i>\n                  </span>\n                  <div class="dz-image">\n                      <div data-dz-thumbnail></div>\n                  </div>\n                  <div class="dz-details" style="transform: translate(0px, -18px)">\n                      <div class="dz-filename" style="overflow: hidden; height: 20px"><span data-dz-name></span></div>\n                  </div>\n                  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n                  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n                  <div class="dz-success-mark"><i class="fa fa-check"></i></div>\n                  <div class="dz-error-mark"><i class="fa fa-close"></i></div>\n\n            </div>\n        '},thumbnail:function(e,t){var n,r,i,a;if(e.previewElement){for(e.previewElement.classList.remove("dz-file-preview"),i=e.previewElement.querySelectorAll("[data-dz-thumbnail-bg]"),n=0,r=i.length;n<r;n++)a=i[n],a.alt=e.name,a.style.backgroundImage='url("'+t+'")';return setTimeout(function(){return function(){return e.previewElement.classList.add("dz-image-preview")}}(),1)}},updatePOnumber:function(){var e=s["d"].collection("cards").doc(this.card.id);e.update({PO_number:this.newCard.PO_number}),e.update({updatedOn:new Date})}},mounted:function(){}},De=Ae,Fe=(n("2ee4"),Object(p["a"])(De,_e,we,!1,null,"22832718",null)),Ie=Fe.exports;f()(Fe,{VBtn:v["a"],VCard:j["a"],VCardActions:$["a"],VCardText:$["c"],VCardTitle:$["d"],VChip:Q["a"],VCol:g["a"],VContainer:H["a"],VDialog:R["a"],VForm:y["a"],VIcon:M["a"],VRadio:te["a"],VRadioGroup:ne["a"],VRow:_["a"],VTextField:w["a"],VTooltip:re["a"]});var Pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-form",[n("v-container",[n("v-row",[e.newCard.receiver_approval?n("v-col",{attrs:{cols:"12",sm:"4",md:"4"}},[n("v-text-field",{attrs:{label:"Receiver",readonly:""},model:{value:e.newCard.receiver.text,callback:function(t){e.$set(e.newCard.receiver,"text",t)},expression:"newCard.receiver.text"}})],1):n("v-col",{attrs:{cols:"12",sm:"4",md:"4"}},[n("v-select",{attrs:{label:"Receiver",items:e.mapUsersArray,chips:"","return-object":"","data-cypress":"receiverSelect"},on:{change:function(t){e.receiver_selected=!0}},model:{value:e.newCard.receiver,callback:function(t){e.$set(e.newCard,"receiver",t)},expression:"newCard.receiver"}})],1),n("v-col",{attrs:{cols:"12",sm:"4",md:"4"}},[n("v-tooltip",{attrs:{top:"",disabled:0!==Object.keys(e.newCard.receiver).length},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[n("div",e._g(e._b({},"div",i,!1),r),[n("v-switch",{attrs:{label:"Receiver Confirmation",disabled:0===Object.keys(e.newCard.receiver).length},on:{click:function(t){return e.handleClick2("receiver_approval")}},model:{value:e.newCard.receiver_approval,callback:function(t){e.$set(e.newCard,"receiver_approval",t)},expression:"newCard.receiver_approval"}})],1)]}}])},[n("span",[e._v("Select a Receiver first")])]),n("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.confirmationDialog,callback:function(t){e.confirmationDialog=t},expression:"confirmationDialog"}})],1),n("v-col",{attrs:{cols:"12",sm:"3",md:"3"}},[n("v-tooltip",{attrs:{top:"",disabled:0!==Object.keys(e.newCard.receiver).length},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[n("div",e._g(e._b({},"div",i,!1),r),[n("v-switch",{attrs:{label:"Attached to Hubdoc","data-cypress":"hubdocCheck",disabled:0===Object.keys(e.newCard.receiver).length},on:{click:function(t){return e.handleClick3()}},model:{value:e.newCard.hubdoc,callback:function(t){e.$set(e.newCard,"hubdoc",t)},expression:"newCard.hubdoc"}})],1)]}}])},[n("span",[e._v("Select a Receiver first")])])],1)],1),n("v-row",[null==e.newCard.quality_approval?n("v-col",{attrs:{cols:"12",sm:"4",md:"4"}},[n("v-select",{attrs:{label:"Quality Approver",items:e.mapUsersArray,chips:"","return-object":"","data-cypress":"qualitySelect"},on:{change:function(t){e.quality_selected=!0}},model:{value:e.newCard.quality_approver,callback:function(t){e.$set(e.newCard,"quality_approver",t)},expression:"newCard.quality_approver"}})],1):n("v-col",{attrs:{cols:"12",sm:"4",md:"4"}},[n("v-text-field",{attrs:{label:"Quality Approver",readonly:"","data-cypress":"qualityApprove"},model:{value:e.newCard.quality_approver.text,callback:function(t){e.$set(e.newCard.quality_approver,"text",t)},expression:"newCard.quality_approver.text"}})],1),n("v-col",{attrs:{cols:"12",sm:"1",md:"1"}}),n("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[n("v-tooltip",{attrs:{top:"",disabled:0!==Object.keys(e.newCard.quality_approver).length},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[n("div",e._g(e._b({},"div",i,!1),r),[n("v-radio-group",{attrs:{row:"",label:"Quality Approval Status:",disabled:0===Object.keys(e.newCard.quality_approver).length},model:{value:e.newCard.quality_approval,callback:function(t){e.$set(e.newCard,"quality_approval",t)},expression:"newCard.quality_approval"}},[n("v-radio",{attrs:{label:"Accept",value:Boolean(!0)},on:{click:function(t){return e.handleClick2("quality_approval")}}}),n("v-radio",{attrs:{label:"Reject",value:Boolean(!1)},on:{click:function(t){return e.handleClick2("quality_approval")}}})],1)],1)]}}])},[n("span",[e._v("Select Quality Approver first")])]),n("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.confirmationDialog,callback:function(t){e.confirmationDialog=t},expression:"confirmationDialog"}})],1),0==e.newCard.quality_approval?n("v-container",{attrs:{fluid:""}},[n("v-row",{attrs:{"align-content":"center",justify:"center"}},[n("v-col",{attrs:{cols:"12",sm:"4",md:"4"}},[n("v-card-title",{staticClass:"qualityRejectedTitle"},[e._v(" Quality Check Rejected ")])],1)],1)],1):e._e(),0===e.newCard.quality_photos.length&&null!==e.newCard.quality_approval?n("v-container",{attrs:{fluid:""}},[n("v-row",{attrs:{"align-content":"center",justify:"center"}},[n("v-col",{attrs:{cols:"12",sm:"4",md:"4"}},[n("v-btn",{attrs:{dark:"",small:"",color:"#37474f"},on:{click:function(t){e.upload_quality_photos=!e.upload_quality_photos}}},[e._v(" Add Quality Documents ")])],1)],1)],1):e._e(),e.upload_quality_photos?n("v-container",{attrs:{fluid:""}},[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"10",md:"10"}},[n("vue-dropzone",{ref:"myVueDropzone",attrs:{id:"customdropzone",options:e.dropzoneOptions,"include-styling":!1,useCustomSlot:!0},on:{"vdropzone-file-added":e.fileAddedQuality,"vdropzone-thumbnail":e.thumbnail}},[n("div",{staticClass:"dropzone-custom-content"},[n("h3",{staticStyle:{"font-weight":"200"}},[n("v-icon",{attrs:{medium:""}},[e._v("backup")]),e._v(" Drop files here to upload ")],1)])])],1),n("v-col",{staticClass:"bordertop3rem",attrs:{cols:"12",sm:"2",md:"2"}},[n("v-btn",{staticClass:"backgroundColorPrimary ",attrs:{dark:"",small:"",text:""},on:{click:function(t){return e.newQualityPhoto(e.quality_photos)}}},[e._v(" Upload ")])],1)],1)],1):0!==e.newCard.quality_photos.length?n("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[n("span",{staticClass:"fileLabel"},[e._v("Quality approval files:")]),e._l(e.newCard.quality_photos,(function(t){return n("v-chip",{key:t.link,staticClass:"mx-1",attrs:{href:t.link,target:"_blank",color:"primary",dark:"",small:""},on:{click:t.link}},[e._v(" "+e._s(t.file_name)+" ")])}))],2):e._e()],1),n("Comments",{staticClass:"commentsRow",attrs:{cardComments:e.cardComments,position:e.commentPosition,cardId:e.card.id}})],1)],1)},Te=[],ze={components:{Comments:x,FileUploadDialog:V,vueDropzone:T.a},props:{card:{type:Object,required:!0},cardComments:{type:Array,required:!0},commentPosition:{type:Number,required:!0},counter:{type:Number,required:!0},team:{type:Object,required:!0}},data:function(){return{confirmationDialog:!1,customStyles:!0,dropzoneOptions:{url:"https://httpbin.org/post",previewTemplate:this.template(),uploadMultiple:!0},newCard:{receiver_approval:this.card.receiver_approval,receiver:this.card.team.receiver,hubdoc:this.card.hubdoc,quality_approval:this.card.quality_approval,quality_approver:this.card.team.quality_approver.user,quality_photos:this.card.quality_photos},quality_approval_options:[{text:"Accept",value:!0},{text:"Reject",value:!1}],quality_photos:[],quality_selected:!1,receiver_selected:!1,upload_quality_photos:!1}},computed:Object(A["a"])(Object(A["a"])(Object(A["a"])({},Object(D["d"])({users:function(e){var t=e.users.users;return t.sort()},currentUser:function(e){return e.profile.userProfile},cards:function(e){return e.cards}})),Object(D["c"])(["getUsers"])),{},{mapUsersArray:function(){var e=[];return this.users.forEach((function(t){var n={text:t.name+" "+t.surname,value:t.id,slack_id:t.slack_id};e.push(n)})),e.sort((function(e,t){return e.text.localeCompare(t.text)}))}}),methods:{approvedStatus:function(e){return 1==e?"Approved":"Not Approved"},approvedStatus2:function(e){return 1==e?"Approved":0==e?"Rejected":"No Action Yet"},checkIfUserInAuthorityArray:function(e){var t=this.currentUser.id,n=[];return e.users.forEach((function(e){n.push(e.value)})),this.counter>0&&n.includes(t)?{boolean:Boolean(!0),message:""}:0==this.counter&&n.includes(t)?{boolean:Boolean(!1),message:"Please check the quote information first"}:{boolean:Boolean(!1),message:"You do not have permission for this action"}},fileAddedQuality:function(e){this.quality_photos.push(e),this.customStyles,this.customStyles},handleClick2:function(e){var t=this;this.$confirm({message:"Are you sure?",button:{no:"No",yes:"Yes"},callback:function(n){var r=t.newCard[e];if(n){if("receiver_approval"==e){var i=s["d"].collection("cards").doc(t.card.id);i.update({receiver_approval:r}),i.update({updatedOn:new Date}),i.update({"team.receiver":t.newCard.receiver})}else if("quality_approval"==e){var a=s["d"].collection("cards").doc(t.card.id);a.update({quality_approval:r}),a.update({updatedOn:new Date}),a.update({"team.quality_approver.user":t.newCard.quality_approver})}}else t.newCard[e]=!t.newCard[e]}})},handleClick3:function(){var e=this;this.$confirm({message:"Are you sure?",button:{no:"No",yes:"Yes"},callback:function(t){if(t){var n=s["d"].collection("cards").doc(e.card.id);n.update({hubdoc:e.newCard.hubdoc}),n.update({updatedOn:new Date})}else e.newCard.hubdoc=!e.newCard.hubdoc}})},newQualityPhoto:function(e){var t=this,n=[];e.forEach((function(e){var r=e.name,i=s["j"].ref().child("QualityPhotos/".concat(t.product_id,"/").concat(t.card.id,"/").concat(r));i.put(e);var a={file_name:r,file_doc:e};n.push(a)})),this.newCard.quality_photos=n,this.upload_quality_photos=!1},template:function(){return'<div class="dz-preview dz-file-preview" style=" position: relative; display: inline-block;  margin-left: 5px; width: 100px;height: 60px;padding: 8px;background-color: rgba(0, 0, 0, 0.05); text-align: center; border-radius: 10px;">\n                  <span data-dz-remove>\n                  <i style="transform: translate(45px, -15px);" class="material-icons">cancel</i>\n                  </span>\n                  <div class="dz-image">\n                      <div data-dz-thumbnail></div>\n                  </div>\n                  <div class="dz-details" style="transform: translate(0px, -18px)">\n                      <div class="dz-filename" style="overflow: hidden; height: 20px"><span data-dz-name></span></div>\n                  </div>\n                  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n                  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n                  <div class="dz-success-mark"><i class="fa fa-check"></i></div>\n                  <div class="dz-error-mark"><i class="fa fa-close"></i></div>\n\n            </div>\n        '},thumbnail:function(e,t){var n,r,i,a;if(e.previewElement){for(e.previewElement.classList.remove("dz-file-preview"),i=e.previewElement.querySelectorAll("[data-dz-thumbnail-bg]"),n=0,r=i.length;n<r;n++)a=i[n],a.alt=e.name,a.style.backgroundImage='url("'+t+'")';return setTimeout(function(){return function(){return e.previewElement.classList.add("dz-image-preview")}}(),1)}}},created:function(){this.getUsers},mounted:function(){console.log(this.team)}},Ne=ze,je=(n("d4af"),n("b974")),$e=n("15fd"),Re=(n("0481"),n("ec29"),n("9d01"),n("fe09")),Me=n("c37a"),qe=n("c3f0"),Le=n("0789"),Ve=n("490a"),Ue=n("80d2"),Be=["title"],Ye=Re["a"].extend({name:"v-switch",directives:{Touch:qe["a"]},props:{inset:Boolean,loading:{type:[Boolean,String],default:!1},flat:{type:Boolean,default:!1}},computed:{classes:function(){return Object(A["a"])(Object(A["a"])({},Me["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--switch":!0,"v-input--switch--flat":this.flat,"v-input--switch--inset":this.inset})},attrs:function(){return{"aria-checked":String(this.isActive),"aria-disabled":String(this.isDisabled),role:"switch"}},validationState:function(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0},switchData:function(){return this.setTextColor(this.loading?void 0:this.validationState,{class:this.themeClasses})}},methods:{genDefaultSlot:function(){return[this.genSwitch(),this.genLabel()]},genSwitch:function(){var e=this.attrs$,t=(e.title,Object($e["a"])(e,Be));return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",Object(A["a"])(Object(A["a"])({},this.attrs),t)),this.genRipple(this.setTextColor(this.validationState,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",Object(A["a"])({staticClass:"v-input--switch__track"},this.switchData)),this.$createElement("div",Object(A["a"])({staticClass:"v-input--switch__thumb"},this.switchData),[this.genProgress()])])},genProgress:function(){return this.$createElement(Le["c"],{},[!1===this.loading?null:this.$slots.progress||this.$createElement(Ve["a"],{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft:function(){this.isActive&&this.onChange()},onSwipeRight:function(){this.isActive||this.onChange()},onKeydown:function(e){(e.keyCode===Ue["s"].left&&this.isActive||e.keyCode===Ue["s"].right&&!this.isActive)&&this.onChange()}}}),Qe=Object(p["a"])(Ne,Pe,Te,!1,null,"64b66bff",null),He=Qe.exports;f()(Qe,{VBtn:v["a"],VCardTitle:$["d"],VChip:Q["a"],VCol:g["a"],VContainer:H["a"],VDialog:R["a"],VForm:y["a"],VIcon:M["a"],VRadio:te["a"],VRadioGroup:ne["a"],VRow:_["a"],VSelect:je["a"],VSwitch:Ye,VTextField:w["a"],VTooltip:re["a"]});var We=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-form",[n("v-container",[n("v-row",{attrs:{justify:"start"}},[n("v-col",{attrs:{cols:"12",sm:"4",md:"4"}},[n("v-text-field",{attrs:{label:"Purchase Approver Personal:"},model:{value:e.team["purchase_approver"].users[0].text,callback:function(t){e.$set(e.team["purchase_approver"].users[0],"text",t)},expression:"team['purchase_approver'].users[0].text"}})],1),n("v-col",{attrs:{cols:"12",sm:"4",md:"4"}},[n("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{value:e.card.delivery_date,label:"Delivery Date","prepend-icon":"mdi-calendar",readonly:""}},"v-text-field",i,!1),r))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[n("v-date-picker",{attrs:{landscape:""},on:{input:function(t){return e.addDeliveryDate()}},model:{value:e.card.delivery_date,callback:function(t){e.$set(e.card,"delivery_date",t)},expression:"card.delivery_date"}})],1)],1),n("v-col",{staticClass:" d-flex justify-center pt-7",attrs:{cols:"12",sm:"4",md:"4"}},[e.card.POP.length>0?n("v-row",{staticClass:"text-center pt-0",attrs:{justify:"center"}},[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[n("v-btn",e._g(e._b({attrs:{"x-small":"",dark:"",color:"primary"},on:{click:function(t){return e.sendSupplierEmail()}}},"v-btn",i,!1),r),[e._v(" Send Supplier Email ")])]}}],null,!1,2914245949)},[n("span",[e._v("Notify supplier of POP")])]),n("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.confirmationDialog,callback:function(t){e.confirmationDialog=t},expression:"confirmationDialog"}}),n("v-card-text",{staticClass:"numEmails pt-0"},[e._v(" Number of emails sent: "+e._s(e.card.supplier_email_count)+" ")])],1):n("v-row",{staticClass:"text-center pt-0",attrs:{justify:"center"}},[n("v-card-text",{staticClass:"numEmails"},[e._v(" POP has not yet been loaded ")])],1),n("v-snackbar",{staticClass:"text-center",attrs:{timeout:e.timeout,color:"green"},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[n("v-icon",[e._v("email")]),e._v(" Email Sent to Supplier ")],1)],1)],1),n("v-row",{staticClass:"ma-0 pa-0",attrs:{justify:"end","align-content":"end"}},[n("v-btn",{staticClass:"mr-10",attrs:{icon:"",small:"",disabled:!e.checkIfUserInAuthorityArray(e.team.purchase_approver).boolean},on:{click:function(t){e.edit=!e.edit}},model:{value:e.edit,callback:function(t){e.edit=t},expression:"edit"}},[n("v-icon",{staticClass:"pr-7"},[e._v(" edit ")]),n("div",{class:{editON:e.edit}},[e._v("Editing: "+e._s(e.editingStatus))])],1)],1),e._l(e.card.payments,(function(t){return n("v-row",{key:t.Payment,attrs:{justify:"center","align-content":"center"}},[n("v-col",{attrs:{cols:"12",sm:"3",md:"3"}},[n("v-text-field",{attrs:{label:"Payment",readonly:""},model:{value:t.payment,callback:function(n){e.$set(t,"payment",n)},expression:"i.payment"}})],1),n("v-col",{attrs:{cols:"12",sm:"2",md:"2"}},[n("v-text-field",{attrs:{label:"Value",rules:e.inputRules,readonly:!e.edit,prefix:e.card.currency},on:{change:function(t){return e.changeFinalPaymentValue()}},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"i.value"}})],1),"R"!==e.card.currency?n("v-col",{attrs:{cols:"12",sm:"2",md:"2"}},[n("v-text-field",{attrs:{value:e.convertCurrency(t.value),label:"ZAR Value",readonly:!0,prefix:"R"}})],1):e._e(),n("v-col",{attrs:{cols:"12",sm:"2",md:"2"}},[n("v-menu",{attrs:{"v-model":"menu"+e.card.payments.length,"close-on-content-click":!0,"max-width":"290"},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,a=r.attrs;return[n("v-text-field",e._g(e._b({attrs:{value:t.date,label:"Payment Date",readonly:""}},"v-text-field",a,!1),i))]}}],null,!0)},[n("v-date-picker",{attrs:{"allowed-dates":e.allowedDates,disabled:!e.edit},on:{change:function(n){return e.addDate(t.date)}},model:{value:t.date,callback:function(n){e.$set(t,"date",n)},expression:"i.date"}})],1)],1),n("v-col",{attrs:{cols:"12",sm:"3",md:"3","align-self":"center"}},[n("v-tooltip",{attrs:{top:"",disabled:e.checkIfUserInAuthorityArray(e.team.purchase_approver).boolean},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on,a=r.attrs;return[n("div",e._g(e._b({},"div",a,!1),i),[n("v-checkbox",{staticClass:"ma-0 pa-0",attrs:{label:"Confirm Payment",disabled:e.allowed,color:"success",dense:""},on:{change:function(t){return e.addPaymentsToProduct()}},model:{value:t.committed,callback:function(n){e.$set(t,"committed",n)},expression:"i.committed"}})],1)]}}],null,!0)},[n("span",[e._v(" "+e._s(e.checkIfUserInAuthorityArray(e.team.purchase_approver).message)+" ")])])],1)],1)})),n("v-snackbar",{staticClass:"text-center",attrs:{color:"green",timeout:"2000","data-cypress":"updatedCardSnackbar"},model:{value:e.savedAlert,callback:function(t){e.savedAlert=t},expression:"savedAlert"}},[n("v-icon",[e._v("check_circle")]),e._v(" Payment Updated ")],1),n("v-snackbar",{staticClass:"text-center",attrs:{color:"green",timeout:"2000","data-cypress":"updatedCardSnackbar"},model:{value:e.savedAlert2,callback:function(t){e.savedAlert2=t},expression:"savedAlert2"}},[n("v-icon",[e._v("check_circle")]),e._v(" Delivery Date Updated ")],1),n("Comments",{staticClass:"comments",attrs:{cardComments:e.cardComments,position:e.commentPosition,cardId:e.card.id}})],2)],1)},Ge=[],Xe={components:{Comments:x},props:{card:{type:Object,required:!0},cardComments:{type:Array,required:!0},commentPosition:{type:Number,required:!0},counter:{type:Number,required:!0},product:{type:Object,required:!0},rates:{type:Object,required:!0},stepName:{type:String,required:!0},team:{type:Object,required:!0}},data:function(){return{confirmationDialog:!1,date:"",deliveryDate:"",edit:!1,inputRules:[function(e){return e.length>=3||"Minimum length is 3 characters"}],menu2:!1,savedAlert:!1,savedAlert2:!1,snackbar:!1,symbols:{R$:"BRL","":"EUR","":"GBP",$:"USD"},timeout:2e3}},computed:Object(A["a"])(Object(A["a"])({},Object(D["d"])({currentUser:function(e){return e.profile.userProfile}})),{},{allowed:function(){var e=!0;return this.checkIfUserInAuthorityArray(this.team.purchase_approver).boolean&&(e=!1),e},editingStatus:function(){return this.edit?"ON":"OFF"}}),methods:{addDate:function(e){this.date=e,this.saveChanges()},addDeliveryDate:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.savedAlert2=!0,e.menu2=!1,n=s["d"].collection("cards").doc(e.card.id),t.next=5,n.update({delivery_date:e.card.delivery_date});case 5:return r=s["d"].collection("products").doc(e.card.product_id),t.next=8,r.update({delivery_date:e.card.delivery_date});case 8:case"end":return t.stop()}}),t)})))()},allowedDates:function(e){return 2==new Date(e).getDay()||4==new Date(e).getDay()},addPaymentsToProduct:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.saveChanges(),n=s["d"].collection("products").doc(e.card.product_id),"R"!==e.card.currency&&e.card.payments.forEach((function(t){t.value=e.convertCurrency(t.value)})),t.next=5,n.update({payments:e.card.payments});case 5:case"end":return t.stop()}}),t)})))()},changeFinalPaymentValue:function(){var e=parseFloat(this.card.total_inc_vat);this.card.payments.forEach((function(t){"Final Payment"!==t.payment&&(e-=parseFloat(t.value))})),this.card.payments[0].value=parseFloat(e).toFixed(2),this.saveChanges()},checkIfUserInAuthorityArray:function(e){var t=this.currentUser.id,n=[];return e.users.forEach((function(e){n.push(e.value)})),this.counter>0&&n.includes(t)&&5==this.card.list_id?{boolean:Boolean(!0),message:""}:0==this.counter&&n.includes(t)?{boolean:Boolean(!1),message:"Please check the quote information first"}:{boolean:Boolean(!1),message:"You do not have permission for this action"}},convertCurrency:function(e){var t=e*(1/this.rates[this.symbols[this.card.currency]]);return t.toFixed(2)},handleClick:function(e,t){var n=this,r=this.checkIfUserInAuthorityArray(e).boolean;1==r&&this.$confirm({message:"Are you sure?",button:{no:"No",yes:"Yes"},callback:function(e){var r=n.newCard[t];if(e){if("technical_approval"==t){var i=s["d"].collection("cards").doc(n.card.id);i.update({technical_approval:r}),i.update({updatedOn:new Date})}else if("purchase_approval"==t){var a=s["d"].collection("cards").doc(n.card.id);a.update({purchase_approval:r}),a.update({updatedOn:new Date})}else if("procured"==t){var o=s["d"].collection("cards").doc(n.card.id);o.update({procured:r}),o.update({updatedOn:new Date}),1==r?o.get().then((function(e){var t=e.data().team.programme.programme_id,n=e.data().total_inc_vat,r=s["d"].collection("programmes").doc(t);r.get().then((function(e){var t=e.data().total,i=parseFloat(t)+parseFloat(n);r.update({total:i.toString()})})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)})):n.moveCardAutoBackward(o)}else if("quality_approval"==t){var l=s["d"].collection("cards").doc(n.card.id);l.update({quality_approval:r}),l.update({updatedOn:new Date}),l.update({"team.quality_approver":n.newCard.quality_approver})}}else n.newCard[t]=!n.newCard[t]}})},sendSupplierEmail:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$confirm({message:"Are you want to send the email?",button:{no:"No",yes:"Yes"},callback:function(t){if(t){e.snackbar=!0;var n=s["d"].collection("cards").doc(e.card.id);n.update({supplier_email_count:e.card.supplier_email_count+1});var r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({card:e.card})};fetch("https://us-central1-purchase-app-staging.cloudfunctions.net/sendEmailToSuppliers",r)}}});case 1:case"end":return t.stop()}}),t)})))()},stepNameFn:function(e,t){if(1==t)return"".concat(e,"_approval");if(2==t)return"".concat(e,"_approver");if(3==t){var n=e.charAt(0).toUpperCase()+e.slice(1);return"".concat(n," Approval")}},saveChanges:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.savedAlert=!0,n=s["d"].collection("cards").doc(e.card.id),t.next=4,n.update({payments:e.card.payments});case 4:case"end":return t.stop()}}),t)})))()}},mounted:function(){}},Ke=Xe,Ze=(n("74e3"),Object(p["a"])(Ke,We,Ge,!1,null,"d6f43170",null)),Je=Ze.exports;f()(Ze,{VBtn:v["a"],VCardText:$["c"],VCheckbox:Y["a"],VCol:g["a"],VContainer:H["a"],VDatePicker:pe["a"],VDialog:R["a"],VForm:y["a"],VIcon:M["a"],VMenu:he["a"],VRow:_["a"],VSnackbar:W["a"],VTextField:w["a"],VTooltip:re["a"]});var et={components:{Comments:x,PurchaseInfo:Ie,QualityInfo:He,QuoteInfo:X,TechApproval:ae,PurApproval:ye,PurchaseClosure:Je},props:{card:{type:Object,required:!0},cardComments:{type:Array,required:!0},listId:{type:Number,required:!0},product:{type:Object,required:!0},team:{type:Object,required:!0}},data:function(){return{cardDialog:!1,counter:0,rates:{}}},computed:{users:function(){var e=this.$store.getters.getUsers;return e},cardUser:function(){var e=this,t=this.users.filter((function(t){return t.id==e.card.creator}));return this.nameSurname(t[0].name,t[0].surname)}},methods:{dateFormat:function(e){var t=c()(e.toDate()).format("Do MMM YYYY");return t},getRates:function(){var e=this;fetch("https://api.exchangerate.host/latest?base=ZAR&symbols=GBP,USD,EUR,BRL").then((function(e){return e.json()})).then((function(t){var n=["BRL","EUR","GBP","USD"];n.forEach((function(n){e.rates[n]=t.rates[n].toFixed(4)}))}))},nameSurname:function(e,t){return e+" "+t},progressbarColor:function(e){var t={1:["teal lighten-1",14.3],2:["amber accent-2",28.5],3:["orange",42.85],4:["red",57.14],5:["light-green lighten-1",71.43],6:["indigo lighten-1",100]};return t[e]}},created:function(){this.$store.dispatch("getUsers"),this.getRates()},mounted:function(){}},tt=et,nt=(n("5a15"),n("8836"),n("10d2")),rt=n("3206"),it=n("a452"),at=n("58df"),ot=n("d9bd"),st=Object(at["a"])(nt["a"],Object(rt["b"])("stepper"),it["a"]),lt=st.extend({name:"v-stepper",provide:function(){return{stepClick:this.stepClick,isVertical:this.vertical}},props:{altLabels:Boolean,nonLinear:Boolean,flat:Boolean,vertical:Boolean},data:function(){var e={isBooted:!1,steps:[],content:[],isReverse:!1};return e.internalLazyValue=null!=this.value?this.value:(e[0]||{}).step||1,e},computed:{classes:function(){return Object(A["a"])({"v-stepper--flat":this.flat,"v-stepper--is-booted":this.isBooted,"v-stepper--vertical":this.vertical,"v-stepper--alt-labels":this.altLabels,"v-stepper--non-linear":this.nonLinear},nt["a"].options.computed.classes.call(this))},styles:function(){return Object(A["a"])({},nt["a"].options.computed.styles.call(this))}},watch:{internalValue:function(e,t){this.isReverse=Number(e)<Number(t),t&&(this.isBooted=!0),this.updateView()}},created:function(){this.$listeners.input&&Object(ot["a"])("@input","@change",this)},mounted:function(){this.updateView()},methods:{register:function(e){"v-stepper-step"===e.$options.name?this.steps.push(e):"v-stepper-content"===e.$options.name&&(e.isVertical=this.vertical,this.content.push(e))},unregister:function(e){"v-stepper-step"===e.$options.name?this.steps=this.steps.filter((function(t){return t!==e})):"v-stepper-content"===e.$options.name&&(e.isVertical=this.vertical,this.content=this.content.filter((function(t){return t!==e})))},stepClick:function(e){var t=this;this.$nextTick((function(){return t.internalValue=e}))},updateView:function(){for(var e=this.steps.length;--e>=0;)this.steps[e].toggle(this.internalValue);for(var t=this.content.length;--t>=0;)this.content[t].toggle(this.internalValue,this.isReverse)}},render:function(e){return e(this.tag,{staticClass:"v-stepper",class:this.classes,style:this.styles},this.$slots.default)}}),ct=Object(at["a"])(Object(rt["a"])("stepper","v-stepper-content","v-stepper")),ut=ct.extend().extend({name:"v-stepper-content",inject:{isVerticalProvided:{from:"isVertical"}},props:{step:{type:[Number,String],required:!0}},data:function(){return{height:0,isActive:null,isReverse:!1,isVertical:this.isVerticalProvided}},computed:{computedTransition:function(){var e=this.$vuetify.rtl?!this.isReverse:this.isReverse;return e?Le["f"]:Le["g"]},styles:function(){return this.isVertical?{height:Object(Ue["f"])(this.height)}:{}}},watch:{isActive:function(e,t){e&&null==t?this.height="auto":this.isVertical&&(this.isActive?this.enter():this.leave())}},mounted:function(){this.$refs.wrapper.addEventListener("transitionend",this.onTransition,!1),this.stepper&&this.stepper.register(this)},beforeDestroy:function(){this.$refs.wrapper.removeEventListener("transitionend",this.onTransition,!1),this.stepper&&this.stepper.unregister(this)},methods:{onTransition:function(e){this.isActive&&"height"===e.propertyName&&(this.height="auto")},enter:function(){var e=this,t=0;requestAnimationFrame((function(){t=e.$refs.wrapper.scrollHeight})),this.height=0,setTimeout((function(){return e.isActive&&(e.height=t||"auto")}),450)},leave:function(){var e=this;this.height=this.$refs.wrapper.clientHeight,setTimeout((function(){return e.height=0}),10)},toggle:function(e,t){this.isActive=e.toString()===this.step.toString(),this.isReverse=t}},render:function(e){var t={staticClass:"v-stepper__content"},n={staticClass:"v-stepper__wrapper",style:this.styles,ref:"wrapper"};this.isVertical||(t.directives=[{name:"show",value:this.isActive}]);var r=e("div",n,[this.$slots.default]),i=e("div",t,[r]);return e(this.computedTransition,{on:this.$listeners},[i])}}),dt=n("9d26"),pt=n("a9ad"),ht=n("5607"),ft=Object(at["a"])(pt["a"],Object(rt["a"])("stepper","v-stepper-step","v-stepper")),mt=ft.extend().extend({name:"v-stepper-step",directives:{ripple:ht["a"]},inject:["stepClick"],props:{color:{type:String,default:"primary"},complete:Boolean,completeIcon:{type:String,default:"$complete"},editable:Boolean,editIcon:{type:String,default:"$edit"},errorIcon:{type:String,default:"$error"},rules:{type:Array,default:function(){return[]}},step:[Number,String]},data:function(){return{isActive:!1,isInactive:!0}},computed:{classes:function(){return{"v-stepper__step--active":this.isActive,"v-stepper__step--editable":this.editable,"v-stepper__step--inactive":this.isInactive,"v-stepper__step--error error--text":this.hasError,"v-stepper__step--complete":this.complete}},hasError:function(){return this.rules.some((function(e){return!0!==e()}))}},mounted:function(){this.stepper&&this.stepper.register(this)},beforeDestroy:function(){this.stepper&&this.stepper.unregister(this)},methods:{click:function(e){e.stopPropagation(),this.$emit("click",e),this.editable&&this.stepClick(this.step)},genIcon:function(e){return this.$createElement(dt["a"],e)},genLabel:function(){return this.$createElement("div",{staticClass:"v-stepper__label"},this.$slots.default)},genStep:function(){var e=!(this.hasError||!this.complete&&!this.isActive)&&this.color;return this.$createElement("span",this.setBackgroundColor(e,{staticClass:"v-stepper__step__step"}),this.genStepContent())},genStepContent:function(){var e=[];return this.hasError?e.push(this.genIcon(this.errorIcon)):this.complete?this.editable?e.push(this.genIcon(this.editIcon)):e.push(this.genIcon(this.completeIcon)):e.push(String(this.step)),e},toggle:function(e){this.isActive=e.toString()===this.step.toString(),this.isInactive=Number(e)<Number(this.step)}},render:function(e){return e("div",{staticClass:"v-stepper__step",class:this.classes,directives:[{name:"ripple",value:this.editable}],on:{click:this.click}},[this.genStep(),this.genLabel()])}}),vt=Object(p["a"])(tt,r,i,!1,null,"04e0a55c",null);t["a"]=vt.exports;f()(vt,{VBtn:v["a"],VCard:j["a"],VCardActions:$["a"],VCardSubtitle:$["b"],VCardText:$["c"],VCardTitle:$["d"],VDialog:R["a"],VIcon:M["a"],VProgressCircular:Ve["a"],VSpacer:q["a"],VStepper:lt,VStepperContent:ut,VStepperStep:mt})},b76a:function(e,t,n){(function(t,r){e.exports=r(n("aa47"))})("undefined"!==typeof self&&self,(function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({"01f9":function(e,t,n){"use strict";var r=n("2d00"),i=n("5ca1"),a=n("2aba"),o=n("32e9"),s=n("84f2"),l=n("41a0"),c=n("7f20"),u=n("38fd"),d=n("2b4c")("iterator"),p=!([].keys&&"next"in[].keys()),h="@@iterator",f="keys",m="values",v=function(){return this};e.exports=function(e,t,n,g,b,y,_){l(n,t,g);var w,C,x,k=function(e){if(!p&&e in A)return A[e];switch(e){case f:return function(){return new n(this,e)};case m:return function(){return new n(this,e)}}return function(){return new n(this,e)}},S=t+" Iterator",E=b==m,O=!1,A=e.prototype,D=A[d]||A[h]||b&&A[b],F=D||k(b),I=b?E?k("entries"):F:void 0,P="Array"==t&&A.entries||D;if(P&&(x=u(P.call(new e)),x!==Object.prototype&&x.next&&(c(x,S,!0),r||"function"==typeof x[d]||o(x,d,v))),E&&D&&D.name!==m&&(O=!0,F=function(){return D.call(this)}),r&&!_||!p&&!O&&A[d]||o(A,d,F),s[t]=F,s[S]=v,b)if(w={values:E?F:k(m),keys:y?F:k(f),entries:I},_)for(C in w)C in A||a(A,C,w[C]);else i(i.P+i.F*(p||O),t,w);return w}},"02f4":function(e,t,n){var r=n("4588"),i=n("be13");e.exports=function(e){return function(t,n){var a,o,s=String(i(t)),l=r(n),c=s.length;return l<0||l>=c?e?"":void 0:(a=s.charCodeAt(l),a<55296||a>56319||l+1===c||(o=s.charCodeAt(l+1))<56320||o>57343?e?s.charAt(l):a:e?s.slice(l,l+2):o-56320+(a-55296<<10)+65536)}}},"0390":function(e,t,n){"use strict";var r=n("02f4")(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},"0bfb":function(e,t,n){"use strict";var r=n("cb7c");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"0d58":function(e,t,n){var r=n("ce10"),i=n("e11e");e.exports=Object.keys||function(e){return r(e,i)}},1495:function(e,t,n){var r=n("86cc"),i=n("cb7c"),a=n("0d58");e.exports=n("9e1e")?Object.defineProperties:function(e,t){i(e);var n,o=a(t),s=o.length,l=0;while(s>l)r.f(e,n=o[l++],t[n]);return e}},"214f":function(e,t,n){"use strict";n("b0c5");var r=n("2aba"),i=n("32e9"),a=n("79e5"),o=n("be13"),s=n("2b4c"),l=n("520a"),c=s("species"),u=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),d=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var p=s(e),h=!a((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),f=h?!a((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[c]=function(){return n}),n[p](""),!t})):void 0;if(!h||!f||"replace"===e&&!u||"split"===e&&!d){var m=/./[p],v=n(o,p,""[e],(function(e,t,n,r,i){return t.exec===l?h&&!i?{done:!0,value:m.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),g=v[0],b=v[1];r(String.prototype,e,g),i(RegExp.prototype,p,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}}},"230e":function(e,t,n){var r=n("d3f4"),i=n("7726").document,a=r(i)&&r(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},"23c6":function(e,t,n){var r=n("2d95"),i=n("2b4c")("toStringTag"),a="Arguments"==r(function(){return arguments}()),o=function(e,t){try{return e[t]}catch(n){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=o(t=Object(e),i))?n:a?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},2621:function(e,t){t.f=Object.getOwnPropertySymbols},"2aba":function(e,t,n){var r=n("7726"),i=n("32e9"),a=n("69a8"),o=n("ca5a")("src"),s=n("fa5b"),l="toString",c=(""+s).split(l);n("8378").inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var l="function"==typeof n;l&&(a(n,"name")||i(n,"name",t)),e[t]!==n&&(l&&(a(n,o)||i(n,o,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,l,(function(){return"function"==typeof this&&this[o]||s.call(this)}))},"2aeb":function(e,t,n){var r=n("cb7c"),i=n("1495"),a=n("e11e"),o=n("613b")("IE_PROTO"),s=function(){},l="prototype",c=function(){var e,t=n("230e")("iframe"),r=a.length,i="<",o=">";t.style.display="none",n("fab2").appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(i+"script"+o+"document.F=Object"+i+"/script"+o),e.close(),c=e.F;while(r--)delete c[l][a[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(s[l]=r(e),n=new s,s[l]=null,n[o]=e):n=c(),void 0===t?n:i(n,t)}},"2b4c":function(e,t,n){var r=n("5537")("wks"),i=n("ca5a"),a=n("7726").Symbol,o="function"==typeof a,s=e.exports=function(e){return r[e]||(r[e]=o&&a[e]||(o?a:i)("Symbol."+e))};s.store=r},"2d00":function(e,t){e.exports=!1},"2d95":function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},"2fdb":function(e,t,n){"use strict";var r=n("5ca1"),i=n("d2c8"),a="includes";r(r.P+r.F*n("5147")(a),"String",{includes:function(e){return!!~i(this,e,a).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},"32e9":function(e,t,n){var r=n("86cc"),i=n("4630");e.exports=n("9e1e")?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},"38fd":function(e,t,n){var r=n("69a8"),i=n("4bf8"),a=n("613b")("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},"41a0":function(e,t,n){"use strict";var r=n("2aeb"),i=n("4630"),a=n("7f20"),o={};n("32e9")(o,n("2b4c")("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(o,{next:i(1,n)}),a(e,t+" Iterator")}},"456d":function(e,t,n){var r=n("4bf8"),i=n("0d58");n("5eda")("keys",(function(){return function(e){return i(r(e))}}))},4588:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},4630:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"4bf8":function(e,t,n){var r=n("be13");e.exports=function(e){return Object(r(e))}},5147:function(e,t,n){var r=n("2b4c")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(i){}}return!0}},"520a":function(e,t,n){"use strict";var r=n("0bfb"),i=RegExp.prototype.exec,a=String.prototype.replace,o=i,s="lastIndex",l=function(){var e=/a/,t=/b*/g;return i.call(e,"a"),i.call(t,"a"),0!==e[s]||0!==t[s]}(),c=void 0!==/()??/.exec("")[1],u=l||c;u&&(o=function(e){var t,n,o,u,d=this;return c&&(n=new RegExp("^"+d.source+"$(?!\\s)",r.call(d))),l&&(t=d[s]),o=i.call(d,e),l&&o&&(d[s]=d.global?o.index+o[0].length:t),c&&o&&o.length>1&&a.call(o[0],n,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(o[u]=void 0)})),o}),e.exports=o},"52a7":function(e,t){t.f={}.propertyIsEnumerable},5537:function(e,t,n){var r=n("8378"),i=n("7726"),a="__core-js_shared__",o=i[a]||(i[a]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n("2d00")?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},"5ca1":function(e,t,n){var r=n("7726"),i=n("8378"),a=n("32e9"),o=n("2aba"),s=n("9b43"),l="prototype",c=function(e,t,n){var u,d,p,h,f=e&c.F,m=e&c.G,v=e&c.S,g=e&c.P,b=e&c.B,y=m?r:v?r[t]||(r[t]={}):(r[t]||{})[l],_=m?i:i[t]||(i[t]={}),w=_[l]||(_[l]={});for(u in m&&(n=t),n)d=!f&&y&&void 0!==y[u],p=(d?y:n)[u],h=b&&d?s(p,r):g&&"function"==typeof p?s(Function.call,p):p,y&&o(y,u,p,e&c.U),_[u]!=p&&a(_,u,h),g&&w[u]!=p&&(w[u]=p)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},"5eda":function(e,t,n){var r=n("5ca1"),i=n("8378"),a=n("79e5");e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],o={};o[e]=t(n),r(r.S+r.F*a((function(){n(1)})),"Object",o)}},"5f1b":function(e,t,n){"use strict";var r=n("23c6"),i=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var a=n.call(e,t);if("object"!==typeof a)throw new TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},"613b":function(e,t,n){var r=n("5537")("keys"),i=n("ca5a");e.exports=function(e){return r[e]||(r[e]=i(e))}},"626a":function(e,t,n){var r=n("2d95");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},6762:function(e,t,n){"use strict";var r=n("5ca1"),i=n("c366")(!0);r(r.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},6821:function(e,t,n){var r=n("626a"),i=n("be13");e.exports=function(e){return r(i(e))}},"69a8":function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},"6a99":function(e,t,n){var r=n("d3f4");e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},7333:function(e,t,n){"use strict";var r=n("0d58"),i=n("2621"),a=n("52a7"),o=n("4bf8"),s=n("626a"),l=Object.assign;e.exports=!l||n("79e5")((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r}))?function(e,t){var n=o(e),l=arguments.length,c=1,u=i.f,d=a.f;while(l>c){var p,h=s(arguments[c++]),f=u?r(h).concat(u(h)):r(h),m=f.length,v=0;while(m>v)d.call(h,p=f[v++])&&(n[p]=h[p])}return n}:l},7726:function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"77f1":function(e,t,n){var r=n("4588"),i=Math.max,a=Math.min;e.exports=function(e,t){return e=r(e),e<0?i(e+t,0):a(e,t)}},"79e5":function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},"7f20":function(e,t,n){var r=n("86cc").f,i=n("69a8"),a=n("2b4c")("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},8378:function(e,t){var n=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},"84f2":function(e,t){e.exports={}},"86cc":function(e,t,n){var r=n("cb7c"),i=n("c69a"),a=n("6a99"),o=Object.defineProperty;t.f=n("9e1e")?Object.defineProperty:function(e,t,n){if(r(e),t=a(t,!0),r(n),i)try{return o(e,t,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},"9b43":function(e,t,n){var r=n("d8e8");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},"9c6c":function(e,t,n){var r=n("2b4c")("unscopables"),i=Array.prototype;void 0==i[r]&&n("32e9")(i,r,{}),e.exports=function(e){i[r][e]=!0}},"9def":function(e,t,n){var r=n("4588"),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},"9e1e":function(e,t,n){e.exports=!n("79e5")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},a352:function(t,n){t.exports=e},a481:function(e,t,n){"use strict";var r=n("cb7c"),i=n("4bf8"),a=n("9def"),o=n("4588"),s=n("0390"),l=n("5f1b"),c=Math.max,u=Math.min,d=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,h=/\$([$&`']|\d\d?)/g,f=function(e){return void 0===e?e:String(e)};n("214f")("replace",2,(function(e,t,n,m){return[function(r,i){var a=e(this),o=void 0==r?void 0:r[t];return void 0!==o?o.call(r,a,i):n.call(String(a),r,i)},function(e,t){var i=m(n,e,this,t);if(i.done)return i.value;var d=r(e),p=String(this),h="function"===typeof t;h||(t=String(t));var g=d.global;if(g){var b=d.unicode;d.lastIndex=0}var y=[];while(1){var _=l(d,p);if(null===_)break;if(y.push(_),!g)break;var w=String(_[0]);""===w&&(d.lastIndex=s(p,a(d.lastIndex),b))}for(var C="",x=0,k=0;k<y.length;k++){_=y[k];for(var S=String(_[0]),E=c(u(o(_.index),p.length),0),O=[],A=1;A<_.length;A++)O.push(f(_[A]));var D=_.groups;if(h){var F=[S].concat(O,E,p);void 0!==D&&F.push(D);var I=String(t.apply(void 0,F))}else I=v(S,p,E,O,D,t);E>=x&&(C+=p.slice(x,E)+I,x=E+S.length)}return C+p.slice(x)}];function v(e,t,r,a,o,s){var l=r+e.length,c=a.length,u=h;return void 0!==o&&(o=i(o),u=p),n.call(s,u,(function(n,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(l);case"<":s=o[i.slice(1,-1)];break;default:var u=+i;if(0===u)return n;if(u>c){var p=d(u/10);return 0===p?n:p<=c?void 0===a[p-1]?i.charAt(1):a[p-1]+i.charAt(1):n}s=a[u-1]}return void 0===s?"":s}))}}))},aae3:function(e,t,n){var r=n("d3f4"),i=n("2d95"),a=n("2b4c")("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},ac6a:function(e,t,n){for(var r=n("cadf"),i=n("0d58"),a=n("2aba"),o=n("7726"),s=n("32e9"),l=n("84f2"),c=n("2b4c"),u=c("iterator"),d=c("toStringTag"),p=l.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=i(h),m=0;m<f.length;m++){var v,g=f[m],b=h[g],y=o[g],_=y&&y.prototype;if(_&&(_[u]||s(_,u,p),_[d]||s(_,d,g),l[g]=p,b))for(v in r)_[v]||a(_,v,r[v],!0)}},b0c5:function(e,t,n){"use strict";var r=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},be13:function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},c366:function(e,t,n){var r=n("6821"),i=n("9def"),a=n("77f1");e.exports=function(e){return function(t,n,o){var s,l=r(t),c=i(l.length),u=a(o,c);if(e&&n!=n){while(c>u)if(s=l[u++],s!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}}},c649:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return l}));n("a481");function r(){return"undefined"!==typeof window?window.console:e.console}var i=r();function a(e){var t=Object.create(null);return function(n){var r=t[n];return r||(t[n]=e(n))}}var o=/-(\w)/g,s=a((function(e){return e.replace(o,(function(e,t){return t?t.toUpperCase():""}))}));function l(e){null!==e.parentElement&&e.parentElement.removeChild(e)}function c(e,t,n){var r=0===n?e.children[0]:e.children[n-1].nextSibling;e.insertBefore(t,r)}}).call(this,n("c8ba"))},c69a:function(e,t,n){e.exports=!n("9e1e")&&!n("79e5")((function(){return 7!=Object.defineProperty(n("230e")("div"),"a",{get:function(){return 7}}).a}))},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},ca5a:function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},cadf:function(e,t,n){"use strict";var r=n("9c6c"),i=n("d53b"),a=n("84f2"),o=n("6821");e.exports=n("01f9")(Array,"Array",(function(e,t){this._t=o(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},cb7c:function(e,t,n){var r=n("d3f4");e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},ce10:function(e,t,n){var r=n("69a8"),i=n("6821"),a=n("c366")(!1),o=n("613b")("IE_PROTO");e.exports=function(e,t){var n,s=i(e),l=0,c=[];for(n in s)n!=o&&r(s,n)&&c.push(n);while(t.length>l)r(s,n=t[l++])&&(~a(c,n)||c.push(n));return c}},d2c8:function(e,t,n){var r=n("aae3"),i=n("be13");e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},d3f4:function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},d53b:function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},d8e8:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},e11e:function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},f559:function(e,t,n){"use strict";var r=n("5ca1"),i=n("9def"),a=n("d2c8"),o="startsWith",s=""[o];r(r.P+r.F*n("5147")(o),"String",{startsWith:function(e){var t=a(this,e,o),n=i(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return s?s.call(t,r,n):t.slice(n,n+r.length)===r}})},f6fd:function(e,t){(function(e){var t="currentScript",n=e.getElementsByTagName("script");t in e||Object.defineProperty(e,t,{get:function(){try{throw new Error}catch(r){var e,t=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(r.stack)||[!1])[1];for(e in n)if(n[e].src==t||"interactive"==n[e].readyState)return n[e];return null}}})})(document)},f751:function(e,t,n){var r=n("5ca1");r(r.S+r.F,"Object",{assign:n("7333")})},fa5b:function(e,t,n){e.exports=n("5537")("native-function-to-string",Function.toString)},fab2:function(e,t,n){var r=n("7726").document;e.exports=r&&r.documentElement},fb15:function(e,t,n){"use strict";var r;(n.r(t),"undefined"!==typeof window)&&(n("f6fd"),(r=window.document.currentScript)&&(r=r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=r[1]));n("f751"),n("f559"),n("ac6a"),n("cadf"),n("456d");function i(e){if(Array.isArray(e))return e}function a(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)if(n.push(o.value),t&&n.length===t)break}catch(l){i=!0,a=l}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw a}}return n}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return i(e)||a(e,t)||s(e,t)||l()}n("6762"),n("2fdb");function u(e){if(Array.isArray(e))return o(e)}function d(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e){return u(e)||d(e)||s(e)||p()}var f=n("a352"),m=n.n(f),v=n("c649");function g(e,t,n){return void 0===n||(e=e||{},e[t]=n),e}function b(e,t){return e.map((function(e){return e.elm})).indexOf(t)}function y(e,t,n,r){if(!e)return[];var i=e.map((function(e){return e.elm})),a=t.length-r,o=h(t).map((function(e,t){return t>=a?i.length:i.indexOf(e)}));return n?o.filter((function(e){return-1!==e})):o}function _(e,t){var n=this;this.$nextTick((function(){return n.$emit(e.toLowerCase(),t)}))}function w(e){var t=this;return function(n){null!==t.realList&&t["onDrag"+e](n),_.call(t,e,n)}}function C(e){return["transition-group","TransitionGroup"].includes(e)}function x(e){if(!e||1!==e.length)return!1;var t=c(e,1),n=t[0].componentOptions;return!!n&&C(n.tag)}function k(e,t,n){return e[n]||(t[n]?t[n]():void 0)}function S(e,t,n){var r=0,i=0,a=k(t,n,"header");a&&(r=a.length,e=e?[].concat(h(a),h(e)):h(a));var o=k(t,n,"footer");return o&&(i=o.length,e=e?[].concat(h(e),h(o)):h(o)),{children:e,headerOffset:r,footerOffset:i}}function E(e,t){var n=null,r=function(e,t){n=g(n,e,t)},i=Object.keys(e).filter((function(e){return"id"===e||e.startsWith("data-")})).reduce((function(t,n){return t[n]=e[n],t}),{});if(r("attrs",i),!t)return n;var a=t.on,o=t.props,s=t.attrs;return r("on",a),r("props",o),Object.assign(n.attrs,s),n}var O=["Start","Add","Remove","Update","End"],A=["Choose","Unchoose","Sort","Filter","Clone"],D=["Move"].concat(O,A).map((function(e){return"on"+e})),F=null,I={options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function(e){return e}},element:{type:String,default:"div"},tag:{type:String,default:null},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},P={name:"draggable",inheritAttrs:!1,props:I,data:function(){return{transitionMode:!1,noneFunctionalComponentMode:!1}},render:function(e){var t=this.$slots.default;this.transitionMode=x(t);var n=S(t,this.$slots,this.$scopedSlots),r=n.children,i=n.headerOffset,a=n.footerOffset;this.headerOffset=i,this.footerOffset=a;var o=E(this.$attrs,this.componentData);return e(this.getTag(),o,r)},created:function(){null!==this.list&&null!==this.value&&v["b"].error("Value and list props are mutually exclusive! Please set one or another."),"div"!==this.element&&v["b"].warn("Element props is deprecated please use tag props instead. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#element-props"),void 0!==this.options&&v["b"].warn("Options props is deprecated, add sortable options directly as vue.draggable item, or use v-bind. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#options-props")},mounted:function(){var e=this;if(this.noneFunctionalComponentMode=this.getTag().toLowerCase()!==this.$el.nodeName.toLowerCase()&&!this.getIsFunctional(),this.noneFunctionalComponentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter tag value or remove transition-group. Current tag value: ".concat(this.getTag()));var t={};O.forEach((function(n){t["on"+n]=w.call(e,n)})),A.forEach((function(n){t["on"+n]=_.bind(e,n)}));var n=Object.keys(this.$attrs).reduce((function(t,n){return t[Object(v["a"])(n)]=e.$attrs[n],t}),{}),r=Object.assign({},this.options,n,t,{onMove:function(t,n){return e.onDragMove(t,n)}});!("draggable"in r)&&(r.draggable=">*"),this._sortable=new m.a(this.rootContainer,r),this.computeIndexes()},beforeDestroy:function(){void 0!==this._sortable&&this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(e){this.updateOptions(e)},deep:!0},$attrs:{handler:function(e){this.updateOptions(e)},deep:!0},realList:function(){this.computeIndexes()}},methods:{getIsFunctional:function(){var e=this._vnode.fnOptions;return e&&e.functional},getTag:function(){return this.tag||this.element},updateOptions:function(e){for(var t in e){var n=Object(v["a"])(t);-1===D.indexOf(n)&&this._sortable.option(n,e[t])}},getChildrenNodes:function(){if(this.noneFunctionalComponentMode)return this.$children[0].$slots.default;var e=this.$slots.default;return this.transitionMode?e[0].child.$slots.default:e},computeIndexes:function(){var e=this;this.$nextTick((function(){e.visibleIndexes=y(e.getChildrenNodes(),e.rootContainer.children,e.transitionMode,e.footerOffset)}))},getUnderlyingVm:function(e){var t=b(this.getChildrenNodes()||[],e);if(-1===t)return null;var n=this.realList[t];return{index:t,element:n}},getUnderlyingPotencialDraggableComponent:function(e){var t=e.__vue__;return t&&t.$options&&C(t.$options._componentTag)?t.$parent:!("realList"in t)&&1===t.$children.length&&"realList"in t.$children[0]?t.$children[0]:t},emitChanges:function(e){var t=this;this.$nextTick((function(){t.$emit("change",e)}))},alterList:function(e){if(this.list)e(this.list);else{var t=h(this.value);e(t),this.$emit("input",t)}},spliceList:function(){var e=arguments,t=function(t){return t.splice.apply(t,h(e))};this.alterList(t)},updatePosition:function(e,t){var n=function(n){return n.splice(t,0,n.splice(e,1)[0])};this.alterList(n)},getRelatedContextFromMoveEvent:function(e){var t=e.to,n=e.related,r=this.getUnderlyingPotencialDraggableComponent(t);if(!r)return{component:r};var i=r.realList,a={list:i,component:r};if(t!==n&&i&&r.getUnderlyingVm){var o=r.getUnderlyingVm(n);if(o)return Object.assign(o,a)}return a},getVmIndex:function(e){var t=this.visibleIndexes,n=t.length;return e>n-1?n:t[e]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(e){if(this.noTransitionOnDrag&&this.transitionMode){var t=this.getChildrenNodes();t[e].data=null;var n=this.getComponent();n.children=[],n.kept=void 0}},onDragStart:function(e){this.context=this.getUnderlyingVm(e.item),e.item._underlying_vm_=this.clone(this.context.element),F=e.item},onDragAdd:function(e){var t=e.item._underlying_vm_;if(void 0!==t){Object(v["d"])(e.item);var n=this.getVmIndex(e.newIndex);this.spliceList(n,0,t),this.computeIndexes();var r={element:t,newIndex:n};this.emitChanges({added:r})}},onDragRemove:function(e){if(Object(v["c"])(this.rootContainer,e.item,e.oldIndex),"clone"!==e.pullMode){var t=this.context.index;this.spliceList(t,1);var n={element:this.context.element,oldIndex:t};this.resetTransitionData(t),this.emitChanges({removed:n})}else Object(v["d"])(e.clone)},onDragUpdate:function(e){Object(v["d"])(e.item),Object(v["c"])(e.from,e.item,e.oldIndex);var t=this.context.index,n=this.getVmIndex(e.newIndex);this.updatePosition(t,n);var r={element:this.context.element,oldIndex:t,newIndex:n};this.emitChanges({moved:r})},updateProperty:function(e,t){e.hasOwnProperty(t)&&(e[t]+=this.headerOffset)},computeFutureIndex:function(e,t){if(!e.element)return 0;var n=h(t.to.children).filter((function(e){return"none"!==e.style["display"]})),r=n.indexOf(t.related),i=e.component.getVmIndex(r),a=-1!==n.indexOf(F);return a||!t.willInsertAfter?i:i+1},onDragMove:function(e,t){var n=this.move;if(!n||!this.realList)return!0;var r=this.getRelatedContextFromMoveEvent(e),i=this.context,a=this.computeFutureIndex(r,e);Object.assign(i,{futureIndex:a});var o=Object.assign({},e,{relatedContext:r,draggedContext:i});return n(o,t)},onDragEnd:function(){this.computeIndexes(),F=null}}};"undefined"!==typeof window&&"Vue"in window&&window.Vue.component("draggable",P);var T=P;t["default"]=T}})["default"]}))},bf13:function(e,t,n){"use strict";n("0fc0")},ca71:function(e,t,n){},d4af:function(e,t,n){"use strict";n("6f45")},db30:function(e,t,n){"use strict";n("1964")},e35c:function(e,t,n){},ec29:function(e,t,n){},fe09:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));n("d3b7"),n("25f0"),n("4de4");var r=n("c37a"),i=n("5311"),a=n("8547"),o=n("58df");function s(e){e.preventDefault()}t["a"]=Object(o["a"])(r["a"],i["a"],a["a"]).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data:function(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor:function(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple:function(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive:function(){var e=this,t=this.value,n=this.internalValue;return this.isMultiple?!!Array.isArray(n)&&n.some((function(n){return e.valueComparator(n,t)})):void 0===this.trueValue||void 0===this.falseValue?t?this.valueComparator(t,n):Boolean(n):this.valueComparator(n,this.trueValue)},isDirty:function(){return this.isActive},rippleState:function(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue:function(e){this.lazyValue=e,this.hasColor=e}},methods:{genLabel:function(){var e=r["a"].options.methods.genLabel.call(this);return e?(e.data.on={click:s},e):e},genInput:function(e,t){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:e,type:e},t),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:s},ref:"input"})},onBlur:function(){this.isFocused=!1},onClick:function(e){this.onChange(),this.$emit("click",e)},onChange:function(){var e=this;if(this.isInteractive){var t=this.value,n=this.internalValue;if(this.isMultiple){Array.isArray(n)||(n=[]);var r=n.length;n=n.filter((function(n){return!e.valueComparator(n,t)})),n.length===r&&n.push(t)}else n=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(n,this.trueValue)?this.falseValue:this.trueValue:t?this.valueComparator(n,t)?null:t:!n;this.validate(!0,n),this.internalValue=n,this.hasColor=n}},onFocus:function(){this.isFocused=!0},onKeydown:function(e){}}})},ff72:function(e,t,n){}}]);
//# sourceMappingURL=chunk-079678c7.6c154935.js.map