{"version":3,"sources":["webpack:///./src/views/Admin.vue?e857","webpack:///./src/views/Admin.vue?0aa1","webpack:///src/views/Admin.vue","webpack:///./src/views/Admin.vue?5b90","webpack:///./src/views/Admin.vue?3974","webpack:///./node_modules/core-js/modules/es.string.search.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","model","value","callback","$$v","search","expression","length","_l","card","key","name","domProps","_s","_e","getProgrammes","programme","url","staticRenderFns","components","data","clicked","methods","addField","computed","$store","getters","map","select_options","push","searchCards","cards","filter","cardPO","mounted","dispatch","component","VBtn","VCard","VCardActions","VCardText","VContainer","VList","VListItem","VListItemContent","VListItemGroup","VListItemSubtitle","VListItemTitle","VRow","VSelect","VTextField","fixRegExpWellKnownSymbolLogic","anObject","requireObjectCoercible","sameValue","regExpExec","SEARCH","nativeSearch","maybeCallNative","regexp","O","searcher","undefined","call","RegExp","String","res","done","rx","S","previousLastIndex","lastIndex","result","index"],"mappings":"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","file":"js/chunk-6ce6d59f.fa28d607.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Admin.vue?vue&type=style&index=0&id=27ff074c&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"adminContainer\"},[_c('v-row',{attrs:{\"align-content\":\"center\",\"justify\":\"center\"}},[_c('v-card',{attrs:{\"elevation\":\"2\",\"width\":\"50%\"}},[_c('v-card-text',{staticClass:\"v-card-text\"},[_vm._v(\" Search procurement cards by PO number: \"),_c('v-text-field',{attrs:{\"data-cypress\":\"searchbar\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),(_vm.search.length > 2)?_c('v-card-actions',{staticClass:\"justify-center v-card-actions\"},[_c('v-list',{attrs:{\"width\":\"70%\",\"rounded\":\"\"}},[_c('v-list-item-group',_vm._l((_vm.searchCards),function(card){return _c('v-list-item',{key:card.name,staticClass:\"list-item\",attrs:{\"router\":\"\",\"to\":(\"/product/\" + (card.product_id))}},[_c('v-list-item-content',{staticClass:\"text-center\"},[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s((\"\" + (card.name)))}}),_c('v-list-item-subtitle',{domProps:{\"textContent\":_vm._s((\"PO#: \" + (card.PO_number)))}})],1)],1)}),1)],1)],1):_vm._e()],1)],1),_c('v-row',{staticClass:\"adminRow\",attrs:{\"align-content\":\"center\",\"justify\":\"center\"}},[_c('v-card',{attrs:{\"elevation\":\"2\",\"width\":\"50%\"}},[_c('v-card-text',{staticClass:\"v-card-text\"},[_vm._v(\" Select the programme to export as CSV: \"),_c('v-select',{attrs:{\"items\":_vm.getProgrammes},model:{value:(_vm.programme),callback:function ($$v) {_vm.programme=$$v},expression:\"programme\"}})],1),_c('v-card-actions',{staticClass:\"justify-end v-card-actions\"},[_c('v-btn',{attrs:{\"small\":\"\",\"dark\":\"\",\"color\":\"primary\",\"href\":_vm.url}},[_vm._v(\" Export \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container class=\"adminContainer\">\n    <v-row align-content=\"center\" justify=\"center\">\n      <v-card elevation=\"2\" width=\"50%\">\n        <v-card-text class=\"v-card-text\">\n          Search procurement cards by PO number:\n          <v-text-field v-model=\"search\" data-cypress=\"searchbar\">\n          </v-text-field>\n        </v-card-text>\n        <v-card-actions\n          v-if=\"search.length > 2\"\n          class=\"justify-center v-card-actions\"\n        >\n          <v-list width=\"70%\" rounded>\n            <v-list-item-group>\n              <v-list-item\n                v-for=\"card in searchCards\"\n                :key=\"card.name\"\n                class=\"list-item\"\n                router\n                :to=\"`/product/${card.product_id}`\"\n              >\n                <!-- <v-list-item-icon>\n                  <v-icon small>\n                    fiber_manual_record\n                  </v-icon>\n                </v-list-item-icon> -->\n                <v-list-item-content class=\"text-center\">\n                  <v-list-item-title\n                    v-text=\"`${card.name}`\"\n                  ></v-list-item-title>\n                  <v-list-item-subtitle\n                    v-text=\"`PO#: ${card.PO_number}`\"\n                  ></v-list-item-subtitle>\n                </v-list-item-content>\n              </v-list-item>\n            </v-list-item-group>\n          </v-list>\n        </v-card-actions>\n      </v-card>\n    </v-row>\n\n    <v-row align-content=\"center\" justify=\"center\" class=\"adminRow\">\n      <v-card elevation=\"2\" width=\"50%\">\n        <v-card-text class=\"v-card-text\">\n          Select the programme to export as CSV:\n          <v-select v-model=\"programme\" :items=\"getProgrammes\"></v-select>\n        </v-card-text>\n\n        <v-card-actions class=\"justify-end v-card-actions\">\n          <v-btn small dark color=\"primary\" :href=\"url\">\n            Export\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-row>\n\n    <!-- <v-row align-content=\"center\" justify=\"center\" class=\"adminRow\">\n      <v-card elevation=\"2\" width=\"50%\">\n        <v-card-text>\n          Add a field to each doc in firebase:\n        </v-card-text>\n        <v-card-actions class=\"justify-end v-card-actions\">\n          <v-btn\n            :disabled=\"true\"\n            @click=\"addField()\"\n            small\n            dark\n            class=\"addFieldBtn\"\n          >\n            Add Field\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-row> -->\n  </v-container>\n</template>\n\n<script>\n// @ is an alias to /src\nimport { mapActions, mapGetters, mapState } from \"vuex\";\nimport { db } from \"@/firebase\";\n\nexport default {\n  name: \"Admin\",\n  components: {},\n  data() {\n    return {\n      programme: \"\",\n      clicked: false,\n      search: \"\",\n    };\n  },\n  methods: {\n    // The addField function adds a field to all the docs in a firebase collection.\n    addField() {\n      db.collection(\"cards\")\n        .get()\n        .then(function(querySnapshot) {\n          querySnapshot.forEach(function(doc) {\n            doc.ref.update({\n              POP: [],\n            });\n          });\n        });\n      return \"Done!\";\n    },\n  },\n  computed: {\n    ...mapState({\n      cards: (state) => state.cards,\n    }),\n\n    url() {\n      return `https://${process.env.VUE_APP_EXPORT_LINK}.cloudfunctions.net/csvJsonReport/${this.programme}`;\n    },\n\n    getProgrammes() {\n      let select_options = [];\n      this.$store.getters.getProgrammes.map((programme) => {\n        select_options.push({ text: programme.name, value: programme.id });\n      });\n      return select_options;\n    },\n\n    searchCards() {\n      return this.cards.filter((card) => {\n        let cardPO = card.PO_number;\n        if (cardPO == null) {\n          return;\n        } else if (cardPO.toLowerCase().match(this.search.toLowerCase())) {\n          return card;\n        }\n      });\n    },\n  },\n\n  mounted() {\n    this.$store.dispatch(\"getProgrammes\");\n    this.$store.dispatch(\"getCards\");\n  },\n};\n</script>\n\n<style scoped>\n.adminContainer {\n  color: grey;\n}\n\n.theme--light.v-data-table {\n  background-color: #f5f5f5;\n}\n\n.theme--light.v-data-table.v-data-table--fixed-header thead th {\n  background-color: #f5f5f5;\n}\n\n.red {\n  background-color: red;\n}\n\n.yellow {\n  background-color: yellow;\n}\n\n.blue {\n  background-color: blue;\n}\n\n.addFieldBtn {\n  background-color: #37474f !important;\n}\n\n.adminRow {\n  margin-top: 2rem;\n}\n\n.v-card-text {\n  padding: 2rem;\n  padding-bottom: 0rem;\n}\n\n.v-card-actions {\n  padding-bottom: 1rem;\n  padding-right: 2rem;\n}\n\n.list-item {\n  border: solid 1px gray;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Admin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Admin.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Admin.vue?vue&type=template&id=27ff074c&scoped=true&\"\nimport script from \"./Admin.vue?vue&type=script&lang=js&\"\nexport * from \"./Admin.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Admin.vue?vue&type=style&index=0&id=27ff074c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"27ff074c\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VContainer,VList,VListItem,VListItemContent,VListItemGroup,VListItemSubtitle,VListItemTitle,VRow,VSelect,VTextField})\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar sameValue = require('../internals/same-value');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@search logic\nfixRegExpWellKnownSymbolLogic('search', 1, function (SEARCH, nativeSearch, maybeCallNative) {\n  return [\n    // `String.prototype.search` method\n    // https://tc39.es/ecma262/#sec-string.prototype.search\n    function search(regexp) {\n      var O = requireObjectCoercible(this);\n      var searcher = regexp == undefined ? undefined : regexp[SEARCH];\n      return searcher !== undefined ? searcher.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));\n    },\n    // `RegExp.prototype[@@search]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@search\n    function (regexp) {\n      var res = maybeCallNative(nativeSearch, regexp, this);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var previousLastIndex = rx.lastIndex;\n      if (!sameValue(previousLastIndex, 0)) rx.lastIndex = 0;\n      var result = regExpExec(rx, S);\n      if (!sameValue(rx.lastIndex, previousLastIndex)) rx.lastIndex = previousLastIndex;\n      return result === null ? -1 : result.index;\n    }\n  ];\n});\n"],"sourceRoot":""}